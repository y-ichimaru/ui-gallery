{"version":3,"sources":["webpack://build/webpack/universalModuleDefinition","webpack://build/webpack/bootstrap","webpack://build/./node_modules/skyway-js/dist/skyway.js","webpack://build/./src/components/ColorPaletteFlyout.vue?6b29","webpack://build/./src/components/FileDropArea.vue?4ad2","webpack://build/external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://build/./src/components/SplitView.vue?a1d2","webpack://build/./src/components/ItemWrapGrid.vue?1ef0","webpack://build/./src/components/ColorPalette.vue?aaf0","webpack://build/./src/components/FileDropAreaCompact.vue?1323","webpack://build/./src/components/DragableBox.vue?cddd","webpack://build/./node_modules/current-script-polyfill/currentScript.js","webpack://build/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://build/./src/components/ColorPalette.vue?0e4e","webpack://build/./node_modules/tslib/tslib.es6.js","webpack://build/./node_modules/vue-property-decorator/node_modules/vue-class-component/dist/vue-class-component.esm.js","webpack://build/./node_modules/vue-property-decorator/lib/vue-property-decorator.js","webpack://build/./src/components/ColorPalette.vue","webpack://build/./src/components/ColorPalette.vue?f315","webpack://build/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://build/./src/components/ColorPalette.vue?8499","webpack://build/./src/components/ColorPaletteFlyout.vue?8334","webpack://build/./src/components/ColorPaletteFlyout.vue","webpack://build/./src/components/ColorPaletteFlyout.vue?b110","webpack://build/./src/components/ColorPaletteFlyout.vue?4704","webpack://build/./src/components/DragableBox.vue?f112","webpack://build/./src/libs/UI/DragableBox.ts","webpack://build/src/components/DragableBox.vue","webpack://build/./src/components/DragableBox.vue?a845","webpack://build/./src/components/DragableBox.vue?3822","webpack://build/./src/components/DateTimeText.vue?edbd","webpack://build/./src/components/DateTimeText.vue","webpack://build/./src/components/DateTimeText.vue?4110","webpack://build/./src/components/DateTimeText.vue?cb12","webpack://build/./src/components/DateText.vue?5d41","webpack://build/./src/components/DateText.vue","webpack://build/./src/components/DateText.vue?e067","webpack://build/./src/components/DateText.vue?4617","webpack://build/./src/components/DialogBase.vue","webpack://build/./src/components/DialogBase.vue?a631","webpack://build/./src/components/DialogBase.vue?52d6","webpack://build/./src/components/ConfirmDialog.vue?d181","webpack://build/./src/components/ConfirmDialog.vue","webpack://build/./src/components/ConfirmDialog.vue?12ec","webpack://build/./src/components/ConfirmDialog.vue?427f","webpack://build/./src/components/ConfirmDialogContent.ts","webpack://build/./src/components/ElapsedTimeClock.vue?34f9","webpack://build/src/components/ElapsedTimeClock.vue","webpack://build/./src/components/ElapsedTimeClock.vue?1062","webpack://build/./src/components/ElapsedTimeClock.vue","webpack://build/./src/components/VolumeIndicator.vue?aeba","webpack://build/src/components/VolumeIndicator.vue","webpack://build/./src/components/VolumeIndicator.vue?781e","webpack://build/./src/components/VolumeIndicator.vue","webpack://build/./src/components/ItemWrapGrid.vue?526e","webpack://build/./src/components/ItemWrapGrid.vue","webpack://build/./src/components/ItemWrapGrid.vue?3d0c","webpack://build/./src/components/ItemWrapGrid.vue?60dd","webpack://build/./src/components/ContextMenu.vue?4e91","webpack://build/./src/components/ContextMenu.vue","webpack://build/./src/libs/utilities/BrowserUtility.ts","webpack://build/./src/components/ContextMenu.vue?840a","webpack://build/./src/components/ContextMenu.vue?c9fa","webpack://build/./src/components/NetworkTester.vue?450d","webpack://build/./src/components/NetworkTester.vue","webpack://build/./src/components/NetworkTester.vue?8c0d","webpack://build/./src/components/NetworkTester.vue?e443","webpack://build/./src/components/AudioOutputTester.vue?d597","webpack://build/./src/components/AudioOutputTester.vue","webpack://build/./src/components/AudioOutputTester.vue?8bdd","webpack://build/./src/components/AudioOutputTester.vue?9786","webpack://build/./src/components/AudioTester.vue?d1c8","webpack://build/./src/components/AudioTester.vue","webpack://build/./src/components/AudioTester.vue?3ea1","webpack://build/./src/components/AudioTester.vue?b0bc","webpack://build/./src/components/FileDropArea.vue?93ce","webpack://build/./src/components/FileDropArea.vue","webpack://build/./src/components/FileDropArea.vue?5c0d","webpack://build/./src/components/FileDropArea.vue?ecd8","webpack://build/./src/components/FileDropAreaCompact.vue?18f1","webpack://build/./src/components/FileDropAreaCompact.vue","webpack://build/./src/components/FileDropAreaCompact.vue?789a","webpack://build/./src/components/FileDropAreaCompact.vue?eeb8","webpack://build/./src/components/SplitView.vue?3772","webpack://build/./src/components/SplitView.vue","webpack://build/./src/components/SplitView.vue?a923","webpack://build/./src/components/SplitView.vue?4d19","webpack://build/./src/libs/Core/Delegate.ts","webpack://build/./src/libs/logger.ts","webpack://build/./src/libs/WebRtc/DeviceStreamManager.ts","webpack://build/./src/libs/WebSocket/WebSocket.ts","webpack://build/./src/libs/utilities/StringUtility.ts","webpack://build/./src/libs/WebRtc/WebRtcConfig.ts","webpack://build/./src/libs/WebRtc/ScreenShareRoom.ts","webpack://build/./src/libs/utilities/StringToHexEncoderUtility.ts","webpack://build/./src/libs/WebRtc/VideoChatRoom.ts","webpack://build/./node_modules/@vue/cli-service/lib/commands/build/entry-lib-no-default.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__8bbf__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","after","count","callback","err_cb","bail","noop","proxy","err","result","Error","arraybuffer","start","end","bytes","byteLength","slice","ArrayBuffer","abv","Uint8Array","ii","buffer","Backoff","opts","ms","min","max","factor","jitter","attempts","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter","chars","lookup","length","charCodeAt","encode","len","base64","substring","decode","encoded1","encoded2","encoded3","encoded4","bufferLength","toByteArray","fromByteArray","revLookup","Arr","Array","code","getLens","b64","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","output","push","join","extraBytes","parts","maxChunkLength","len2","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","a","Blob","size","e","blobSupportsArrayBufferView","b","blobBuilderSupported","append","getBlob","mapArrayBufferViews","ary","map","chunk","buf","copy","set","byteOffset","BlobBuilderConstructor","options","bb","forEach","part","type","BlobConstructor","obj","fn","args","arguments","apply","concat","Emitter","mixin","on","addEventListener","event","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","cb","callbacks","splice","emit","listeners","hasListeners","constructor","process","useColors","__nwjs","navigator","userAgent","toLowerCase","match","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","formatArgs","namespace","humanize","diff","color","index","lastC","replace","log","save","namespaces","storage","setItem","removeItem","error","load","getItem","env","DEBUG","localstorage","localStorage","colors","formatters","j","v","JSON","stringify","message","setup","selectColor","hash","createDebug","abs","prevTime","debug","enabled","curr","Number","Date","prev","coerce","unshift","format","formatter","val","logFn","destroy","extend","init","instances","delimiter","newDebug","enable","names","skips","split","substr","instance","disable","toNamespace","test","regexp","toString","stack","default","keys","token","singleMatcher","multiMatcher","decodeComponents","components","decodeURIComponent","left","right","input","tokens","customDecodeURIComponent","replaceMap","exec","entries","encodedURI","TypeError","__spreadArrays","il","k","jl","BrowserInfo","version","os","NodeInfo","platform","BotInfo","bot","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","parseUserAgent","getNodeVersion","ua","matchedRule","reduce","matched","_a","browser","regex","uaMatch","versionParts","createVersionParts","detectOS","isNode","parser","transports","parseuri","parseqs","Socket","uri","hostname","host","secure","protocol","port","query","location","agent","upgrade","path","forceJSONP","jsonp","forceBase64","enablesXDR","withCredentials","timestampParam","timestampRequests","transportOptions","readyState","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","undefined","forceNode","isReactNative","product","extraHeaders","localAddress","id","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","open","clone","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","socket","requestTimeout","protocols","setTimeout","shift","setTransport","onDrain","packet","onPacket","onError","onClose","probe","failed","onTransportOpen","upgradeLosesBinary","supportsBinary","send","data","msg","upgrading","pause","cleanup","flush","freezeTransport","close","onerror","onTransportClose","onclose","onupgrade","to","onOpen","onHandshake","parse","setPing","filterUpgrades","onHeartbeat","timeout","clearTimeout","ping","sendPacket","writable","write","compress","waitForUpgrade","cleanupAndClose","reason","desc","filteredUpgrades","description","doOpen","doClose","packets","onData","decodePacket","XMLHttpRequest","XHR","JSONP","websocket","polling","xhr","xd","xs","isSSL","xdomain","xscheme","global","Polling","inherit","JSONPPolling","rNewline","rEscapedNewline","empty","glob","___eio","script","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","isUAgecko","doWrite","area","iframeId","className","position","top","target","method","setAttribute","complete","initIframe","html","action","submit","attachEvent","onreadystatechange","onload","Request","isBinary","request","req","sendXhr","pollXhr","setDisableHeaderCheck","setRequestHeader","hasXDR","onLoad","responseText","contentType","getResponseHeader","responseType","status","requestsCount","requests","onSuccess","fromError","abort","response","XDomainRequest","unloadHandler","terminationEvent","yeast","hasXHR2","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","ipv6","Buffer","BrowserWebSocket","NodeWebSocket","WebSocket","MozWebSocket","WebSocketImpl","WS","usingBrowserWebSocket","check","headers","ws","supports","binary","addEventListeners","onopen","onmessage","ev","encodePacket","done","hasCORS","base64encoder","hasBinary","sliceBuffer","utf8","isAndroid","isPhantomJS","dontSendBlobs","pong","packetslist","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","blob","tryDecode","strict","each","next","eachWithIndex","el","utf8encode","encoded","String","b64data","readAsDataURL","fromCharCode","typed","basic","btoa","utf8decode","charAt","decodeBase64Packet","asArray","rest","encodePayloadAsBlob","encodePayloadAsArrayBuffer","setLengthHeader","encodeOne","doneCallback","results","decodePayloadAsBinary","chr","ret","encodedPackets","totalLength","acc","resultArray","bufferIndex","isString","ab","view","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","tailArray","msgLength","has","byteArray","byteCount","byteIndex","stringFromCharCode","ucs2decode","string","extra","counter","ucs2encode","array","checkScalarValue","codePoint","toUpperCase","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","continuationByte","decodeSymbol","byte1","byte2","byte3","byte4","_interopRequire","_classCallCheck","Constructor","EnumItem","isBuffer","endianness","Enum","_this","indirection","_options","separator","ignoreCase","freez","enums","_enumLastIndex","member","guardReservedKeys","_enumMap","getLowerCaseEnums","res","isFlaggable","freezeEnums","getKey","item","getValue","offset","isEnumItem","foundIndex","envSupportsFreezing","isFrozen","isSealed","getOwnPropertyNames","getOwnPropertyDescriptor","defineProperties","__defineGetter__","__defineSetter__","freezer","props","configurable","getPropertyValue","deepFreezeEnums","freeze","toJSON","exponent","register","reservedKeys","customName","_isType","isObject","is","valueOf","find","isType","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","Function","ProcessEmitWarning","warning","warn","ownKeys","getOwnPropertySymbols","NumberIsNaN","isNaN","EventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","listener","prepend","events","existing","newListener","warned","w","emitter","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","spliceOne","list","pop","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","handler","addListener","prependListener","prependOnceListener","originalListener","rawListeners","eventNames","isArray","withNativeBlob","withNativeFile","File","read","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","rt","LN2","isSlowBuffer","readFloatLE","_isBuffer","BufferBuilder","binaryFeatures","BinaryPack","unpack","unpacker","Unpacker","pack","packer","Packer","getBuffer","dataBuffer","dataView","bufferBuilder","_utf8Replace","utf8Length","str","unpack_uint8","positive_fixnum","negative_fixnum","unpack_raw","unpack_string","unpack_array","unpack_map","unpack_float","unpack_double","unpack_uint16","unpack_uint32","unpack_uint64","unpack_int8","unpack_int16","unpack_int32","unpack_int64","byte","uint16","uint32","uint64","objects","sign","exp","fraction","h32","l32","hfrac","frac","subarray","pack_string","pack_integer","pack_double","pack_array","pack_bin","useArrayBufferView","pack_object","toBinaryPack","pack_uint8","pack_uint16","pack_uint32","pack_int8","pack_int16","pack_int32","pack_int64","pack_uint64","frac0","frac1","b32","prop","high","low","useBlobBuilder","_pieces","_parts","builder","h","y","parseFloat","fmtShort","msAbs","round","fmtLong","plural","isPlural","isFinite","long","ieee754","typedArraySupport","__proto__","foo","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","encodingOrOffset","allocUnsafe","from","fromArrayBuffer","fromString","fromObject","assertSize","alloc","fill","encoding","checked","isEncoding","actual","fromArrayLike","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","compare","x","pos","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","MAX_ARGUMENTS_LENGTH","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","leadSurrogate","hi","lo","dst","STRING","BOOLEAN","NUMBER","ECMA_SIZES","sizeOfObject","sizeof","ex","objectType","encodeURIComponent","qs","qry","pairs","pair","re","source","authority","ipv6uri","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","Item","nextTick","title","argv","versions","binding","cwd","chdir","umask","strictUriEncode","decodeComponent","splitOnFirst","encoderForArrayFormat","arrayFormat","skipNull","parserForArrayFormat","accumulator","newValue","keysSorter","sort","removeHash","hashStart","extract","queryStart","parseValue","parseNumbers","parseBooleans","assign","param","Boolean","objectCopy","filter","parseUrl","url","arrayEquals","Interop","transform","cache","mlB2UMap","mlU2BMap","candidateToUnifiedPlan","candidate","cand","RTCIceCandidate","sdpMLineIndex","candidateToPlanB","sdpMid","getFirstSendingIndexFromAnswer","answer","session","media","direction","toPlanB","sdp","every","mid","rewrite","uLine","rtp","codec","offer","type2bl","types","directionResult","rtcpMux","sources","ssrc","msid","ssrcGroups","directionMasks","bundleOnly","groups","some","group","mids","msidSemantic","semantic","resStr","RTCSessionDescription","toUnifiedPlan","cached","hasBundle","g","recvonlySsrcs","audio","video","mid2ul","bIdx","uIdx","bLine","candidates","iceUfrag","icePwd","fingerprint","ssrc2group","ssrcGroup","semantics","ssrcs","ssrc2ml","related","idx","mLine","attribute","grammar","reg","u","z","rate","address","subtype","config","sessionConfig","raddr","tcptype","generation","maxMessageSize","dir2","objs","writer","parseFmtpConfig","parseParams","parsePayloads","parseRemoteCandidates","parseImageAttributes","parseSimulcastStreamList","toIntIfInt","attachProperties","rawName","parseReg","content","needsBlank","keyLocation","validLine","fmtp","paramReducer","expr","component","ip","stream","scid","paused","formatRegExp","formatStr","makeLine","defaultOuterOrder","defaultInnerOrder","payloads","outerOrder","innerOrder","clksrcExt","mediaClockValue","rateNumerator","rateDenominator","Manager","managers","io","sameNamespace","nsps","newConnection","forceNew","multiplex","connect","eio","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","connecting","lastPing","packetBuffer","_parser","encoder","Encoder","decoder","Decoder","autoConnect","emitAll","nsp","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","reconnecting","reconnect","skipReconnect","openSub","errorSub","timer","onping","onpong","ondata","add","ondecoded","onConnecting","processPacketQueue","subsLength","disconnect","delay","onreconnect","attempt","toArray","hasBin","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","flags","subEvents","BINARY_EVENT","EVENT","CONNECT","onpacket","rootNamespaceError","ERROR","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ack","sent","emitBuffered","loc","href","isBuf","_deconstructPacket","placeholder","_placeholder","newData","_reconstructPacket","deconstructPacket","packetData","attachments","reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","ERROR_PACKET","encodeAsString","payload","tryStringify","encodeAsBinary","writeEncoding","deconstruction","reconstructor","decodeString","tryParse","isPayloadValid","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","withNativeBuffer","withNativeArrayBuffer","chrome","local","ceil","separatorIndex","alphabet","seed","decoded","now","__webpack_exports__","events_default","node_modules_enum","enum_default","lib","lib_default","query_string","query_string_default","DISPATCHER_HOST","DISPATCHER_PORT","DISPATCHER_SECURE","DISPATCHER_TIMEOUT","TURN_HOST","TURN_PORT","MESSAGE_TYPES","CLIENT","SERVER","maxChunkSize","numberServersToTry","sendInterval","defaultConfig","iceServers","urls","iceTransportPolicy","LOG_PREFIX","LogLevel","NONE","WARN","FULL","Logger","_logLevel","LOG_LEVELS","level","debugLevel","logger","package_0","socket_Socket","super","_isOpen","_isPeerIdSet","_queue","_io","_key","_reconnectAttempts","httpProtocol","signalingServerUrl","dispatcherHost","dispatcherPort","dispatcherSecure","_dispatcherUrl","credential","encodedCredentialStr","serverInfo","_getSignalingServer","_stopPings","_connectToNewServer","_setupMessageHandlers","numAttempts","maxNumberOfAttempts","Promise","resolve","reject","http","onabort","ontimeout","domain","isOpen","newCredential","parseQuery","UPDATE_CREDENTIAL","OPEN","openMessage","peerId","_startPings","_sendQueuedMessages","_pingIntervalId","setInterval","PING","clearInterval","sdp_transform_lib","sdp_transform_lib_default","sdp_interop_lib","sdpUtil_SdpUtil","interop","oldSdp","msids","Set","msidRegexp","matches","newSdp","bandwidth","_validateBandwidth","_addBandwidth","_filterCodec","line","startsWith","mediaType","sdpObject","payloadNumbers","rtcpFb","sdpUtil","NegotiatorEvents","negotiator_Negotiator","_offerQueue","_isExpectingAnswer","_replaceStreamCalled","_isNegotiationAllowed","hasRemoteDescription","_pc","_createPeerConnection","pcConfig","_setupPCListeners","originator","_audioBandwidth","audioBandwidth","_videoBandwidth","videoBandwidth","_audioCodec","audioCodec","_videoCodec","videoCodec","_type","vTracks","getVideoTracks","aTracks","getAudioTracks","recvonlyState","_getReceiveOnlyState","track","addTrack","addTransceiver","label","dcInit","dc","createDataChannel","EVENTS","dcCreated","handleOffer","newStream","senders","getSenders","vSender","sender","kind","aSender","_updateSenderWithTrack","replaceTrack","removeTrack","offerSdp","_lastOffer","signalingState","_setRemoteDescription","_makeAnswerSdp","catch","answerCreated","answerSdp","onnegotiationneeded","addIceCandidate","then","sdpSemantics","RTCPeerConnection","pc","ontrack","evt","streams","addStream","ondatachannel","channel","onicecandidate","iceCandidate","oniceconnectionstatechange","iceConnectionState","iceConnectionFailed","onconnectionstatechange","connectionState","_makeOfferSdp","_setLocalDescription","negotiationNeeded","onsignalingstatechange","createOffer","addAudioBandwidth","addVideoBandwidth","filterAudioCodec","filterVideoCodec","createAnswer","setLocalDescription","offerCreated","setRemoteDescription","hasStream","MediaStream","hasAudioTrack","hasVideoTrack","audioReceiveEnabled","videoReceiveEnabled","negotiator","detect_browser","validateId","validateKey","randomId","keyLength","randString","randomToken","joinArrayBuffers","sum","tmpArray","currPos","blobToArrayBuffer","isSecure","detectBrowser","major","minor","patch","isPlanBSafari","RTCRtpTransceiver","util","ConnectionEvents","connection_Connection","remoteId","metadata","_negotiator","_idPrefix","_randomIdSuffix","_setupNegotiatorMessageHandlers","connectionId","answerMessage","_pcAvailable","handleAnswer","_handleQueuedMessages","_queuedMessages","ANSWER","candidateMessage","handleCandidate","CANDIDATE","offerMessage","forceClose","connectionAnswer","connectionType","connectionOffer","serialization","connectionCandidate","peer_connection","binarypack","binarypack_default","object_sizeof","object_sizeof_default","DCEvents","DCSerializations","dataConnection_DataConnection","_isOnOpenCalled","SERIALIZATIONS","_isUnreliableDCInit","_sendBuffer","_receivedData","queuedMessages","_dc","startConnection","_handleDataMessage","none","dataMeta","currData","mimeType","totalParts","receivedParts","unpackedData","finalData","_startSendLoop","packedData","chunkSize","numSlices","sliceIndex","currMsg","dataConnection","MCEvents","mediaConnection_MediaConnection","localStream","replaceStream","remoteStream","mediaConnection","Events","MessageEvents","RoomEvents","RoomMessageEvents","room_Room","_peerId","_localStream","_pcConfig","dataMessage","logs","roomName","MESSAGE_EVENTS","getLog","peer_room","sfuRoom_MessageEvents","SFUEvents","SFUMessageEvents","sfuRoom_SFURoom","remoteStreams","members","_open","_msidMap","_unknownStreams","offerRequest","unifiedToPlanB","_connectionStarted","cachedStream","offerRequestMessage","ensureUnifiedPlan","joinMessage","roomMembers","peerJoin","leaveMessage","peerLeave","broadcast","leave","peer_sfuRoom","meshRoom_MessageEvents","MeshEvents","MeshMessageEvents","meshRoom_MeshRoom","connections","getPeers","peerIds","_makeConnections","_deleteConnections","connection","_getConnection","updateOffer","_addConnection","conn","peer_meshRoom","PeerEvents","peer_Peer","rooms","defaultOptions","turn","setLogLevel","_initializeServerConnection","_abort","_checkOpenStatus","mc","roomOptions","_initializeSfuRoom","_initializeFullMeshRoom","_cleanup","updateCredential","_emitNotConnectedError","sfuRoom","_setupSFURoomMessageHandlers","roomType","ROOM_JOIN","meshRoom","_setupMeshRoomMessageHandlers","turnCredential","turnUserName","turnPassword","username","turnCombinations","turnType","iceServer","LEAVE","_cleanupPeer","FORCE_CLOSE","getConnection","AUTH_EXPIRES_IN","remainingSec","expiresin","OFFER","room","_storeMessage","ROOM_USER_JOIN","roomUserJoinMessage","handleJoin","ROOM_USER_LEAVE","roomUserLeaveMessage","handleLeave","ROOM_DATA","roomDataMessage","handleData","ROOM_LOGS","roomLogMessage","handleLog","ROOM_USERS","roomUserListMessage","makeMediaConnections","userList","makeDataConnections","SFU_OFFER","updateMsidMap","SEND_CANDIDATE","SEND_ANSWER","SEND_OFFER","forceCloseMessage","SEND_FORCE_CLOSE","sendMessage","ROOM_SEND_DATA","getLogMessage","ROOM_GET_LOGS","ROOM_LEAVE","_setupRoomMessageHandlers","SFU_GET_OFFER","SFU_ANSWER","SFU_CANDIDATE","requestMessage","ROOM_GET_USERS","_setupConnectionMessageHandlers","peer","0","currentScript","scripts","render","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","ref","_g","minWidth","buttonWidth","width","background","backgroundColor","staticClass","itemSize","margin","column","padding","_l","active","toggle","directives","class","staticStyle","height","$event","$emit","staticRenderFns","__decorate","decorators","decorate","reflectionIsSupported","defineMetadata","getOwnMetadataKeys","copyReflectionMetadata","forwardMetadata","propertyKey","metaKeys","metaKey","getOwnMetadata","fakeArray","hasProto","createDecorator","Ctor","__decorators__","mixins","Ctors","_i","isPrimitive","collectDataFromConstructor","vm","Component","originalInit","_init","$options","plainData","$internalHooks","componentFactory","_componentTag","proto","descriptor","methods","computed","superProto","Super","Extended","forwardStaticMembers","shouldIgnore","callee","caller","Original","extendedDescriptor","superDescriptor","registerHooks","reflectMetadataIsSupported","getMetadata","applyMetadata","Prop","componentOptions","defaultColors","$forceUpdate","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","shadowRoot","_injectStyles","originalRender","beforeCreate","_t","isFixed","dragableBox","isOverlapedTriggerBox","bottom","fixed","display","transition","isDragging","isHeaderOpend","openedHeaderHeight","closedHeaderHeight","headerColor","currentTarget","onBeginMove","_v","border","cursor","userSelect","value1","value2","DragableBox","dragableBoxElement","triggerBoxElement","onDragableBoxElementFixed","isMoving","videoViewX","videoViewY","offsetX","offsetY","isVideoBoxFixed","_isOverlapedTriggerBox","onEndMove","rect","getBoundingClientRect","innerWidth","innerHeight","onMove","passive","clientX","changedTouches","clientY","isCollisionEnter","preventDefault","rect1","rect2","beginMove","$refs","videoBox","applyVideoFixed","dropVideoBox","domProps","_s","displayHtml","DAYS","date","text","dateStr","getFullYear","getMonth","getDate","getDay","getHours","getMinutes","isShow","model","$$v","expression","cancelText","okText","_e","ConfirmDialogContent","_m","intervalId","getTime","daySec","isEnabled","indicatorCount","span","emptyColor","audioContext","watch","kill","begin","analyzer","createAnalyzer","canvas","clientWidth","clientHeight","getContext","rectItemWidth","roundRect","ctx","radius","stroke","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","clearRect","fillStyle","spectrums","frequencyBinCount","getByteFrequencyData","_AudioContext","AudioContext","webkitAudioContext","createAnalyser","microphone","createMediaStreamSource","smoothingTimeConstant","fftSize","onResize","columnCount","$el","breakWidths","$nextTick","menu","querySelector","BrowserType","getNetworkSpeed","getMessage2","getMessage","BrowserUtility","applyType","browserType","None","Edge","FireFox","Chrome","Safari","ontouchstart","ios","iPad","Android","hasFlag","downlink","speed","playAudioTest","Audio","play","isAudioEnabled","VolumeIndicator","isDragOverring","onDragOver","drop","onDragLeave","dataTransfer","file","files","gridTemplateColumns","isVertical","splitWidth","handleSize","gridTemplateRows","startDrag","defaultSplitWidth","onMouseMove","onMouseUp","container","movementY","maxWidth","movementX","MAX_SAFE_INTEGER","MultiCastDelegate","_isDisposed","callees","params","contains","LogType","onTraceHandler","trace","onErrorHandler","onInfoHandler","info","onLogHandler","onWarnHandler","Log","globalThis","VirtualVideoStreamGenerator","_stream","canvasElement","imageElement","getElementById","naturalWidth","naturalHeight","canvasStream","captureStream","drawImage","isGenerateVirtualAudioTrack","isGenerateVirtualVideoTrack","_isVideoEnabled","_isAudioEnabled","_id","_audioContexts","aTrack","vTrack","srcStream","applyEffect","isEnable","tracks","isApplyAudioEffect","virtualAudioStream","createMediaStreamDestination","virtualStream","getVirtualVideoStream","applyAudioFilter","biquadFilter","createBiquadFilter","frequency","biquadFilter2","mediaStreamSource","dstStreamNode","isGeberateVirtualAudioTrack","getTracks","stop","CanvasCaptureMediaStreamTrack","DeviceInfo","DeviceList","audioDeviceList","videoDeviceList","outputDeviceList","isAllowed","DeviceStreamManager","deviceStreamList","dispose","streamWrapper","mediaDevices","getDisplayMedia","frameRate","deviceStream","isVideoEnabled","isAudioEnebled","videoDeviceId","audioDeviceId","facingMode","quality","getUserMedia","deviceId","exact","audioGainControl","echoCancellation","noiseSuppression","echoCancellationType","deviceList","deviceInfos","enumerateDevices","WebSocketData","_onDataRecieved","_isConnecting","dataStr","getUrlParameter","search","keyVal","VIDEO_CODEC_TYPES","VP8","VP9","H264","SCREEN_SHARE_PEER_MODE","VIDEO_CHAT_PEER_MODE","MAX_MEMBER_COUNT","MAX_SCREEN_SHARE_COUNT","VIDEO_CODEC","AUDIO_CODEC","VIDEO_CHAT_SCREEN_WIDTH","VIDEO_CHAT_SCREEN_HEIGHT","MediaErrorMessages","AbortError","NotAllowedError","NotFoundError","NotReadableError","OverconstrainedError","SecurityError","SourceUnavailableError","ScreenShareBase","apiKey","skywayPeer","skywayRoom","oninactive","joinRoom","mediaStream","isDisposed","onRecieveStreamHandler","onLeftStremHandler","invoke","_screenShareServer","_screenShareTransmitter","_apiKey","_roomName","_screenShareCount","_isTransmitStreamEnabled","_displayStreamList","_onDisplayStreamListChanged","removeFromDisplayStreamList","transmitter","isSuccess","addScreenShare","onDisplayStreamListChanged","streamList","StringToHexEncoderUtility","encodeStringToHex","getRamdomString","decodeStringFromHex","cl","hexStringToBytes","utf8BytesToString","stringToUtf8Bytes","hexStr","bytesToHexString","hexToByte","byteToHex","byteNum","digits","PeerStream","_memberCount","_nickName","_skywayPeer","_skywayRoom","_bufferStream","_roomKey","nickName","generatePeerId"],"mappings":"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","file":"build.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"build\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"build\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fae3\");\n","/*!\n * SkyWay Copyright(c) 2020 NTT Communications Corporation\n * peerjs Copyright(c) 2013 Michelle Bu <michelle@michellebu.com>\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Peer\"] = factory();\n\telse\n\t\troot[\"Peer\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/peer.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/after/index.js\":\n/*!*************************************!*\\\n  !*** ./node_modules/after/index.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n\n/***/ }),\n\n/***/ \"./node_modules/arraybuffer.slice/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/arraybuffer.slice/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/backo2/index.js\":\n/*!**************************************!*\\\n  !*** ./node_modules/backo2/index.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n\n/***/ }),\n\n/***/ \"./node_modules/base64-js/index.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/base64-js/index.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/blob/index.js\":\n/*!************************************!*\\\n  !*** ./node_modules/blob/index.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\r\n * Create a blob builder even when vendor prefixes exist\r\n */\r\n\r\nvar BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\r\n  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :\r\n  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\r\n  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : \r\n  false;\r\n\r\n/**\r\n * Check if Blob constructor is supported\r\n */\r\n\r\nvar blobSupported = (function() {\r\n  try {\r\n    var a = new Blob(['hi']);\r\n    return a.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if Blob constructor supports ArrayBufferViews\r\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n */\r\n\r\nvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n  try {\r\n    var b = new Blob([new Uint8Array([1,2])]);\r\n    return b.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if BlobBuilder is supported\r\n */\r\n\r\nvar blobBuilderSupported = BlobBuilder\r\n  && BlobBuilder.prototype.append\r\n  && BlobBuilder.prototype.getBlob;\r\n\r\n/**\r\n * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n * Used by BlobBuilder constructor and old browsers that didn't\r\n * support it in the Blob constructor.\r\n */\r\n\r\nfunction mapArrayBufferViews(ary) {\r\n  return ary.map(function(chunk) {\r\n    if (chunk.buffer instanceof ArrayBuffer) {\r\n      var buf = chunk.buffer;\r\n\r\n      // if this is a subarray, make a copy so we only\r\n      // include the subarray region from the underlying buffer\r\n      if (chunk.byteLength !== buf.byteLength) {\r\n        var copy = new Uint8Array(chunk.byteLength);\r\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n        buf = copy.buffer;\r\n      }\r\n\r\n      return buf;\r\n    }\r\n\r\n    return chunk;\r\n  });\r\n}\r\n\r\nfunction BlobBuilderConstructor(ary, options) {\r\n  options = options || {};\r\n\r\n  var bb = new BlobBuilder();\r\n  mapArrayBufferViews(ary).forEach(function(part) {\r\n    bb.append(part);\r\n  });\r\n\r\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n};\r\n\r\nfunction BlobConstructor(ary, options) {\r\n  return new Blob(mapArrayBufferViews(ary), options || {});\r\n};\r\n\r\nif (typeof Blob !== 'undefined') {\r\n  BlobBuilderConstructor.prototype = Blob.prototype;\r\n  BlobConstructor.prototype = Blob.prototype;\r\n}\r\n\r\nmodule.exports = (function() {\r\n  if (blobSupported) {\r\n    return blobSupportsArrayBufferView ? Blob : BlobConstructor;\r\n  } else if (blobBuilderSupported) {\r\n    return BlobBuilderConstructor;\r\n  } else {\r\n    return undefined;\r\n  }\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/component-bind/index.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/component-bind/index.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/component-emitter/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/component-emitter/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (true) {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/component-inherit/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/component-inherit/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/debug/src/browser.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/debug/src/browser.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/debug/src/common.js\")(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/debug/src/common.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/debug/src/common.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n\n\n/***/ }),\n\n/***/ \"./node_modules/decode-uri-component/index.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/decode-uri-component/index.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/detect-browser/index.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/detect-browser/index.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n    }\n    return BrowserInfo;\n}());\nexports.BrowserInfo = BrowserInfo;\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexports.NodeInfo = NodeInfo;\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexports.BotInfo = BotInfo;\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['vivaldi', /Vivaldi\\/([0-9\\.]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /Edg\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n    ['Search Bot', SEARCHBOT_OS_REGEX],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nexports.detect = detect;\nfunction parseUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    var matchedRule = ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    return new BrowserInfo(name, versionParts.join('.'), detectOS(ua));\n}\nexports.parseUserAgent = parseUserAgent;\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.test(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexports.detectOS = detectOS;\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nexports.getNodeVersion = getNodeVersion;\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/index.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/index.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nmodule.exports = __webpack_require__(/*! ./socket */ \"./node_modules/engine.io-client/lib/socket.js\");\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/lib/browser.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/socket.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/socket.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Module dependencies.\n */\n\nvar transports = __webpack_require__(/*! ./transports/index */ \"./node_modules/engine.io-client/lib/transports/index.js\");\nvar Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('engine.io-client:socket');\nvar index = __webpack_require__(/*! indexof */ \"./node_modules/indexof/index.js\");\nvar parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/lib/browser.js\");\nvar parseuri = __webpack_require__(/*! parseuri */ \"./node_modules/parseuri/index.js\");\nvar parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/parseqs/index.js\");\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (typeof location !== 'undefined' && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (typeof location !== 'undefined' ? location.hostname : 'localhost');\n  this.port = opts.port || (typeof location !== 'undefined' && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.withCredentials = false !== opts.withCredentials;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // detect ReactNative environment\n  this.isReactNative = (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative');\n\n  // other options for Node.js or ReactNative client\n  if (typeof self === 'undefined' || this.isReactNative) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = __webpack_require__(/*! ./transport */ \"./node_modules/engine.io-client/lib/transport.js\");\nSocket.transports = __webpack_require__(/*! ./transports/index */ \"./node_modules/engine.io-client/lib/transports/index.js\");\nSocket.parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/lib/browser.js\");\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    withCredentials: options.withCredentials || this.withCredentials,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0),\n    isReactNative: this.isReactNative\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transport.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transport.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Module dependencies.\n */\n\nvar parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/lib/browser.js\");\nvar Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n  this.withCredentials = opts.withCredentials;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // results of ReactNative environment detection\n  this.isReactNative = opts.isReactNative;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/index.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/index.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\");\nvar XHR = __webpack_require__(/*! ./polling-xhr */ \"./node_modules/engine.io-client/lib/transports/polling-xhr.js\");\nvar JSONP = __webpack_require__(/*! ./polling-jsonp */ \"./node_modules/engine.io-client/lib/transports/polling-jsonp.js\");\nvar websocket = __webpack_require__(/*! ./websocket */ \"./node_modules/engine.io-client/lib/transports/websocket.js\");\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/polling-jsonp.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/polling-jsonp.js ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Module requirements.\n */\n\nvar Polling = __webpack_require__(/*! ./polling */ \"./node_modules/engine.io-client/lib/transports/polling.js\");\nvar inherit = __webpack_require__(/*! component-inherit */ \"./node_modules/component-inherit/index.js\");\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * Until https://github.com/tc39/proposal-global is shipped.\n */\nfunction glob () {\n  return typeof self !== 'undefined' ? self\n      : typeof window !== 'undefined' ? window\n      : typeof global !== 'undefined' ? global : {};\n}\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    var global = glob();\n    callbacks = global.___eio = (global.___eio || []);\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (typeof addEventListener === 'function') {\n    addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/polling-xhr.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/polling-xhr.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* global attachEvent */\n\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\");\nvar Polling = __webpack_require__(/*! ./polling */ \"./node_modules/engine.io-client/lib/transports/polling.js\");\nvar Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nvar inherit = __webpack_require__(/*! component-inherit */ \"./node_modules/component-inherit/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = (typeof location !== 'undefined' && opts.hostname !== location.hostname) ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n  opts.withCredentials = this.withCredentials;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.withCredentials = opts.withCredentials;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = this.withCredentials;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          try {\n            var contentType = xhr.getResponseHeader('Content-Type');\n            if (self.supportsBinary && contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {\n              xhr.responseType = 'arraybuffer';\n            }\n          } catch (e) {}\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(typeof xhr.status === 'number' ? xhr.status : 0);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (typeof document !== 'undefined') {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (typeof document !== 'undefined') {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return typeof XDomainRequest !== 'undefined' && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== 'undefined') {\n  if (typeof attachEvent === 'function') {\n    attachEvent('onunload', unloadHandler);\n  } else if (typeof addEventListener === 'function') {\n    var terminationEvent = 'onpagehide' in self ? 'pagehide' : 'unload';\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/polling.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/polling.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Module dependencies.\n */\n\nvar Transport = __webpack_require__(/*! ../transport */ \"./node_modules/engine.io-client/lib/transport.js\");\nvar parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/parseqs/index.js\");\nvar parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/lib/browser.js\");\nvar inherit = __webpack_require__(/*! component-inherit */ \"./node_modules/component-inherit/index.js\");\nvar yeast = __webpack_require__(/*! yeast */ \"./node_modules/yeast/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\");\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/websocket.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/websocket.js ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/**\n * Module dependencies.\n */\n\nvar Transport = __webpack_require__(/*! ../transport */ \"./node_modules/engine.io-client/lib/transport.js\");\nvar parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/lib/browser.js\");\nvar parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/parseqs/index.js\");\nvar inherit = __webpack_require__(/*! component-inherit */ \"./node_modules/component-inherit/index.js\");\nvar yeast = __webpack_require__(/*! yeast */ \"./node_modules/yeast/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('engine.io-client:websocket');\n\nvar BrowserWebSocket, NodeWebSocket;\n\nif (typeof WebSocket !== 'undefined') {\n  BrowserWebSocket = WebSocket;\n} else if (typeof self !== 'undefined') {\n  BrowserWebSocket = self.WebSocket || self.MozWebSocket;\n}\n\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = __webpack_require__(/*! ws */ 0);\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocketImpl = BrowserWebSocket || NodeWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocketImpl = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws =\n      this.usingBrowserWebSocket && !this.isReactNative\n        ? protocols\n          ? new WebSocketImpl(uri, protocols)\n          : new WebSocketImpl(uri)\n        : new WebSocketImpl(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocketImpl && !('__initialize' in WebSocketImpl && this.name === WS.prototype.name);\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node-libs-browser/node_modules/buffer/index.js */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\").Buffer))\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/xmlhttprequest.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n// browser shim for xmlhttprequest module\n\nvar hasCORS = __webpack_require__(/*! has-cors */ \"./node_modules/has-cors/index.js\");\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new self[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-parser/lib/browser.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/engine.io-parser/lib/browser.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Module dependencies.\n */\n\nvar keys = __webpack_require__(/*! ./keys */ \"./node_modules/engine.io-parser/lib/keys.js\");\nvar hasBinary = __webpack_require__(/*! has-binary2 */ \"./node_modules/has-binary2/index.js\");\nvar sliceBuffer = __webpack_require__(/*! arraybuffer.slice */ \"./node_modules/arraybuffer.slice/index.js\");\nvar after = __webpack_require__(/*! after */ \"./node_modules/after/index.js\");\nvar utf8 = __webpack_require__(/*! ./utf8 */ \"./node_modules/engine.io-parser/lib/utf8.js\");\n\nvar base64encoder;\nif (typeof ArrayBuffer !== 'undefined') {\n  base64encoder = __webpack_require__(/*! base64-arraybuffer */ \"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js\");\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = __webpack_require__(/*! blob */ \"./node_modules/blob/index.js\");\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    exports.encodePacket({ type: packet.type, data: fr.result }, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (typeof Blob !== 'undefined' && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-parser/lib/keys.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/engine.io-parser/lib/keys.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-parser/lib/utf8.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/engine.io-parser/lib/utf8.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\nvar stringFromCharCode = String.fromCharCode;\n\n// Taken from https://mths.be/punycode\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\tvar value;\n\tvar extra;\n\twhile (counter < length) {\n\t\tvalue = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// high surrogate, and there is a next character\n\t\t\textra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n// Taken from https://mths.be/punycode\nfunction ucs2encode(array) {\n\tvar length = array.length;\n\tvar index = -1;\n\tvar value;\n\tvar output = '';\n\twhile (++index < length) {\n\t\tvalue = array[index];\n\t\tif (value > 0xFFFF) {\n\t\t\tvalue -= 0x10000;\n\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(value);\n\t}\n\treturn output;\n}\n\nfunction checkScalarValue(codePoint, strict) {\n\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\tif (strict) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/*--------------------------------------------------------------------------*/\n\nfunction createByte(codePoint, shift) {\n\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n}\n\nfunction encodeCodePoint(codePoint, strict) {\n\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\treturn stringFromCharCode(codePoint);\n\t}\n\tvar symbol = '';\n\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t}\n\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\tcodePoint = 0xFFFD;\n\t\t}\n\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\tsymbol += createByte(codePoint, 12);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\treturn symbol;\n}\n\nfunction utf8encode(string, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tvar codePoints = ucs2decode(string);\n\tvar length = codePoints.length;\n\tvar index = -1;\n\tvar codePoint;\n\tvar byteString = '';\n\twhile (++index < length) {\n\t\tcodePoint = codePoints[index];\n\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t}\n\treturn byteString;\n}\n\n/*--------------------------------------------------------------------------*/\n\nfunction readContinuationByte() {\n\tif (byteIndex >= byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\tif ((continuationByte & 0xC0) == 0x80) {\n\t\treturn continuationByte & 0x3F;\n\t}\n\n\t// If we end up here, it’s not a continuation byte\n\tthrow Error('Invalid continuation byte');\n}\n\nfunction decodeSymbol(strict) {\n\tvar byte1;\n\tvar byte2;\n\tvar byte3;\n\tvar byte4;\n\tvar codePoint;\n\n\tif (byteIndex > byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tif (byteIndex == byteCount) {\n\t\treturn false;\n\t}\n\n\t// Read first byte\n\tbyte1 = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\t// 1-byte sequence (no continuation bytes)\n\tif ((byte1 & 0x80) == 0) {\n\t\treturn byte1;\n\t}\n\n\t// 2-byte sequence\n\tif ((byte1 & 0xE0) == 0xC0) {\n\t\tbyte2 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\tif (codePoint >= 0x80) {\n\t\t\treturn codePoint;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 3-byte sequence (may include unpaired surrogates)\n\tif ((byte1 & 0xF0) == 0xE0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\tif (codePoint >= 0x0800) {\n\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 4-byte sequence\n\tif ((byte1 & 0xF8) == 0xF0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tbyte4 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t(byte3 << 0x06) | byte4;\n\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\treturn codePoint;\n\t\t}\n\t}\n\n\tthrow Error('Invalid UTF-8 detected');\n}\n\nvar byteArray;\nvar byteCount;\nvar byteIndex;\nfunction utf8decode(byteString, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tbyteArray = ucs2decode(byteString);\n\tbyteCount = byteArray.length;\n\tbyteIndex = 0;\n\tvar codePoints = [];\n\tvar tmp;\n\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\tcodePoints.push(tmp);\n\t}\n\treturn ucs2encode(codePoints);\n}\n\nmodule.exports = {\n\tversion: '2.1.2',\n\tencode: utf8encode,\n\tdecode: utf8decode\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/enum/dist/enum.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/enum/dist/enum.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\nvar EnumItem = _interopRequire(__webpack_require__(/*! ./enumItem */ \"./node_modules/enum/dist/enumItem.js\"));\n\nvar isString = __webpack_require__(/*! ./isType */ \"./node_modules/enum/dist/isType.js\").isString;\n\nvar indexOf = __webpack_require__(/*! ./indexOf */ \"./node_modules/enum/dist/indexOf.js\").indexOf;\n\nvar isBuffer = _interopRequire(__webpack_require__(/*! is-buffer */ \"./node_modules/is-buffer/index.js\"));\n\nvar endianness = \"LE\"; // for react-native\n\n/**\n * Represents an Enum with enum items.\n * @param {Array || Object}  map     This are the enum items.\n * @param {String || Object} options This are options. [optional]\n */\n\nvar Enum = (function () {\n  function Enum(map, options) {\n    var _this = this;\n\n    _classCallCheck(this, Enum);\n\n    /* implement the \"ref type interface\", so that Enum types can\n     * be used in `node-ffi` function declarations and invokations.\n     * In C, these Enums act as `uint32_t` types.\n     *\n     * https://github.com/TooTallNate/ref#the-type-interface\n     */\n    this.size = 4;\n    this.indirection = 1;\n\n    if (options && isString(options)) {\n      options = { name: options };\n    }\n\n    this._options = options || {};\n    this._options.separator = this._options.separator || \" | \";\n    this._options.endianness = this._options.endianness || endianness;\n    this._options.ignoreCase = this._options.ignoreCase || false;\n    this._options.freez = this._options.freez || false;\n\n    this.enums = [];\n\n    if (map.length) {\n      this._enumLastIndex = map.length;\n      var array = map;\n      map = {};\n\n      for (var i = 0; i < array.length; i++) {\n        map[array[i]] = Math.pow(2, i);\n      }\n    }\n\n    for (var member in map) {\n      guardReservedKeys(this._options.name, member);\n      this[member] = new EnumItem(member, map[member], { ignoreCase: this._options.ignoreCase });\n      this.enums.push(this[member]);\n    }\n    this._enumMap = map;\n\n    if (this._options.ignoreCase) {\n      this.getLowerCaseEnums = function () {\n        var res = {};\n        for (var i = 0, len = this.enums.length; i < len; i++) {\n          res[this.enums[i].key.toLowerCase()] = this.enums[i];\n        }\n        return res;\n      };\n    }\n\n    if (this._options.name) {\n      this.name = this._options.name;\n    }\n\n    var isFlaggable = function () {\n      for (var i = 0, len = _this.enums.length; i < len; i++) {\n        var e = _this.enums[i];\n\n        if (!(e.value !== 0 && !(e.value & e.value - 1))) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    this.isFlaggable = isFlaggable();\n    if (this._options.freez) {\n      this.freezeEnums(); //this will make instances of Enum non-extensible\n    }\n  }\n\n  /**\n   * Returns the appropriate EnumItem key.\n   * @param  {EnumItem || String || Number} key The object to get with.\n   * @return {String}                           The get result.\n   */\n\n  Enum.prototype.getKey = function getKey(value) {\n    var item = this.get(value);\n    if (item) {\n      return item.key;\n    }\n  };\n\n  /**\n   * Returns the appropriate EnumItem value.\n   * @param  {EnumItem || String || Number} key The object to get with.\n   * @return {Number}                           The get result.\n   */\n\n  Enum.prototype.getValue = function getValue(key) {\n    var item = this.get(key);\n    if (item) {\n      return item.value;\n    }\n  };\n\n  /**\n   * Returns the appropriate EnumItem.\n   * @param  {EnumItem || String || Number} key The object to get with.\n   * @return {EnumItem}                         The get result.\n   */\n\n  Enum.prototype.get = function get(key, offset) {\n    if (key === null || key === undefined) {\n      return;\n    } // Buffer instance support, part of the ref Type interface\n    if (isBuffer(key)) {\n      key = key[\"readUInt32\" + this._options.endianness](offset || 0);\n    }\n\n    if (EnumItem.isEnumItem(key)) {\n      var foundIndex = indexOf.call(this.enums, key);\n      if (foundIndex >= 0) {\n        return key;\n      }\n      if (!this.isFlaggable || this.isFlaggable && key.key.indexOf(this._options.separator) < 0) {\n        return;\n      }\n      return this.get(key.key);\n    } else if (isString(key)) {\n\n      var enums = this;\n      if (this._options.ignoreCase) {\n        enums = this.getLowerCaseEnums();\n        key = key.toLowerCase();\n      }\n\n      if (key.indexOf(this._options.separator) > 0) {\n        var parts = key.split(this._options.separator);\n\n        var value = 0;\n        for (var i = 0; i < parts.length; i++) {\n          var part = parts[i];\n\n          value |= enums[part].value;\n        }\n\n        return new EnumItem(key, value);\n      } else {\n        return enums[key];\n      }\n    } else {\n      for (var m in this) {\n        if (this.hasOwnProperty(m)) {\n          if (this[m].value === key) {\n            return this[m];\n          }\n        }\n      }\n\n      var result = null;\n\n      if (this.isFlaggable) {\n        for (var n in this) {\n          if (this.hasOwnProperty(n)) {\n            if ((key & this[n].value) !== 0) {\n              if (result) {\n                result += this._options.separator;\n              } else {\n                result = \"\";\n              }\n              result += n;\n            }\n          }\n        }\n      }\n\n      return this.get(result || null);\n    }\n  };\n\n  /**\n   * Sets the Enum \"value\" onto the give `buffer` at the specified `offset`.\n   * Part of the ref \"Type interface\".\n   *\n   * @param  {Buffer} buffer The Buffer instance to write to.\n   * @param  {Number} offset The offset in the buffer to write to. Default 0.\n   * @param  {EnumItem || String || Number} value The EnumItem to write.\n   */\n\n  Enum.prototype.set = function set(buffer, offset, value) {\n    var item = this.get(value);\n    if (item) {\n      return buffer[\"writeUInt32\" + this._options.endianness](item.value, offset || 0);\n    }\n  };\n\n  /**\n   * Define freezeEnums() as a property of the prototype.\n   * make enumerable items nonconfigurable and deep freeze the properties. Throw Error on property setter.\n   */\n\n  Enum.prototype.freezeEnums = function freezeEnums() {\n    function envSupportsFreezing() {\n      return Object.isFrozen && Object.isSealed && Object.getOwnPropertyNames && Object.getOwnPropertyDescriptor && Object.defineProperties && Object.__defineGetter__ && Object.__defineSetter__;\n    }\n\n    function freezer(o) {\n      var props = Object.getOwnPropertyNames(o);\n      props.forEach(function (p) {\n        if (!Object.getOwnPropertyDescriptor(o, p).configurable) {\n          return;\n        }\n\n        Object.defineProperties(o, p, { writable: false, configurable: false });\n      });\n      return o;\n    }\n\n    function getPropertyValue(value) {\n      return value;\n    }\n\n    function deepFreezeEnums(o) {\n      if (typeof o !== \"object\" || o === null || Object.isFrozen(o) || Object.isSealed(o)) {\n        return;\n      }\n      for (var key in o) {\n        if (o.hasOwnProperty(key)) {\n          o.__defineGetter__(key, getPropertyValue.bind(null, o[key]));\n          o.__defineSetter__(key, function throwPropertySetError(value) {\n            throw TypeError(\"Cannot redefine property; Enum Type is not extensible.\");\n          });\n          deepFreezeEnums(o[key]);\n        }\n      }\n      if (Object.freeze) {\n        Object.freeze(o);\n      } else {\n        freezer(o);\n      }\n    }\n\n    if (envSupportsFreezing()) {\n      deepFreezeEnums(this);\n    }\n\n    return this;\n  };\n\n  /**\n   * Returns JSON object representation of this Enum.\n   * @return {String} JSON object representation of this Enum.\n   */\n\n  Enum.prototype.toJSON = function toJSON() {\n    return this._enumMap;\n  };\n\n  /**\n   * Extends the existing Enum with a New Map.\n   * @param  {Array}  map  Map to extend from\n   */\n\n  Enum.prototype.extend = function extend(map) {\n    if (map.length) {\n      var array = map;\n      map = {};\n\n      for (var i = 0; i < array.length; i++) {\n        var exponent = this._enumLastIndex + i;\n        map[array[i]] = Math.pow(2, exponent);\n      }\n\n      for (var member in map) {\n        guardReservedKeys(this._options.name, member);\n        this[member] = new EnumItem(member, map[member], { ignoreCase: this._options.ignoreCase });\n        this.enums.push(this[member]);\n      }\n\n      for (var key in this._enumMap) {\n        map[key] = this._enumMap[key];\n      }\n\n      this._enumLastIndex += map.length;\n      this._enumMap = map;\n\n      if (this._options.freez) {\n        this.freezeEnums(); //this will make instances of new Enum non-extensible\n      }\n    }\n  };\n\n  /**\n   * Registers the Enum Type globally in node.js.\n   * @param  {String} key Global variable. [optional]\n   */\n\n  Enum.register = function register() {\n    var key = arguments[0] === undefined ? \"Enum\" : arguments[0];\n\n    if (!global[key]) {\n      global[key] = Enum;\n    }\n  };\n\n  return Enum;\n})();\n\nmodule.exports = Enum;\n\n// private\n\nvar reservedKeys = [\"_options\", \"get\", \"getKey\", \"getValue\", \"enums\", \"isFlaggable\", \"_enumMap\", \"toJSON\", \"_enumLastIndex\"];\n\nfunction guardReservedKeys(customName, key) {\n  if (customName && key === \"name\" || indexOf.call(reservedKeys, key) >= 0) {\n    throw new Error(\"Enum key \" + key + \" is a reserved word!\");\n  }\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/enum/dist/enumItem.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/enum/dist/enumItem.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\nvar _isType = __webpack_require__(/*! ./isType */ \"./node_modules/enum/dist/isType.js\");\n\nvar isObject = _isType.isObject;\nvar isString = _isType.isString;\n\n/**\n * Represents an Item of an Enum.\n * @param {String} key   The Enum key.\n * @param {Number} value The Enum value.\n */\n\nvar EnumItem = (function () {\n\n  /*constructor reference so that, this.constructor===EnumItem//=>true */\n\n  function EnumItem(key, value) {\n    var options = arguments[2] === undefined ? {} : arguments[2];\n\n    _classCallCheck(this, EnumItem);\n\n    this.key = key;\n    this.value = value;\n\n    this._options = options;\n    this._options.ignoreCase = this._options.ignoreCase || false;\n  }\n\n  /**\n   * Checks if the flagged EnumItem has the passing object.\n   * @param  {EnumItem || String || Number} value The object to check with.\n   * @return {Boolean}                            The check result.\n   */\n\n  EnumItem.prototype.has = function has(value) {\n    if (EnumItem.isEnumItem(value)) {\n      return (this.value & value.value) !== 0;\n    } else if (isString(value)) {\n      if (this._options.ignoreCase) {\n        return this.key.toLowerCase().indexOf(value.toLowerCase()) >= 0;\n      }\n      return this.key.indexOf(value) >= 0;\n    } else {\n      return (this.value & value) !== 0;\n    }\n  };\n\n  /**\n   * Checks if the EnumItem is the same as the passing object.\n   * @param  {EnumItem || String || Number} key The object to check with.\n   * @return {Boolean}                          The check result.\n   */\n\n  EnumItem.prototype.is = function is(key) {\n    if (EnumItem.isEnumItem(key)) {\n      return this.key === key.key;\n    } else if (isString(key)) {\n      if (this._options.ignoreCase) {\n        return this.key.toLowerCase() === key.toLowerCase();\n      }\n      return this.key === key;\n    } else {\n      return this.value === key;\n    }\n  };\n\n  /**\n   * Returns String representation of this EnumItem.\n   * @return {String} String representation of this EnumItem.\n   */\n\n  EnumItem.prototype.toString = function toString() {\n    return this.key;\n  };\n\n  /**\n   * Returns JSON object representation of this EnumItem.\n   * @return {String} JSON object representation of this EnumItem.\n   */\n\n  EnumItem.prototype.toJSON = function toJSON() {\n    return this.key;\n  };\n\n  /**\n   * Returns the value to compare with.\n   * @return {String} The value to compare with.\n   */\n\n  EnumItem.prototype.valueOf = function valueOf() {\n    return this.value;\n  };\n\n  EnumItem.isEnumItem = function isEnumItem(value) {\n    return value instanceof EnumItem || isObject(value) && value.key !== undefined && value.value !== undefined;\n  };\n\n  return EnumItem;\n})();\n\nmodule.exports = EnumItem;\n\n/***/ }),\n\n/***/ \"./node_modules/enum/dist/indexOf.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/enum/dist/indexOf.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar indexOf = Array.prototype.indexOf || function (find, i /*opt*/) {\n  if (i === undefined) i = 0;\n  if (i < 0) i += this.length;\n  if (i < 0) i = 0;\n  for (var n = this.length; i < n; i++) if (i in this && this[i] === find) return i;\n  return -1;\n};\nexports.indexOf = indexOf;\n\n/***/ }),\n\n/***/ \"./node_modules/enum/dist/isType.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/enum/dist/isType.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar isType = function (type, value) {\n  return typeof value === type;\n};\nexports.isType = isType;\nvar isObject = function (value) {\n  return isType(\"object\", value);\n};\nexports.isObject = isObject;\nvar isString = function (value) {\n  return isType(\"string\", value);\n};\nexports.isString = isString;\n\n/***/ }),\n\n/***/ \"./node_modules/enum/index.js\":\n/*!************************************!*\\\n  !*** ./node_modules/enum/index.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./dist/enum */ \"./node_modules/enum/dist/enum.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/events/events.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/events/events.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/has-binary2/index.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/has-binary2/index.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\");\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node-libs-browser/node_modules/buffer/index.js */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\").Buffer))\n\n/***/ }),\n\n/***/ \"./node_modules/has-cors/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/has-cors/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/ieee754/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/ieee754/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/indexof/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/indexof/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/is-buffer/index.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/is-buffer/index.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/isarray/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/isarray/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/js-binarypack/lib/binarypack.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/js-binarypack/lib/binarypack.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BufferBuilder = __webpack_require__(/*! ./bufferbuilder */ \"./node_modules/js-binarypack/lib/bufferbuilder.js\").BufferBuilder;\r\nvar binaryFeatures = __webpack_require__(/*! ./bufferbuilder */ \"./node_modules/js-binarypack/lib/bufferbuilder.js\").binaryFeatures;\r\n\r\nvar BinaryPack = {\r\n  unpack: function(data){\r\n    var unpacker = new Unpacker(data);\r\n    return unpacker.unpack();\r\n  },\r\n  pack: function(data){\r\n    var packer = new Packer();\r\n    packer.pack(data);\r\n    var buffer = packer.getBuffer();\r\n    return buffer;\r\n  }\r\n};\r\n\r\nmodule.exports = BinaryPack;\r\n\r\nfunction Unpacker (data){\r\n  // Data is ArrayBuffer\r\n  this.index = 0;\r\n  this.dataBuffer = data;\r\n  this.dataView = new Uint8Array(this.dataBuffer);\r\n  this.length = this.dataBuffer.byteLength;\r\n}\r\n\r\nUnpacker.prototype.unpack = function(){\r\n  var type = this.unpack_uint8();\r\n  if (type < 0x80){\r\n    var positive_fixnum = type;\r\n    return positive_fixnum;\r\n  } else if ((type ^ 0xe0) < 0x20){\r\n    var negative_fixnum = (type ^ 0xe0) - 0x20;\r\n    return negative_fixnum;\r\n  }\r\n  var size;\r\n  if ((size = type ^ 0xa0) <= 0x0f){\r\n    return this.unpack_raw(size);\r\n  } else if ((size = type ^ 0xb0) <= 0x0f){\r\n    return this.unpack_string(size);\r\n  } else if ((size = type ^ 0x90) <= 0x0f){\r\n    return this.unpack_array(size);\r\n  } else if ((size = type ^ 0x80) <= 0x0f){\r\n    return this.unpack_map(size);\r\n  }\r\n  switch(type){\r\n    case 0xc0:\r\n      return null;\r\n    case 0xc1:\r\n      return undefined;\r\n    case 0xc2:\r\n      return false;\r\n    case 0xc3:\r\n      return true;\r\n    case 0xca:\r\n      return this.unpack_float();\r\n    case 0xcb:\r\n      return this.unpack_double();\r\n    case 0xcc:\r\n      return this.unpack_uint8();\r\n    case 0xcd:\r\n      return this.unpack_uint16();\r\n    case 0xce:\r\n      return this.unpack_uint32();\r\n    case 0xcf:\r\n      return this.unpack_uint64();\r\n    case 0xd0:\r\n      return this.unpack_int8();\r\n    case 0xd1:\r\n      return this.unpack_int16();\r\n    case 0xd2:\r\n      return this.unpack_int32();\r\n    case 0xd3:\r\n      return this.unpack_int64();\r\n    case 0xd4:\r\n      return undefined;\r\n    case 0xd5:\r\n      return undefined;\r\n    case 0xd6:\r\n      return undefined;\r\n    case 0xd7:\r\n      return undefined;\r\n    case 0xd8:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_string(size);\r\n    case 0xd9:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_string(size);\r\n    case 0xda:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_raw(size);\r\n    case 0xdb:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_raw(size);\r\n    case 0xdc:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_array(size);\r\n    case 0xdd:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_array(size);\r\n    case 0xde:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_map(size);\r\n    case 0xdf:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_map(size);\r\n  }\r\n}\r\n\r\nUnpacker.prototype.unpack_uint8 = function(){\r\n  var byte = this.dataView[this.index] & 0xff;\r\n  this.index++;\r\n  return byte;\r\n};\r\n\r\nUnpacker.prototype.unpack_uint16 = function(){\r\n  var bytes = this.read(2);\r\n  var uint16 =\r\n    ((bytes[0] & 0xff) * 256) + (bytes[1] & 0xff);\r\n  this.index += 2;\r\n  return uint16;\r\n}\r\n\r\nUnpacker.prototype.unpack_uint32 = function(){\r\n  var bytes = this.read(4);\r\n  var uint32 =\r\n     ((bytes[0]  * 256 +\r\n       bytes[1]) * 256 +\r\n       bytes[2]) * 256 +\r\n       bytes[3];\r\n  this.index += 4;\r\n  return uint32;\r\n}\r\n\r\nUnpacker.prototype.unpack_uint64 = function(){\r\n  var bytes = this.read(8);\r\n  var uint64 =\r\n   ((((((bytes[0]  * 256 +\r\n       bytes[1]) * 256 +\r\n       bytes[2]) * 256 +\r\n       bytes[3]) * 256 +\r\n       bytes[4]) * 256 +\r\n       bytes[5]) * 256 +\r\n       bytes[6]) * 256 +\r\n       bytes[7];\r\n  this.index += 8;\r\n  return uint64;\r\n}\r\n\r\n\r\nUnpacker.prototype.unpack_int8 = function(){\r\n  var uint8 = this.unpack_uint8();\r\n  return (uint8 < 0x80 ) ? uint8 : uint8 - (1 << 8);\r\n};\r\n\r\nUnpacker.prototype.unpack_int16 = function(){\r\n  var uint16 = this.unpack_uint16();\r\n  return (uint16 < 0x8000 ) ? uint16 : uint16 - (1 << 16);\r\n}\r\n\r\nUnpacker.prototype.unpack_int32 = function(){\r\n  var uint32 = this.unpack_uint32();\r\n  return (uint32 < Math.pow(2, 31) ) ? uint32 :\r\n    uint32 - Math.pow(2, 32);\r\n}\r\n\r\nUnpacker.prototype.unpack_int64 = function(){\r\n  var uint64 = this.unpack_uint64();\r\n  return (uint64 < Math.pow(2, 63) ) ? uint64 :\r\n    uint64 - Math.pow(2, 64);\r\n}\r\n\r\nUnpacker.prototype.unpack_raw = function(size){\r\n  if ( this.length < this.index + size){\r\n    throw new Error('BinaryPackFailure: index is out of range'\r\n      + ' ' + this.index + ' ' + size + ' ' + this.length);\r\n  }\r\n  var buf = this.dataBuffer.slice(this.index, this.index + size);\r\n  this.index += size;\r\n\r\n    //buf = util.bufferToString(buf);\r\n\r\n  return buf;\r\n}\r\n\r\nUnpacker.prototype.unpack_string = function(size){\r\n  var bytes = this.read(size);\r\n  var i = 0, str = '', c, code;\r\n  while(i < size){\r\n    c = bytes[i];\r\n    if ( c < 128){\r\n      str += String.fromCharCode(c);\r\n      i++;\r\n    } else if ((c ^ 0xc0) < 32){\r\n      code = ((c ^ 0xc0) << 6) | (bytes[i+1] & 63);\r\n      str += String.fromCharCode(code);\r\n      i += 2;\r\n    } else {\r\n      code = ((c & 15) << 12) | ((bytes[i+1] & 63) << 6) |\r\n        (bytes[i+2] & 63);\r\n      str += String.fromCharCode(code);\r\n      i += 3;\r\n    }\r\n  }\r\n  this.index += size;\r\n  return str;\r\n}\r\n\r\nUnpacker.prototype.unpack_array = function(size){\r\n  var objects = new Array(size);\r\n  for(var i = 0; i < size ; i++){\r\n    objects[i] = this.unpack();\r\n  }\r\n  return objects;\r\n}\r\n\r\nUnpacker.prototype.unpack_map = function(size){\r\n  var map = {};\r\n  for(var i = 0; i < size ; i++){\r\n    var key  = this.unpack();\r\n    var value = this.unpack();\r\n    map[key] = value;\r\n  }\r\n  return map;\r\n}\r\n\r\nUnpacker.prototype.unpack_float = function(){\r\n  var uint32 = this.unpack_uint32();\r\n  var sign = uint32 >> 31;\r\n  var exp  = ((uint32 >> 23) & 0xff) - 127;\r\n  var fraction = ( uint32 & 0x7fffff ) | 0x800000;\r\n  return (sign == 0 ? 1 : -1) *\r\n    fraction * Math.pow(2, exp - 23);\r\n}\r\n\r\nUnpacker.prototype.unpack_double = function(){\r\n  var h32 = this.unpack_uint32();\r\n  var l32 = this.unpack_uint32();\r\n  var sign = h32 >> 31;\r\n  var exp  = ((h32 >> 20) & 0x7ff) - 1023;\r\n  var hfrac = ( h32 & 0xfffff ) | 0x100000;\r\n  var frac = hfrac * Math.pow(2, exp - 20) +\r\n    l32   * Math.pow(2, exp - 52);\r\n  return (sign == 0 ? 1 : -1) * frac;\r\n}\r\n\r\nUnpacker.prototype.read = function(length){\r\n  var j = this.index;\r\n  if (j + length <= this.length) {\r\n    return this.dataView.subarray(j, j + length);\r\n  } else {\r\n    throw new Error('BinaryPackFailure: read index out of range');\r\n  }\r\n}\r\n\r\nfunction Packer(){\r\n  this.bufferBuilder = new BufferBuilder();\r\n}\r\n\r\nPacker.prototype.getBuffer = function(){\r\n  return this.bufferBuilder.getBuffer();\r\n}\r\n\r\nPacker.prototype.pack = function(value){\r\n  var type = typeof(value);\r\n  if (type == 'string'){\r\n    this.pack_string(value);\r\n  } else if (type == 'number'){\r\n    if (Math.floor(value) === value){\r\n      this.pack_integer(value);\r\n    } else{\r\n      this.pack_double(value);\r\n    }\r\n  } else if (type == 'boolean'){\r\n    if (value === true){\r\n      this.bufferBuilder.append(0xc3);\r\n    } else if (value === false){\r\n      this.bufferBuilder.append(0xc2);\r\n    }\r\n  } else if (type == 'undefined'){\r\n    this.bufferBuilder.append(0xc0);\r\n  } else if (type == 'object'){\r\n    if (value === null){\r\n      this.bufferBuilder.append(0xc0);\r\n    } else {\r\n      var constructor = value.constructor;\r\n      if (constructor == Array){\r\n        this.pack_array(value);\r\n      } else if (constructor == Blob || constructor == File) {\r\n        this.pack_bin(value);\r\n      } else if (constructor == ArrayBuffer) {\r\n        if(binaryFeatures.useArrayBufferView) {\r\n          this.pack_bin(new Uint8Array(value));\r\n        } else {\r\n          this.pack_bin(value);\r\n        }\r\n      } else if ('BYTES_PER_ELEMENT' in value){\r\n        if(binaryFeatures.useArrayBufferView) {\r\n          this.pack_bin(new Uint8Array(value.buffer));\r\n        } else {\r\n          this.pack_bin(value.buffer);\r\n        }\r\n      } else if (constructor == Object){\r\n        this.pack_object(value);\r\n      } else if (constructor == Date){\r\n        this.pack_string(value.toString());\r\n      } else if (typeof value.toBinaryPack == 'function'){\r\n        this.bufferBuilder.append(value.toBinaryPack());\r\n      } else {\r\n        throw new Error('Type \"' + constructor.toString() + '\" not yet supported');\r\n      }\r\n    }\r\n  } else {\r\n    throw new Error('Type \"' + type + '\" not yet supported');\r\n  }\r\n  this.bufferBuilder.flush();\r\n}\r\n\r\n\r\nPacker.prototype.pack_bin = function(blob){\r\n  var length = blob.length || blob.byteLength || blob.size;\r\n  if (length <= 0x0f){\r\n    this.pack_uint8(0xa0 + length);\r\n  } else if (length <= 0xffff){\r\n    this.bufferBuilder.append(0xda) ;\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff){\r\n    this.bufferBuilder.append(0xdb);\r\n    this.pack_uint32(length);\r\n  } else{\r\n    throw new Error('Invalid length');\r\n  }\r\n  this.bufferBuilder.append(blob);\r\n}\r\n\r\nPacker.prototype.pack_string = function(str){\r\n  var length = utf8Length(str);\r\n\r\n  if (length <= 0x0f){\r\n    this.pack_uint8(0xb0 + length);\r\n  } else if (length <= 0xffff){\r\n    this.bufferBuilder.append(0xd8) ;\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff){\r\n    this.bufferBuilder.append(0xd9);\r\n    this.pack_uint32(length);\r\n  } else{\r\n    throw new Error('Invalid length');\r\n  }\r\n  this.bufferBuilder.append(str);\r\n}\r\n\r\nPacker.prototype.pack_array = function(ary){\r\n  var length = ary.length;\r\n  if (length <= 0x0f){\r\n    this.pack_uint8(0x90 + length);\r\n  } else if (length <= 0xffff){\r\n    this.bufferBuilder.append(0xdc)\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff){\r\n    this.bufferBuilder.append(0xdd);\r\n    this.pack_uint32(length);\r\n  } else{\r\n    throw new Error('Invalid length');\r\n  }\r\n  for(var i = 0; i < length ; i++){\r\n    this.pack(ary[i]);\r\n  }\r\n}\r\n\r\nPacker.prototype.pack_integer = function(num){\r\n  if ( -0x20 <= num && num <= 0x7f){\r\n    this.bufferBuilder.append(num & 0xff);\r\n  } else if (0x00 <= num && num <= 0xff){\r\n    this.bufferBuilder.append(0xcc);\r\n    this.pack_uint8(num);\r\n  } else if (-0x80 <= num && num <= 0x7f){\r\n    this.bufferBuilder.append(0xd0);\r\n    this.pack_int8(num);\r\n  } else if ( 0x0000 <= num && num <= 0xffff){\r\n    this.bufferBuilder.append(0xcd);\r\n    this.pack_uint16(num);\r\n  } else if (-0x8000 <= num && num <= 0x7fff){\r\n    this.bufferBuilder.append(0xd1);\r\n    this.pack_int16(num);\r\n  } else if ( 0x00000000 <= num && num <= 0xffffffff){\r\n    this.bufferBuilder.append(0xce);\r\n    this.pack_uint32(num);\r\n  } else if (-0x80000000 <= num && num <= 0x7fffffff){\r\n    this.bufferBuilder.append(0xd2);\r\n    this.pack_int32(num);\r\n  } else if (-0x8000000000000000 <= num && num <= 0x7FFFFFFFFFFFFFFF){\r\n    this.bufferBuilder.append(0xd3);\r\n    this.pack_int64(num);\r\n  } else if (0x0000000000000000 <= num && num <= 0xFFFFFFFFFFFFFFFF){\r\n    this.bufferBuilder.append(0xcf);\r\n    this.pack_uint64(num);\r\n  } else{\r\n    throw new Error('Invalid integer');\r\n  }\r\n}\r\n\r\nPacker.prototype.pack_double = function(num){\r\n  var sign = 0;\r\n  if (num < 0){\r\n    sign = 1;\r\n    num = -num;\r\n  }\r\n  var exp  = Math.floor(Math.log(num) / Math.LN2);\r\n  var frac0 = num / Math.pow(2, exp) - 1;\r\n  var frac1 = Math.floor(frac0 * Math.pow(2, 52));\r\n  var b32   = Math.pow(2, 32);\r\n  var h32 = (sign << 31) | ((exp+1023) << 20) |\r\n      (frac1 / b32) & 0x0fffff;\r\n  var l32 = frac1 % b32;\r\n  this.bufferBuilder.append(0xcb);\r\n  this.pack_int32(h32);\r\n  this.pack_int32(l32);\r\n}\r\n\r\nPacker.prototype.pack_object = function(obj){\r\n  var keys = Object.keys(obj);\r\n  var length = keys.length;\r\n  if (length <= 0x0f){\r\n    this.pack_uint8(0x80 + length);\r\n  } else if (length <= 0xffff){\r\n    this.bufferBuilder.append(0xde);\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff){\r\n    this.bufferBuilder.append(0xdf);\r\n    this.pack_uint32(length);\r\n  } else{\r\n    throw new Error('Invalid length');\r\n  }\r\n  for(var prop in obj){\r\n    if (obj.hasOwnProperty(prop)){\r\n      this.pack(prop);\r\n      this.pack(obj[prop]);\r\n    }\r\n  }\r\n}\r\n\r\nPacker.prototype.pack_uint8 = function(num){\r\n  this.bufferBuilder.append(num);\r\n}\r\n\r\nPacker.prototype.pack_uint16 = function(num){\r\n  this.bufferBuilder.append(num >> 8);\r\n  this.bufferBuilder.append(num & 0xff);\r\n}\r\n\r\nPacker.prototype.pack_uint32 = function(num){\r\n  var n = num & 0xffffffff;\r\n  this.bufferBuilder.append((n & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((n & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((n & 0x0000ff00) >>>  8);\r\n  this.bufferBuilder.append((n & 0x000000ff));\r\n}\r\n\r\nPacker.prototype.pack_uint64 = function(num){\r\n  var high = num / Math.pow(2, 32);\r\n  var low  = num % Math.pow(2, 32);\r\n  this.bufferBuilder.append((high & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((high & 0x0000ff00) >>>  8);\r\n  this.bufferBuilder.append((high & 0x000000ff));\r\n  this.bufferBuilder.append((low  & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((low  & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((low  & 0x0000ff00) >>>  8);\r\n  this.bufferBuilder.append((low  & 0x000000ff));\r\n}\r\n\r\nPacker.prototype.pack_int8 = function(num){\r\n  this.bufferBuilder.append(num & 0xff);\r\n}\r\n\r\nPacker.prototype.pack_int16 = function(num){\r\n  this.bufferBuilder.append((num & 0xff00) >> 8);\r\n  this.bufferBuilder.append(num & 0xff);\r\n}\r\n\r\nPacker.prototype.pack_int32 = function(num){\r\n  this.bufferBuilder.append((num >>> 24) & 0xff);\r\n  this.bufferBuilder.append((num & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((num & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((num & 0x000000ff));\r\n}\r\n\r\nPacker.prototype.pack_int64 = function(num){\r\n  var high = Math.floor(num / Math.pow(2, 32));\r\n  var low  = num % Math.pow(2, 32);\r\n  this.bufferBuilder.append((high & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((high & 0x0000ff00) >>>  8);\r\n  this.bufferBuilder.append((high & 0x000000ff));\r\n  this.bufferBuilder.append((low  & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((low  & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((low  & 0x0000ff00) >>>  8);\r\n  this.bufferBuilder.append((low  & 0x000000ff));\r\n}\r\n\r\nfunction _utf8Replace(m){\r\n  var code = m.charCodeAt(0);\r\n\r\n  if(code <= 0x7ff) return '00';\r\n  if(code <= 0xffff) return '000';\r\n  if(code <= 0x1fffff) return '0000';\r\n  if(code <= 0x3ffffff) return '00000';\r\n  return '000000';\r\n}\r\n\r\nfunction utf8Length(str){\r\n  if (str.length > 600) {\r\n    // Blob method faster for large strings\r\n    return (new Blob([str])).size;\r\n  } else {\r\n    return str.replace(/[^\\u0000-\\u007F]/g, _utf8Replace).length;\r\n  }\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/js-binarypack/lib/bufferbuilder.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/js-binarypack/lib/bufferbuilder.js ***!\n  \\*********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar binaryFeatures = {};\r\nbinaryFeatures.useBlobBuilder = (function(){\r\n  try {\r\n    new Blob([]);\r\n    return false;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\n\r\nbinaryFeatures.useArrayBufferView = !binaryFeatures.useBlobBuilder && (function(){\r\n  try {\r\n    return (new Blob([new Uint8Array([])])).size === 0;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\n\r\nmodule.exports.binaryFeatures = binaryFeatures;\r\nvar BlobBuilder = module.exports.BlobBuilder;\r\nif (typeof window != 'undefined') {\r\n  BlobBuilder = module.exports.BlobBuilder = window.WebKitBlobBuilder ||\r\n    window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\r\n}\r\n\r\nfunction BufferBuilder(){\r\n  this._pieces = [];\r\n  this._parts = [];\r\n}\r\n\r\nBufferBuilder.prototype.append = function(data) {\r\n  if(typeof data === 'number') {\r\n    this._pieces.push(data);\r\n  } else {\r\n    this.flush();\r\n    this._parts.push(data);\r\n  }\r\n};\r\n\r\nBufferBuilder.prototype.flush = function() {\r\n  if (this._pieces.length > 0) {\r\n    var buf = new Uint8Array(this._pieces);\r\n    if(!binaryFeatures.useArrayBufferView) {\r\n      buf = buf.buffer;\r\n    }\r\n    this._parts.push(buf);\r\n    this._pieces = [];\r\n  }\r\n};\r\n\r\nBufferBuilder.prototype.getBuffer = function() {\r\n  this.flush();\r\n  if(binaryFeatures.useBlobBuilder) {\r\n    var builder = new BlobBuilder();\r\n    for(var i = 0, ii = this._parts.length; i < ii; i++) {\r\n      builder.append(this._parts[i]);\r\n    }\r\n    return builder.getBlob();\r\n  } else {\r\n    return new Blob(this._parts);\r\n  }\r\n};\r\n\r\nmodule.exports.BufferBuilder = BufferBuilder;\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/ms/index.js\":\n/*!**********************************!*\\\n  !*** ./node_modules/ms/index.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/node-libs-browser/node_modules/buffer/index.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/node-libs-browser/node_modules/isarray/index.js\")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/node-libs-browser/node_modules/isarray/index.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/node-libs-browser/node_modules/isarray/index.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/object-sizeof/byte_size.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/object-sizeof/byte_size.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\n * Byte sizes are taken from ECMAScript Language Specification\n * http://www.ecma-international.org/ecma-262/5.1/\n * http://bclary.com/2004/11/07/#a-4.3.16\n */\n\nmodule.exports = {\n  STRING: 2,\n  BOOLEAN: 4,\n  NUMBER: 8\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/object-sizeof/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/object-sizeof/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright 2014 Andrei Karpushonak\n\n\n\nvar ECMA_SIZES = __webpack_require__(/*! ./byte_size */ \"./node_modules/object-sizeof/byte_size.js\")\nvar Buffer = __webpack_require__(/*! buffer */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\").Buffer\n\nfunction sizeOfObject (object) {\n  if (object == null) {\n    return 0\n  }\n\n  var bytes = 0\n  for (var key in object) {\n    if (!Object.hasOwnProperty.call(object, key)) {\n      continue\n    }\n\n    bytes += sizeof(key)\n    try {\n      bytes += sizeof(object[key])\n    } catch (ex) {\n      if (ex instanceof RangeError) {\n        // circular reference detected, final result might be incorrect\n        // let's be nice and not throw an exception\n        bytes = 0\n      }\n    }\n  }\n\n  return bytes\n}\n\n/**\n * Main module's entry point\n * Calculates Bytes for the provided parameter\n * @param object - handles object/string/boolean/buffer\n * @returns {*}\n */\nfunction sizeof (object) {\n  if (Buffer.isBuffer(object)) {\n    return object.length\n  }\n\n  var objectType = typeof (object)\n  switch (objectType) {\n    case 'string':\n      return object.length * ECMA_SIZES.STRING\n    case 'boolean':\n      return ECMA_SIZES.BOOLEAN\n    case 'number':\n      return ECMA_SIZES.NUMBER\n    case 'object':\n      if (Array.isArray(object)) {\n        return object.map(sizeof).reduce(function (acc, curr) {\n          return acc + curr\n        }, 0)\n      } else {\n        return sizeOfObject(object)\n      }\n    default:\n      return 0\n  }\n}\n\nmodule.exports = sizeof\n\n\n/***/ }),\n\n/***/ \"./node_modules/parseqs/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/parseqs/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/parseuri/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/parseuri/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/process/browser.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ \"./node_modules/query-string/index.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/query-string/index.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nconst strictUriEncode = __webpack_require__(/*! strict-uri-encode */ \"./node_modules/strict-uri-encode/index.js\");\nconst decodeComponent = __webpack_require__(/*! decode-uri-component */ \"./node_modules/decode-uri-component/index.js\");\nconst splitOnFirst = __webpack_require__(/*! split-on-first */ \"./node_modules/split-on-first/index.js\");\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(',')];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(',') > -1;\n\t\t\t\tconst newValue = isArray ? value.split(',') : value;\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = Object.assign({}, object);\n\tif (options.skipNull) {\n\t\tfor (const key of Object.keys(objectCopy)) {\n\t\t\tif (objectCopy[key] === undefined || objectCopy[key] === null) {\n\t\t\t\tdelete objectCopy[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: removeHash(input).split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/lib/array-equals.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/sdp-interop/lib/array-equals.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function arrayEquals(array) {\n    // if the other array is a falsy value, return\n    if (!array)\n        return false;\n\n    // compare lengths - can save a lot of time\n    if (this.length != array.length)\n        return false;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (this[i] instanceof Array && array[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!arrayEquals.apply(this[i], [array[i]]))\n                return false;\n        } else if (this[i] != array[i]) {\n            // Warning - two different object instances will never be equal:\n            // {x:20} != {x:20}\n            return false;\n        }\n    }\n    return true;\n};\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/lib/index.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/sdp-interop/lib/index.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexports.Interop = __webpack_require__(/*! ./interop */ \"./node_modules/sdp-interop/lib/interop.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/lib/interop.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/sdp-interop/lib/interop.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* global RTCSessionDescription */\n/* global RTCIceCandidate */\n/* jshint -W097 */\n\n\nvar transform = __webpack_require__(/*! ./transform */ \"./node_modules/sdp-interop/lib/transform.js\");\nvar arrayEquals = __webpack_require__(/*! ./array-equals */ \"./node_modules/sdp-interop/lib/array-equals.js\");\n\nfunction Interop() {\n\n    /**\n     * This map holds the most recent Unified Plan offer/answer SDP that was\n     * converted to Plan B, with the SDP type ('offer' or 'answer') as keys and\n     * the SDP string as values.\n     *\n     * @type {{}}\n     */\n    this.cache = {\n        mlB2UMap : {},\n        mlU2BMap : {}\n    };\n}\n\nmodule.exports = Interop;\n\n/**\n * Changes the candidate args to match with the related Unified Plan\n */\nInterop.prototype.candidateToUnifiedPlan = function(candidate) {\n    var cand = new RTCIceCandidate(candidate);\n\n    cand.sdpMLineIndex = this.cache.mlB2UMap[cand.sdpMLineIndex];\n    /* TODO: change sdpMid to (audio|video)-SSRC */\n\n    return cand;\n};\n\n/**\n * Changes the candidate args to match with the related Plan B\n */\nInterop.prototype.candidateToPlanB = function(candidate) {\n    var cand = new RTCIceCandidate(candidate);\n\n    if (cand.sdpMid.indexOf('audio') === 0) {\n      cand.sdpMid = 'audio';\n    } else if (cand.sdpMid.indexOf('video') === 0) {\n      cand.sdpMid = 'video';\n    } else {\n      throw new Error('candidate with ' + cand.sdpMid + ' not allowed');\n    }\n\n    cand.sdpMLineIndex = this.cache.mlU2BMap[cand.sdpMLineIndex];\n\n    return cand;\n};\n\n/**\n * Returns the index of the first m-line with the given media type and with a\n * direction which allows sending, in the last Unified Plan description with\n * type \"answer\" converted to Plan B. Returns {null} if there is no saved\n * answer, or if none of its m-lines with the given type allow sending.\n * @param type the media type (\"audio\" or \"video\").\n * @returns {*}\n */\nInterop.prototype.getFirstSendingIndexFromAnswer = function(type) {\n    if (!this.cache.answer) {\n        return null;\n    }\n\n    var session = transform.parse(this.cache.answer);\n    if (session && session.media && Array.isArray(session.media)){\n        for (var i = 0; i < session.media.length; i++) {\n            if (session.media[i].type == type &&\n                (!session.media[i].direction /* default to sendrecv */ ||\n                    session.media[i].direction === 'sendrecv' ||\n                    session.media[i].direction === 'sendonly')){\n                return i;\n            }\n        }\n    }\n\n    return null;\n};\n\n/**\n * This method transforms a Unified Plan SDP to an equivalent Plan B SDP. A\n * PeerConnection wrapper transforms the SDP to Plan B before passing it to the\n * application.\n *\n * @param desc\n * @returns {*}\n */\nInterop.prototype.toPlanB = function(desc) {\n    var self = this;\n    //#region Preliminary input validation.\n\n    if (typeof desc !== 'object' || desc === null ||\n        typeof desc.sdp !== 'string') {\n        console.warn('An empty description was passed as an argument.');\n        return desc;\n    }\n\n    // Objectify the SDP for easier manipulation.\n    var session = transform.parse(desc.sdp);\n\n    // If the SDP contains no media, there's nothing to transform.\n    if (typeof session.media === 'undefined' ||\n        !Array.isArray(session.media) || session.media.length === 0) {\n        console.warn('The description has no media.');\n        return desc;\n    }\n\n    // Try some heuristics to \"make sure\" this is a Unified Plan SDP. Plan B\n    // SDP has a video, an audio and a data \"channel\" at most.\n    if (session.media.length <= 3 && session.media.every(function(m) {\n            return ['video', 'audio', 'data'].indexOf(m.mid) !== -1;\n        })) {\n        console.warn('This description does not look like Unified Plan.');\n        return desc;\n    }\n\n    //#endregion\n\n    // HACK https://bugzilla.mozilla.org/show_bug.cgi?id=1113443\n    var sdp = desc.sdp;\n    var rewrite = false;\n    for (var i = 0; i < session.media.length; i++) {\n        var uLine = session.media[i];\n        uLine.rtp.forEach(function(rtp) {\n            if (rtp.codec === 'NULL')\n            {\n                rewrite = true;\n                var offer = transform.parse(self.cache.offer);\n                rtp.codec = offer.media[i].rtp[0].codec;\n            }\n        });\n    }\n    if (rewrite) {\n        sdp = transform.write(session);\n    }\n\n    // Unified Plan SDP is our \"precious\". Cache it for later use in the Plan B\n    // -> Unified Plan transformation.\n    this.cache[desc.type] = sdp;\n\n    //#region Convert from Unified Plan to Plan B.\n\n    // We rebuild the session.media array.\n    var media = session.media;\n    session.media = [];\n\n    // Associative array that maps channel types to channel objects for fast\n    // access to channel objects by their type, e.g. type2bl['audio']->channel\n    // obj.\n    var type2bl = {};\n\n    // Used to build the group:BUNDLE value after the channels construction\n    // loop.\n    var types = [];\n\n    // Used to aggregate the directions of the m-lines.\n    var directionResult = {};\n\n    media.forEach(function(uLine) {\n        // rtcp-mux is required in the Plan B SDP.\n        if ((typeof uLine.rtcpMux !== 'string' ||\n            uLine.rtcpMux !== 'rtcp-mux') &&\n            uLine.direction !== 'inactive') {\n            throw new Error('Cannot convert to Plan B because m-lines ' +\n                'without the rtcp-mux attribute were found.');\n        }\n\n        // If we don't have a channel for this uLine.type OR the selected is\n        // inactive, then select this uLine as the channel basis.\n        if (typeof type2bl[uLine.type] === 'undefined' ||\n            type2bl[uLine.type].direction === 'inactive') {\n            type2bl[uLine.type] = uLine;\n        }\n    });\n\n    // Implode the Unified Plan m-lines/tracks into Plan B channels.\n    media.forEach(function(uLine) {\n        var type = uLine.type;\n\n        if (type === 'application') {\n            session.media.push(uLine);\n            types.push(uLine.mid);\n            return;\n        }\n\n        // Add sources to the channel and handle a=msid.\n        if (typeof uLine.sources === 'object') {\n            Object.keys(uLine.sources).forEach(function(ssrc) {\n                if (typeof type2bl[type].sources !== 'object')\n                    type2bl[type].sources = {};\n\n                // Assign the sources to the channel.\n                type2bl[type].sources[ssrc] = uLine.sources[ssrc];\n\n                if (typeof uLine.msid !== 'undefined') {\n                    // In Plan B the msid is an SSRC attribute. Also, we don't\n                    // care about the obsolete label and mslabel attributes.\n                    //\n                    // Note that it is not guaranteed that the uLine will\n                    // have an msid. recvonly channels in particular don't have\n                    // one.\n                    type2bl[type].sources[ssrc].msid = uLine.msid;\n                }\n                // NOTE ssrcs in ssrc groups will share msids, as\n                // draft-uberti-rtcweb-plan-00 mandates.\n            });\n        }\n\n        // Add ssrc groups to the channel.\n        if (typeof uLine.ssrcGroups !== 'undefined' &&\n                Array.isArray(uLine.ssrcGroups)) {\n\n            // Create the ssrcGroups array, if it's not defined.\n            if (typeof type2bl[type].ssrcGroups === 'undefined' ||\n                    !Array.isArray(type2bl[type].ssrcGroups)) {\n                type2bl[type].ssrcGroups = [];\n            }\n\n            type2bl[type].ssrcGroups\n                = type2bl[type].ssrcGroups.concat(uLine.ssrcGroups);\n        }\n\n        var direction = uLine.direction;\n\n        directionResult[type]\n            = (directionResult[type] || 0 /* inactive */)\n                | directionMasks[direction || 'inactive'];\n\n        if (type2bl[type] === uLine) {\n            // Plan B mids are in ['audio', 'video', 'data']\n            uLine.mid = type;\n\n            // Plan B doesn't support/need the bundle-only attribute.\n            delete uLine.bundleOnly;\n\n            // In Plan B the msid is an SSRC attribute.\n            delete uLine.msid;\n\n            if (direction !== 'inactive') {\n              // Used to build the group:BUNDLE value after this loop.\n              types.push(type);\n            }\n\n            // Add the channel to the new media array.\n            session.media.push(uLine);\n        }\n    });\n\n    // We regenerate the BUNDLE group with the new mids.\n    session.groups.some(function(group) {\n        if (group.type === 'BUNDLE') {\n            group.mids = types.join(' ');\n            return true;\n        }\n    });\n\n    // msid semantic\n    session.msidSemantic = {\n        semantic: 'WMS',\n        token: '*'\n    };\n\n    var resStr = transform.write(session);\n\n    return new RTCSessionDescription({\n        type: desc.type,\n        sdp: resStr\n    });\n\n    //#endregion\n};\n\n/**\n * This method transforms a Plan B SDP to an equivalent Unified Plan SDP. A\n * PeerConnection wrapper transforms the SDP to Unified Plan before passing it\n * to FF.\n *\n * @param desc\n * @returns {*}\n */\nInterop.prototype.toUnifiedPlan = function(desc) {\n    var self = this;\n    //#region Preliminary input validation.\n\n    if (typeof desc !== 'object' || desc === null ||\n        typeof desc.sdp !== 'string') {\n        console.warn('An empty description was passed as an argument.');\n        return desc;\n    }\n\n    var session = transform.parse(desc.sdp);\n\n    // If the SDP contains no media, there's nothing to transform.\n    if (typeof session.media === 'undefined' ||\n        !Array.isArray(session.media) || session.media.length === 0) {\n        console.warn('The description has no media.');\n        return desc;\n    }\n\n    // Try some heuristics to \"make sure\" this is a Plan B SDP. Plan B SDP has\n    // a video, an audio and a data \"channel\" at most.\n    if (session.media.length > 3 || !session.media.every(function(m) {\n            return ['video', 'audio', 'data'].indexOf(m.mid) !== -1;\n        })) {\n        console.warn('This description does not look like Plan B.');\n        return desc;\n    }\n\n    // Make sure this Plan B SDP can be converted to a Unified Plan SDP.\n    var mids = [];\n    session.media.forEach(function(m) {\n        mids.push(m.mid);\n    });\n\n    var hasBundle = false;\n    if (typeof session.groups !== 'undefined' &&\n        Array.isArray(session.groups)) {\n        hasBundle = session.groups.every(function(g) {\n            return g.type !== 'BUNDLE' ||\n                arrayEquals.apply(g.mids.sort(), [mids.sort()]);\n        });\n    }\n\n    if (!hasBundle) {\n        throw new Error(\"Cannot convert to Unified Plan because m-lines that\" +\n            \" are not bundled were found.\");\n    }\n\n    //#endregion\n\n\n    //#region Convert from Plan B to Unified Plan.\n\n    // Unfortunately, a Plan B offer/answer doesn't have enough information to\n    // rebuild an equivalent Unified Plan offer/answer.\n    //\n    // For example, if this is a local answer (in Unified Plan style) that we\n    // convert to Plan B prior to handing it over to the application (the\n    // PeerConnection wrapper called us, for instance, after a successful\n    // createAnswer), we want to remember the m-line at which we've seen the\n    // (local) SSRC. That's because when the application wants to do call the\n    // SLD method, forcing us to do the inverse transformation (from Plan B to\n    // Unified Plan), we need to know to which m-line to assign the (local)\n    // SSRC. We also need to know all the other m-lines that the original\n    // answer had and include them in the transformed answer as well.\n    //\n    // Another example is if this is a remote offer that we convert to Plan B\n    // prior to giving it to the application, we want to remember the mid at\n    // which we've seen the (remote) SSRC.\n    //\n    // In the iteration that follows, we use the cached Unified Plan (if it\n    // exists) to assign mids to ssrcs.\n\n    var cached;\n    if (typeof this.cache[desc.type] !== 'undefined') {\n        cached = transform.parse(this.cache[desc.type]);\n    }\n\n    var recvonlySsrcs = {\n        audio: {},\n        video: {}\n    };\n\n    // A helper map that sends mids to m-line objects. We use it later to\n    // rebuild the Unified Plan style session.media array.\n    var mid2ul = {};\n    var bIdx = 0;\n    var uIdx = 0;\n\n    session.media.forEach(function(bLine) {\n        if ((typeof bLine.rtcpMux !== 'string' ||\n            bLine.rtcpMux !== 'rtcp-mux') &&\n            bLine.direction !== 'inactive') {\n            throw new Error(\"Cannot convert to Unified Plan because m-lines \" +\n                \"without the rtcp-mux attribute were found.\");\n        }\n\n        if (bLine.type === 'application') {\n            mid2ul[bLine.mid] = bLine;\n            return;\n        }\n\n        // With rtcp-mux and bundle all the channels should have the same ICE\n        // stuff.\n        var sources = bLine.sources;\n        var ssrcGroups = bLine.ssrcGroups;\n        var candidates = bLine.candidates;\n        var iceUfrag = bLine.iceUfrag;\n        var icePwd = bLine.icePwd;\n        var fingerprint = bLine.fingerprint;\n        var port = bLine.port;\n\n        // We'll use the \"bLine\" object as a prototype for each new \"mLine\"\n        // that we create, but first we need to clean it up a bit.\n        delete bLine.sources;\n        delete bLine.ssrcGroups;\n        delete bLine.candidates;\n        delete bLine.iceUfrag;\n        delete bLine.icePwd;\n        delete bLine.fingerprint;\n        delete bLine.port;\n        delete bLine.mid;\n\n        // inverted ssrc group map\n        var ssrc2group = {};\n        if (typeof ssrcGroups !== 'undefined' && Array.isArray(ssrcGroups)) {\n            ssrcGroups.forEach(function (ssrcGroup) {\n\n                // TODO(gp) find out how to receive simulcast with FF. For the\n                // time being, hide it.\n                if (ssrcGroup.semantics === 'SIM') {\n                    return;\n                }\n\n                // XXX This might brake if an SSRC is in more than one group\n                // for some reason.\n                if (typeof ssrcGroup.ssrcs !== 'undefined' &&\n                    Array.isArray(ssrcGroup.ssrcs)) {\n                    ssrcGroup.ssrcs.forEach(function (ssrc) {\n                        if (typeof ssrc2group[ssrc] === 'undefined') {\n                            ssrc2group[ssrc] = [];\n                        }\n\n                        ssrc2group[ssrc].push(ssrcGroup);\n                    });\n                }\n            });\n        }\n\n        // ssrc to m-line index.\n        var ssrc2ml = {};\n\n        if (typeof sources === 'object') {\n\n            // Explode the Plan B channel sources with one m-line per source.\n            Object.keys(sources).forEach(function(ssrc) {\n\n                // The (unified) m-line for this SSRC. We either create it from\n                // scratch or, if it's a grouped SSRC, we re-use a related\n                // mline. In other words, if the source is grouped with another\n                // source, put the two together in the same m-line.\n                var uLine;\n\n                // We assume here that we are the answerer in the O/A, so any\n                // offers which we translate come from the remote side, while\n                // answers are local. So the check below is to make that we\n                // handle receive-only SSRCs in a special way only if they come\n                // from the remote side.\n                if (desc.type==='offer') {\n                    // We want to detect SSRCs which are used by a remote peer\n                    // in an m-line with direction=recvonly (i.e. they are\n                    // being used for RTCP only).\n                    // This information would have gotten lost if the remote\n                    // peer used Unified Plan and their local description was\n                    // translated to Plan B. So we use the lack of an MSID\n                    // attribute to deduce a \"receive only\" SSRC.\n                    if (!sources[ssrc].msid) {\n                        recvonlySsrcs[bLine.type][ssrc] = sources[ssrc];\n                        // Receive-only SSRCs must not create new m-lines. We\n                        // will assign them to an existing m-line later.\n                        return;\n                    }\n                }\n\n                if (typeof ssrc2group[ssrc] !== 'undefined' &&\n                    Array.isArray(ssrc2group[ssrc])) {\n                    ssrc2group[ssrc].some(function (ssrcGroup) {\n                        // ssrcGroup.ssrcs *is* an Array, no need to check\n                        // again here.\n                        return ssrcGroup.ssrcs.some(function (related) {\n                            if (typeof ssrc2ml[related] === 'object') {\n                                uLine = ssrc2ml[related];\n                                return true;\n                            }\n                        });\n                    });\n                }\n\n                if (typeof uLine === 'object') {\n                    // the m-line already exists. Just add the source.\n                    uLine.sources[ssrc] = sources[ssrc];\n                    delete sources[ssrc].msid;\n                } else {\n                    // Use the \"bLine\" as a prototype for the \"uLine\".\n                    uLine = Object.create(bLine);\n                    ssrc2ml[ssrc] = uLine;\n\n                    if (typeof sources[ssrc].msid !== 'undefined') {\n                        // Assign the msid of the source to the m-line. Note\n                        // that it is not guaranteed that the source will have\n                        // msid. In particular \"recvonly\" sources don't have an\n                        // msid. Note that \"recvonly\" is a term only defined\n                        // for m-lines.\n                        uLine.msid = sources[ssrc].msid;\n                        delete sources[ssrc].msid;\n                    }\n\n                    // We assign one SSRC per media line.\n                    uLine.sources = {};\n                    uLine.sources[ssrc] = sources[ssrc];\n                    uLine.ssrcGroups = ssrc2group[ssrc];\n\n                    // Use the cached Unified Plan SDP (if it exists) to assign\n                    // SSRCs to mids.\n                    if (typeof cached !== 'undefined' &&\n                        typeof cached.media !== 'undefined' &&\n                        Array.isArray(cached.media)) {\n\n                        cached.media.forEach(function (m) {\n                            if (typeof m.sources === 'object') {\n                                Object.keys(m.sources).forEach(function (s) {\n                                    if (s === ssrc) {\n                                        uLine.mid = m.mid;\n                                    }\n                                });\n                            }\n                        });\n                    }\n\n                    if (typeof uLine.mid === 'undefined') {\n\n                        // If this is an SSRC that we see for the first time\n                        // assign it a new mid. This is typically the case when\n                        // this method is called to transform a remote\n                        // description for the first time or when there is a\n                        // new SSRC in the remote description because a new\n                        // peer has joined the conference. Local SSRCs should\n                        // have already been added to the map in the toPlanB\n                        // method.\n                        //\n                        // Because FF generates answers in Unified Plan style,\n                        // we MUST already have a cached answer with all the\n                        // local SSRCs mapped to some m-line/mid.\n\n                        if (desc.type === 'answer') {\n                            throw new Error(\"An unmapped SSRC was found.\");\n                        }\n\n                        uLine.mid = [bLine.type, '-', ssrc].join('');\n                    }\n\n                    // Include the candidates in the 1st media line.\n                    uLine.candidates = candidates;\n                    uLine.iceUfrag = iceUfrag;\n                    uLine.icePwd = icePwd;\n                    uLine.fingerprint = fingerprint;\n                    uLine.port = port;\n\n                    mid2ul[uLine.mid] = uLine;\n\n                    self.cache.mlU2BMap[uIdx] = bIdx;\n                    if (typeof self.cache.mlB2UMap[bIdx] === 'undefined') {\n                      self.cache.mlB2UMap[bIdx] = uIdx;\n                    }\n                    uIdx++;\n                }\n            });\n        }\n\n        bIdx++;\n    });\n\n    // Rebuild the media array in the right order and add the missing mLines\n    // (missing from the Plan B SDP).\n    session.media = [];\n    mids = []; // reuse\n\n    if (desc.type === 'answer') {\n\n        // The media lines in the answer must match the media lines in the\n        // offer. The order is important too. Here we assume that Firefox is\n        // the answerer, so we merely have to use the reconstructed (unified)\n        // answer to update the cached (unified) answer accordingly.\n        //\n        // In the general case, one would have to use the cached (unified)\n        // offer to find the m-lines that are missing from the reconstructed\n        // answer, potentially grabbing them from the cached (unified) answer.\n        // One has to be careful with this approach because inactive m-lines do\n        // not always have an mid, making it tricky (impossible?) to find where\n        // exactly and which m-lines are missing from the reconstructed answer.\n\n        for (var i = 0; i < cached.media.length; i++) {\n            var uLine = cached.media[i];\n\n            if (typeof mid2ul[uLine.mid] === 'undefined') {\n\n                // The mid isn't in the reconstructed (unified) answer.\n                // This is either a (unified) m-line containing a remote\n                // track only, or a (unified) m-line containing a remote\n                // track and a local track that has been removed.\n                // In either case, it MUST exist in the cached\n                // (unified) answer.\n                //\n                // In case this is a removed local track, clean-up\n                // the (unified) m-line and make sure it's 'recvonly' or\n                // 'inactive'.\n\n                delete uLine.msid;\n                delete uLine.sources;\n                delete uLine.ssrcGroups;\n                if (!uLine.direction\n                    || uLine.direction === 'sendrecv')\n                    uLine.direction = 'recvonly';\n                else if (uLine.direction === 'sendonly')\n                    uLine.direction = 'inactive';\n            } else {\n                // This is an (unified) m-line/channel that contains a local\n                // track (sendrecv or sendonly channel) or it's a unified\n                // recvonly m-line/channel. In either case, since we're\n                // going from PlanB -> Unified Plan this m-line MUST\n                // exist in the cached answer.\n            }\n\n            session.media.push(uLine);\n\n            if (typeof uLine.mid === 'string') {\n                // inactive lines don't/may not have an mid.\n                mids.push(uLine.mid);\n            }\n        }\n    } else {\n\n        // SDP offer/answer (and the JSEP spec) forbids removing an m-section\n        // under any circumstances. If we are no longer interested in sending a\n        // track, we just remove the msid and ssrc attributes and set it to\n        // either a=recvonly (as the reofferer, we must use recvonly if the\n        // other side was previously sending on the m-section, but we can also\n        // leave the possibility open if it wasn't previously in use), or\n        // a=inactive.\n\n        if (typeof cached !== 'undefined' &&\n            typeof cached.media !== 'undefined' &&\n            Array.isArray(cached.media)) {\n            cached.media.forEach(function(uLine) {\n                mids.push(uLine.mid);\n                if (typeof mid2ul[uLine.mid] !== 'undefined') {\n                    session.media.push(mid2ul[uLine.mid]);\n                } else {\n                    delete uLine.msid;\n                    delete uLine.sources;\n                    delete uLine.ssrcGroups;\n                    if (!uLine.direction\n                        || uLine.direction === 'sendrecv')\n                        uLine.direction = 'recvonly';\n                    if (!uLine.direction\n                        || uLine.direction === 'sendonly')\n                        uLine.direction = 'inactive';\n                    session.media.push(uLine);\n                }\n            });\n        }\n\n        // Add all the remaining (new) m-lines of the transformed SDP.\n        Object.keys(mid2ul).forEach(function(mid) {\n            if (mids.indexOf(mid) === -1) {\n                mids.push(mid);\n                if (mid2ul[mid].direction === 'recvonly') {\n                    // This is a remote recvonly channel. Add its SSRC to the\n                    // appropriate sendrecv or sendonly channel.\n                    // TODO(gp) what if we don't have sendrecv/sendonly\n                    // channel?\n\n                    session.media.some(function (uLine) {\n                        if ((uLine.direction === 'sendrecv' ||\n                            uLine.direction === 'sendonly') &&\n                            uLine.type === mid2ul[mid].type) {\n\n                            // mid2ul[mid] shouldn't have any ssrc-groups\n                            Object.keys(mid2ul[mid].sources).forEach(\n                                function (ssrc) {\n                                uLine.sources[ssrc] =\n                                    mid2ul[mid].sources[ssrc];\n                            });\n\n                            return true;\n                        }\n                    });\n                } else {\n                    session.media.push(mid2ul[mid]);\n                }\n            }\n        });\n    }\n\n    // After we have constructed the Plan Unified m-lines we can figure out\n    // where (in which m-line) to place the 'recvonly SSRCs'.\n    // Note: we assume here that we are the answerer in the O/A, so any offers\n    // which we translate come from the remote side, while answers are local\n    // (and so our last local description is cached as an 'answer').\n    [\"audio\", \"video\"].forEach(function (type) {\n        if (!session || !session.media || !Array.isArray(session.media))\n            return;\n\n        var idx = null;\n        if (Object.keys(recvonlySsrcs[type]).length > 0) {\n            idx = self.getFirstSendingIndexFromAnswer(type);\n            if (idx === null){\n                // If this is the first offer we receive, we don't have a\n                // cached answer. Assume that we will be sending media using\n                // the first m-line for each media type.\n\n                for (var i = 0; i < session.media.length; i++) {\n                    if (session.media[i].type === type) {\n                        idx = i;\n                        break;\n                    }\n                }\n            }\n        }\n\n        if (idx && session.media.length > idx) {\n            var mLine = session.media[idx];\n            Object.keys(recvonlySsrcs[type]).forEach(function(ssrc) {\n                if (mLine.sources && mLine.sources[ssrc]) {\n                    console.warn(\"Replacing an existing SSRC.\");\n                }\n                if (!mLine.sources) {\n                    mLine.sources = {};\n                }\n\n                mLine.sources[ssrc] = recvonlySsrcs[type][ssrc];\n            });\n        }\n    });\n\n    // We regenerate the BUNDLE group (since we regenerated the mids)\n    session.groups.some(function(group) {\n        if (group.type === 'BUNDLE') {\n            group.mids = mids.join(' ');\n            return true;\n        }\n    });\n\n    // msid semantic\n    session.msidSemantic = {\n        semantic: 'WMS',\n        token: '*'\n    };\n\n    var resStr = transform.write(session);\n\n    // Cache the transformed SDP (Unified Plan) for later re-use in this\n    // function.\n    this.cache[desc.type] = resStr;\n\n    return new RTCSessionDescription({\n        type: desc.type,\n        sdp: resStr\n    });\n\n    //#endregion\n};\n\n/**\n * Maps the direction strings to their binary representation. The binary\n * representation of the directions will contain only 2 bits. The least\n * significant bit will indicate the receiving direction and the other bit will\n * indicate the sending direction.\n *\n * @type {Map<string, number>}\n */\nvar directionMasks = {\n    'inactive': 0, // 00\n    'recvonly': 1, // 01\n    'sendonly': 2, // 10\n    'sendrecv': 3  // 11\n}\n\n/**\n * Parses a number into direction string.\n *\n * @param {number} direction - The number to be parsed.\n * @returns {string} - The parsed direction string.\n */\nfunction parseDirection(direction) {\n    // Filter all other bits except the 2 less significant.\n    var directionMask = direction & 3;\n\n    switch (directionMask) {\n    case 0:\n        return 'inactive';\n    case 1:\n        return 'recvonly';\n    case 2:\n        return 'sendonly';\n    case 3:\n        return 'sendrecv';\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/lib/transform.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/sdp-interop/lib/transform.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar transform = __webpack_require__(/*! sdp-transform */ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/index.js\");\n\nexports.write = function(session, opts) {\n\n  if (typeof session !== 'undefined' &&\n      typeof session.media !== 'undefined' &&\n      Array.isArray(session.media)) {\n\n    session.media.forEach(function (mLine) {\n      // expand sources to ssrcs\n      if (typeof mLine.sources !== 'undefined' &&\n        Object.keys(mLine.sources).length !== 0) {\n          mLine.ssrcs = [];\n          Object.keys(mLine.sources).forEach(function (ssrc) {\n            var source = mLine.sources[ssrc];\n            Object.keys(source).forEach(function (attribute) {\n              mLine.ssrcs.push({\n                id: ssrc,\n                attribute: attribute,\n                value: source[attribute]\n              });\n            });\n          });\n          delete mLine.sources;\n        }\n\n      // join ssrcs in ssrc groups\n      if (typeof mLine.ssrcGroups !== 'undefined' &&\n        Array.isArray(mLine.ssrcGroups)) {\n          mLine.ssrcGroups.forEach(function (ssrcGroup) {\n            if (typeof ssrcGroup.ssrcs !== 'undefined' &&\n                Array.isArray(ssrcGroup.ssrcs)) {\n              ssrcGroup.ssrcs = ssrcGroup.ssrcs.join(' ');\n            }\n          });\n        }\n    });\n  }\n\n  // join group mids\n  if (typeof session !== 'undefined' &&\n      typeof session.groups !== 'undefined' && Array.isArray(session.groups)) {\n\n    session.groups.forEach(function (g) {\n      if (typeof g.mids !== 'undefined' && Array.isArray(g.mids)) {\n        g.mids = g.mids.join(' ');\n      }\n    });\n  }\n\n  return transform.write(session, opts);\n};\n\nexports.parse = function(sdp) {\n  var session = transform.parse(sdp);\n\n  if (typeof session !== 'undefined' && typeof session.media !== 'undefined' &&\n      Array.isArray(session.media)) {\n\n    session.media.forEach(function (mLine) {\n      // group sources attributes by ssrc\n      if (typeof mLine.ssrcs !== 'undefined' && Array.isArray(mLine.ssrcs)) {\n        mLine.sources = {};\n        mLine.ssrcs.forEach(function (ssrc) {\n          if (!mLine.sources[ssrc.id])\n          mLine.sources[ssrc.id] = {};\n        mLine.sources[ssrc.id][ssrc.attribute] = ssrc.value;\n        });\n\n        delete mLine.ssrcs;\n      }\n\n      // split ssrcs in ssrc groups\n      if (typeof mLine.ssrcGroups !== 'undefined' &&\n        Array.isArray(mLine.ssrcGroups)) {\n          mLine.ssrcGroups.forEach(function (ssrcGroup) {\n            if (typeof ssrcGroup.ssrcs === 'string') {\n              ssrcGroup.ssrcs = ssrcGroup.ssrcs.split(' ');\n            }\n          });\n        }\n    });\n  }\n  // split group mids\n  if (typeof session !== 'undefined' &&\n      typeof session.groups !== 'undefined' && Array.isArray(session.groups)) {\n\n    session.groups.forEach(function (g) {\n      if (typeof g.mids === 'string') {\n        g.mids = g.mids.split(' ');\n      }\n    });\n  }\n\n  return session;\n};\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/grammar.js\":\n/*!****************************************************************************!*\\\n  !*** ./node_modules/sdp-interop/node_modules/sdp-transform/lib/grammar.js ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{ //o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly..\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  //k: [{}], // outdated thing ignored\n  t: [{ //t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{ //c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{ //b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{ //m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    { //a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-\\.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding) ?\n          'rtpmap:%d %s/%s/%s':\n          o.rate ?\n          'rtpmap:%d %s/%s':\n          'rtpmap:%d %s';\n      }\n    },\n    { //a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      //a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    { //a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    { //a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null) ?\n          'rtcp:%d %s IP%d %s':\n          'rtcp:%d';\n      }\n    },\n    { //a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%d trr-int %d'\n    },\n    { //a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null) ?\n          'rtcp-fb:%s %s %s':\n          'rtcp-fb:%s %s';\n      }\n    },\n    { //a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      //a=extmap:1/recvonly URI-gps-string\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'uri', 'config'],\n      format: function (o) {\n        return 'extmap:%d' + (o.direction ? '/%s' : '%v') + ' %s' + (o.config ? ' %s' : '');\n      }\n    },\n    { //a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null) ?\n          'crypto:%d %s %s %s':\n          'crypto:%d %s %s';\n      }\n    },\n    { //a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    { //a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    { //a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    { //a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*)/,\n      format: 'ptime:%d'\n    },\n    { //a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*)/,\n      format: 'maxptime:%d'\n    },\n    { //a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    { //a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    { //a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    { //a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    { //a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    { //a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      //a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      //a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      //a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      //a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    { //a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    { //a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    { //a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    { //a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    { //a=ssrc-group:FEC 1 2\n      //a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    { //a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    { //a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    { //a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    { //a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    { //a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null) ?\n          'sctpmap:%s %s %s' :\n          'sctpmap:%s %s';\n      }\n    },\n    { //a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    { //a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    { //a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      //a=imageattr:* send [x=800,y=640] recv *\n      //a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        //a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        //send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        //recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    { //a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      //a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        //a=simulcast:\n        '^simulcast:' +\n        //send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        //space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        //end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    { //Old simulcast draft 03 (implemented by Firefox)\n      //  https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      //a=simulcast: recv pt=97;98 send pt=97\n      //a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      //a=framerate:25\n      //a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    { // any a= that we don't understand is kepts verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/index.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/sdp-interop/node_modules/sdp-transform/lib/index.js ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parser = __webpack_require__(/*! ./parser */ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/parser.js\");\nvar writer = __webpack_require__(/*! ./writer */ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/writer.js\");\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseFmtpConfig = parser.parseFmtpConfig;\nexports.parseParams = parser.parseParams;\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/parser.js\":\n/*!***************************************************************************!*\\\n  !*** ./node_modules/sdp-interop/node_modules/sdp-transform/lib/parser.js ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = __webpack_require__(/*! ./grammar */ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/grammar.js\");\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/\\;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/writer.js\":\n/*!***************************************************************************!*\\\n  !*** ./node_modules/sdp-interop/node_modules/sdp-transform/lib/writer.js ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar grammar = __webpack_require__(/*! ./grammar */ \"./node_modules/sdp-interop/node_modules/sdp-transform/lib/grammar.js\");\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-transform/lib/grammar.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/sdp-transform/lib/grammar.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%d trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-transform/lib/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/sdp-transform/lib/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parser = __webpack_require__(/*! ./parser */ \"./node_modules/sdp-transform/lib/parser.js\");\nvar writer = __webpack_require__(/*! ./writer */ \"./node_modules/sdp-transform/lib/writer.js\");\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseFmtpConfig = parser.parseFmtpConfig;\nexports.parseParams = parser.parseParams;\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-transform/lib/parser.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/sdp-transform/lib/parser.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = __webpack_require__(/*! ./grammar */ \"./node_modules/sdp-transform/lib/grammar.js\");\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  } else if (s.length === 1 && expr.length > 1) {\n    acc[s[0]] = undefined;\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.toString().split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/sdp-transform/lib/writer.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/sdp-transform/lib/writer.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar grammar = __webpack_require__(/*! ./grammar */ \"./node_modules/sdp-transform/lib/grammar.js\");\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/lib/index.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/socket.io-client/lib/index.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * Module dependencies.\n */\n\nvar url = __webpack_require__(/*! ./url */ \"./node_modules/socket.io-client/lib/url.js\");\nvar parser = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/index.js\");\nvar Manager = __webpack_require__(/*! ./manager */ \"./node_modules/socket.io-client/lib/manager.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = __webpack_require__(/*! ./manager */ \"./node_modules/socket.io-client/lib/manager.js\");\nexports.Socket = __webpack_require__(/*! ./socket */ \"./node_modules/socket.io-client/lib/socket.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/lib/manager.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/socket.io-client/lib/manager.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * Module dependencies.\n */\n\nvar eio = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/lib/index.js\");\nvar Socket = __webpack_require__(/*! ./socket */ \"./node_modules/socket.io-client/lib/socket.js\");\nvar Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nvar parser = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/index.js\");\nvar on = __webpack_require__(/*! ./on */ \"./node_modules/socket.io-client/lib/on.js\");\nvar bind = __webpack_require__(/*! component-bind */ \"./node_modules/component-bind/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('socket.io-client:manager');\nvar indexOf = __webpack_require__(/*! indexof */ \"./node_modules/indexof/index.js\");\nvar Backoff = __webpack_require__(/*! backo2 */ \"./node_modules/backo2/index.js\");\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/lib/on.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/socket.io-client/lib/on.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/lib/socket.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/socket.io-client/lib/socket.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * Module dependencies.\n */\n\nvar parser = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/index.js\");\nvar Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nvar toArray = __webpack_require__(/*! to-array */ \"./node_modules/to-array/index.js\");\nvar on = __webpack_require__(/*! ./on */ \"./node_modules/socket.io-client/lib/on.js\");\nvar bind = __webpack_require__(/*! component-bind */ \"./node_modules/component-bind/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('socket.io-client:socket');\nvar parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/parseqs/index.js\");\nvar hasBin = __webpack_require__(/*! has-binary2 */ \"./node_modules/has-binary2/index.js\");\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  this.flags = {};\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  this.flags = {};\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  var sameNamespace = packet.nsp === this.nsp;\n  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';\n\n  if (!sameNamespace && !rootNamespaceError) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} whether the emitted data contains binary\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/lib/url.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/socket.io-client/lib/url.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = __webpack_require__(/*! parseuri */ \"./node_modules/parseuri/index.js\");\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || (typeof location !== 'undefined' && location);\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-parser/binary.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/socket.io-parser/binary.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\");\nvar isBuf = __webpack_require__(/*! ./is-buffer */ \"./node_modules/socket.io-parser/is-buffer.js\");\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');\nvar withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-parser/index.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/socket.io-parser/index.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * Module dependencies.\n */\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/socket.io-parser/node_modules/debug/src/browser.js\")('socket.io-parser');\nvar Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nvar binary = __webpack_require__(/*! ./binary */ \"./node_modules/socket.io-parser/binary.js\");\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\");\nvar isBuf = __webpack_require__(/*! ./is-buffer */ \"./node_modules/socket.io-parser/is-buffer.js\");\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an encoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  } else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  } else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-parser/is-buffer.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/socket.io-parser/is-buffer.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof ArrayBuffer === 'function';\n\nvar isView = function (obj) {\n  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);\n};\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node-libs-browser/node_modules/buffer/index.js */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\").Buffer))\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-parser/node_modules/debug/src/browser.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/socket.io-parser/node_modules/debug/src/browser.js ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = __webpack_require__(/*! ./debug */ \"./node_modules/socket.io-parser/node_modules/debug/src/debug.js\");\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-parser/node_modules/debug/src/debug.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/socket.io-parser/node_modules/debug/src/debug.js ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = __webpack_require__(/*! ms */ \"./node_modules/socket.io-parser/node_modules/ms/index.js\");\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-parser/node_modules/ms/index.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/socket.io-parser/node_modules/ms/index.js ***!\n  \\****************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/split-on-first/index.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/split-on-first/index.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/strict-uri-encode/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/strict-uri-encode/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n\n\n/***/ }),\n\n/***/ \"./node_modules/to-array/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/to-array/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"./node_modules/yeast/index.js\":\n/*!*************************************!*\\\n  !*** ./node_modules/yeast/index.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, version, description, main, module, types, scripts, repository, files, author, license, devDependencies, dependencies, default */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"skyway-js\\\",\\\"version\\\":\\\"2.0.5\\\",\\\"description\\\":\\\"The official JavaScript SDK for SkyWay\\\",\\\"main\\\":\\\"dist/skyway.js\\\",\\\"module\\\":\\\"src/peer.js\\\",\\\"types\\\":\\\"skyway-js.d.ts\\\",\\\"scripts\\\":{\\\"test\\\":\\\"karma start ./karma.conf.js\\\",\\\"clean\\\":\\\"del ./dist\\\",\\\"lint\\\":\\\"eslint .\\\",\\\"build\\\":\\\"NODE_ENV=production webpack\\\",\\\"dev\\\":\\\"webpack -w\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/skyway/skyway-js-sdk\\\"},\\\"files\\\":[\\\"dist/skyway.js\\\",\\\"skyway-js.d.ts\\\",\\\"LICENSE\\\",\\\"CHANGELOG.md\\\",\\\"README.md\\\"],\\\"author\\\":\\\"NTT Communications Corp.\\\",\\\"license\\\":\\\"Apache-2.0\\\",\\\"devDependencies\\\":{\\\"babel-loader\\\":\\\"7.1.5\\\",\\\"babel-plugin-espower\\\":\\\"2.4.0\\\",\\\"babel-plugin-istanbul\\\":\\\"4.1.6\\\",\\\"babel-preset-es2015\\\":\\\"^6.24.1\\\",\\\"del-cli\\\":\\\"^2.0.0\\\",\\\"eslint\\\":\\\"^6.1.0\\\",\\\"eslint-config-prettier\\\":\\\"^6.0.0\\\",\\\"eslint-plugin-prettier\\\":\\\"^3.1.0\\\",\\\"inject-loader\\\":\\\"^4.0.1\\\",\\\"karma\\\":\\\"^4.2.0\\\",\\\"karma-chrome-launcher\\\":\\\"^3.0.0\\\",\\\"karma-coverage\\\":\\\"^1.1.2\\\",\\\"karma-mocha\\\":\\\"^1.3.0\\\",\\\"karma-mocha-reporter\\\":\\\"^2.2.5\\\",\\\"karma-sourcemap-loader\\\":\\\"^0.3.7\\\",\\\"karma-webpack\\\":\\\"^4.0.2\\\",\\\"mocha\\\":\\\"^6.2.0\\\",\\\"power-assert\\\":\\\"^1.6.1\\\",\\\"prettier\\\":\\\"^1.18.2\\\",\\\"sinon\\\":\\\"^7.3.2\\\",\\\"webpack\\\":\\\"^4.38.0\\\",\\\"webpack-cli\\\":\\\"^3.3.6\\\"},\\\"dependencies\\\":{\\\"@types/node\\\":\\\"^12.6.8\\\",\\\"detect-browser\\\":\\\"^4.6.0\\\",\\\"enum\\\":\\\"git+https://github.com/eastandwest/enum.git#react-native\\\",\\\"events\\\":\\\"^3.0.0\\\",\\\"js-binarypack\\\":\\\"0.0.9\\\",\\\"object-sizeof\\\":\\\"^1.4.0\\\",\\\"query-string\\\":\\\"^6.8.2\\\",\\\"sdp-interop\\\":\\\"^0.1.13\\\",\\\"sdp-transform\\\":\\\"^2.11.0\\\",\\\"socket.io-client\\\":\\\"^2.2.0\\\"}}\");\n\n/***/ }),\n\n/***/ \"./src/peer.js\":\n/*!**********************************!*\\\n  !*** ./src/peer.js + 12 modules ***!\n  \\**********************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/detect-browser/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/enum/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/events/events.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/js-binarypack/lib/binarypack.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/object-sizeof/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/query-string/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/sdp-interop/lib/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/sdp-transform/lib/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/socket.io-client/lib/index.js (<- Module is not an ECMAScript module) */\n/*! ModuleConcatenation bailout: Cannot concat with ./package.json (<- Module is not an ECMAScript module) */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/events/events.js\nvar events = __webpack_require__(\"./node_modules/events/events.js\");\nvar events_default = /*#__PURE__*/__webpack_require__.n(events);\n\n// EXTERNAL MODULE: ./node_modules/enum/index.js\nvar node_modules_enum = __webpack_require__(\"./node_modules/enum/index.js\");\nvar enum_default = /*#__PURE__*/__webpack_require__.n(node_modules_enum);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/lib/index.js\nvar lib = __webpack_require__(\"./node_modules/socket.io-client/lib/index.js\");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/query-string/index.js\nvar query_string = __webpack_require__(\"./node_modules/query-string/index.js\");\nvar query_string_default = /*#__PURE__*/__webpack_require__.n(query_string);\n\n// CONCATENATED MODULE: ./src/shared/config.js\n\n\nconst DISPATCHER_HOST = 'dispatcher.webrtc.ecl.ntt.com';\nconst DISPATCHER_PORT = 443;\nconst DISPATCHER_SECURE = true;\nconst DISPATCHER_TIMEOUT = 10000;\n\nconst TURN_HOST = 'turn.webrtc.ecl.ntt.com';\nconst TURN_PORT = 443;\n\nconst MESSAGE_TYPES = {\n  CLIENT: new enum_default.a([\n    'SEND_OFFER',\n    'SEND_ANSWER',\n    'SEND_CANDIDATE',\n    'SEND_LEAVE',\n    'ROOM_JOIN',\n    'ROOM_LEAVE',\n    'ROOM_GET_LOGS',\n    'ROOM_GET_USERS',\n    'ROOM_SEND_DATA',\n    'SFU_GET_OFFER',\n    'SFU_ANSWER',\n    'SFU_CANDIDATE',\n    'PING',\n    'UPDATE_CREDENTIAL',\n    'SEND_FORCE_CLOSE',\n  ]),\n  SERVER: new enum_default.a([\n    'OPEN',\n    'ERROR',\n    'OFFER',\n    'ANSWER',\n    'CANDIDATE',\n    'LEAVE',\n    'AUTH_EXPIRES_IN',\n    'ROOM_LOGS',\n    'ROOM_USERS',\n    'ROOM_DATA',\n    'ROOM_USER_JOIN',\n    'ROOM_USER_LEAVE',\n    'SFU_OFFER',\n    'FORCE_CLOSE',\n  ]),\n};\n\n// Current recommended maximum chunksize is 16KB (DataChannel spec)\n// https://tools.ietf.org/html/draft-ietf-rtcweb-data-channel-13\n// The actual chunk size is adjusted in dataChannel to accomodate metaData\nconst maxChunkSize = 16300;\n\n// Number of reconnection attempts to the same server before giving up\nconst reconnectionAttempts = 2;\n\n// Number of times to try changing servers before giving up\nconst numberServersToTry = 3;\n\n// Send loop interval in milliseconds\nconst sendInterval = 1;\n\n// Ping interval in milliseconds\nconst pingInterval = 25000;\n\nconst defaultConfig = {\n  iceServers: [\n    {\n      urls: 'stun:stun.webrtc.ecl.ntt.com:3478',\n      url: 'stun:stun.webrtc.ecl.ntt.com:3478',\n    },\n  ],\n  iceTransportPolicy: 'all',\n};\n\n/* harmony default export */ var config = ({\n  DISPATCHER_HOST,\n  DISPATCHER_PORT,\n  DISPATCHER_SECURE,\n  DISPATCHER_TIMEOUT,\n  TURN_HOST,\n  TURN_PORT,\n  MESSAGE_TYPES,\n  maxChunkSize,\n  reconnectionAttempts,\n  numberServersToTry,\n  sendInterval,\n  pingInterval,\n  defaultConfig,\n});\n\n// CONCATENATED MODULE: ./src/shared/logger.js\n\n\nconst LOG_PREFIX = 'SkyWay: ';\nconst LogLevel = new enum_default.a({\n  NONE: 0,\n  ERROR: 1,\n  WARN: 2,\n  FULL: 3,\n});\n\n/**\n * Class for logging\n * This class exports only one instance(a.k.a. Singleton)\n */\nclass Logger {\n  /**\n   * Create a Logger instance.\n   *\n   */\n  constructor() {\n    this._logLevel = LogLevel.NONE.value;\n    this.LOG_LEVELS = LogLevel;\n  }\n\n  /**\n   * Set the level of log.\n   * @param {number} [level=0] The log level. 0: NONE, 1: ERROR, 2: WARN, 3:FULL.\n   */\n  setLogLevel(level) {\n    if (level.value) {\n      level = level.value;\n    }\n\n    const debugLevel = parseInt(level, 10);\n\n    switch (debugLevel) {\n      case 0:\n        this._logLevel = LogLevel.NONE.value;\n        break;\n      case 1:\n        this._logLevel = LogLevel.ERROR.value;\n        break;\n      case 2:\n        this._logLevel = LogLevel.WARN.value;\n        break;\n      case 3:\n        this._logLevel = LogLevel.FULL.value;\n        break;\n      default:\n        this._logLevel = LogLevel.NONE.value;\n        break;\n    }\n  }\n\n  /**\n   * Output a warning message to the Web Console.\n   * @param {...*} args - arguments to warn.\n   */\n  warn(...args) {\n    if (this._logLevel >= LogLevel.WARN.value) {\n      console.warn(LOG_PREFIX, ...args);\n    }\n  }\n\n  /**\n   * Output an error message to the Web Console.\n   * @param {...*} args - arguments to error.\n   */\n  error(...args) {\n    if (this._logLevel >= LogLevel.ERROR.value) {\n      console.error(LOG_PREFIX, ...args);\n    }\n  }\n\n  /**\n   * Output a log message to the Web Console.\n   * @param {...*} args - arguments to log.\n   */\n  log(...args) {\n    if (this._logLevel >= LogLevel.FULL.value) {\n      console.log(LOG_PREFIX, ...args);\n    }\n  }\n}\n\n/* harmony default export */ var logger = (new Logger());\n\n// EXTERNAL MODULE: ./package.json\nvar package_0 = __webpack_require__(\"./package.json\");\n\n// CONCATENATED MODULE: ./src/peer/socket.js\n\n\n\n\n\n\n\n\n\n/**\n * Class to handle WS/HTTP communication with the signalling server\n * @extends EventEmitter\n */\nclass socket_Socket extends events_default.a {\n  /**\n   * Creates an instance of Socket.\n   * @param {string} key - The apiKey to connect using.\n   * @param {Object} options - Socket connection options.\n   * @param {boolean} options.secure - True if signalling server supports HTTPS/WSS.\n   * @param {string} options.host - The signalling server host.\n   * @param {number | string} options.port - The port the signalling server is listening to.\n   * @param {boolean} options.dispatcherSecure - True if dispatcher server supports HTTPS/WSS.\n   * @param {string} options.dispatcherHost - The signalling server host.\n   * @param {number | string} options.dispatcherPort - The port the signalling server is listening to.\n   */\n  constructor(key, options) {\n    super();\n\n    this._isOpen = false;\n    this._isPeerIdSet = false;\n    this._queue = [];\n\n    this._io = null;\n    this._key = key;\n    this._reconnectAttempts = 0;\n\n    if (options.host && options.port) {\n      const httpProtocol = options.secure ? 'https://' : 'http://';\n      this.signalingServerUrl = `${httpProtocol}${options.host}:${options.port}`;\n    } else {\n      const dispatcherHost = options.dispatcherHost || config.DISPATCHER_HOST;\n      const dispatcherPort = options.dispatcherPort || config.DISPATCHER_PORT;\n      const dispatcherSecure =\n        options.dispatcherSecure || config.DISPATCHER_SECURE;\n\n      const httpProtocol = dispatcherSecure ? 'https://' : 'http://';\n      this._dispatcherUrl = `${httpProtocol}${dispatcherHost}:${dispatcherPort}/signaling`;\n    }\n  }\n\n  /**\n   * Whether the socket is connecting to the signalling server or not.\n   * @type {boolean}\n   */\n  get isOpen() {\n    return Boolean(this._io && this._io.connected && this._isOpen);\n  }\n\n  /**\n   * Connect to the signalling server.\n   * @param {string} id - Unique peerId to identify the client.\n   * @param {string} token - Token to identify the session.\n   * @param {object} credential - The credential used to authenticate peer.\n   * @param {number} [credential.timestamp] - Current UNIX timestamp.\n   + @param {number} [credential.ttl] - Time to live; The credential expires at timestamp + ttl.\n   + @param {string} [credential.authToken] - Credential token calculated with HMAC.\n   * @return {Promise<void>} Promise that resolves when starting is done.\n   * @fires Socket#error\n   */\n  async start(id, token, credential) {\n    let query =\n      `apiKey=${this._key}&token=${token}` +\n      `&platform=javascript&sdk_version=${package_0[\"version\"]}`;\n\n    if (id) {\n      query += `&peerId=${id}`;\n      this._isPeerIdSet = true;\n    }\n\n    if (credential) {\n      const encodedCredentialStr = encodeURIComponent(\n        JSON.stringify(credential)\n      );\n      query += `&credential=${encodedCredentialStr}`;\n    }\n\n    if (this._dispatcherUrl) {\n      let serverInfo;\n      try {\n        serverInfo = await this._getSignalingServer();\n      } catch (err) {\n        this.emit('error', err);\n        return;\n      }\n      const httpProtocol = serverInfo.secure ? 'https://' : 'http://';\n      this.signalingServerUrl = `${httpProtocol}${serverInfo.host}:${serverInfo.port}`;\n    }\n\n    this._io = lib_default()(this.signalingServerUrl, {\n      'force new connection': true,\n      query: query,\n      reconnectionAttempts: config.reconnectionAttempts,\n    });\n\n    this._io.on('reconnect_failed', () => {\n      this._stopPings();\n      this._connectToNewServer();\n    });\n\n    this._io.on('error', e => {\n      logger.error(e);\n    });\n\n    this._setupMessageHandlers();\n  }\n\n  /**\n   * Connect to \"new\" signaling server. Attempts up to 10 times before giving up and emitting an error on the socket.\n   * @param {number} [numAttempts=0] - Current number of attempts.\n   * @return {Promise<void>} A promise that resolves with new connection has done.\n   * @private\n   */\n  async _connectToNewServer(numAttempts = 0) {\n    // max number of attempts to get a new server from the dispatcher.\n    const maxNumberOfAttempts = 10;\n    if (\n      numAttempts >= maxNumberOfAttempts ||\n      this._reconnectAttempts >= config.numberServersToTry\n    ) {\n      this.emit('error', 'Could not connect to server.');\n      return;\n    }\n\n    // Keep trying until we connect to a new server because consul can take some time to remove from the active list.\n    let serverInfo;\n    try {\n      serverInfo = await this._getSignalingServer();\n    } catch (err) {\n      this.emit('error', err);\n      return;\n    }\n\n    if (this.signalingServerUrl.indexOf(serverInfo.host) === -1) {\n      const httpProtocol = serverInfo.secure ? 'https://' : 'http://';\n      this.signalingServerUrl = `${httpProtocol}${serverInfo.host}:${serverInfo.port}`;\n\n      this._io.io.uri = this.signalingServerUrl;\n      this._io.connect();\n      this._reconnectAttempts++;\n    } else {\n      this._connectToNewServer(++numAttempts);\n    }\n  }\n\n  /**\n   * Return object including signaling server info.\n   * @return {Promise<Object>} A promise that resolves with signaling server info\n   and rejects if there's no response or status code isn't 200.\n   */\n  _getSignalingServer() {\n    return new Promise((resolve, reject) => {\n      const http = new XMLHttpRequest();\n\n      http.timeout = config.DISPATCHER_TIMEOUT;\n      http.open('GET', this._dispatcherUrl, true);\n      /* istanbul ignore next */\n      http.onerror = () => {\n        reject(\n          new Error(\n            'There was a problem with the request for the dispatcher. Check your peer options and network connections.'\n          )\n        );\n      };\n\n      http.onabort = () => {\n        reject(new Error('The request for the dispatcher was aborted.'));\n      };\n\n      http.ontimeout = () => {\n        reject(\n          new Error(\n            'The request for the dispatcher timed out. Check your firewall, network speed, SkyWay failure information'\n          )\n        );\n      };\n      http.onload = () => {\n        if (http.status !== 200) {\n          reject(\n            new Error('Connection failed. Unexpected response: ' + http.status)\n          );\n          return;\n        }\n        try {\n          const res = JSON.parse(http.responseText);\n          if (res && res.domain) {\n            resolve({ host: res.domain, port: 443, secure: true });\n            return;\n          }\n          reject(\n            new Error(\n              'The dispatcher server returned an invalid JSON response. have no signaling server domain in JSON.'\n            )\n          );\n        } catch (err) {\n          reject(\n            new Error(\n              'The dispatcher server returned an invalid JSON response.'\n            )\n          );\n        }\n      };\n      http.send(null);\n    });\n  }\n\n  /**\n   * Send a message to the signalling server. Queue the messages if not connected yet.\n   * @param {string} type - The signalling message type. Message types are defined in config.MESSAGE_TYPES.\n   * @param {string | object} message - The message to send to the server.\n   */\n  send(type, message) {\n    if (!type) {\n      this._io.emit('error', 'Invalid message');\n      return;\n    }\n\n    // If we are not connected yet, queue the message\n    if (!this.isOpen) {\n      this._queue.push({ type: type, message: message });\n      return;\n    }\n\n    if (this._io.connected === true) {\n      this._io.emit(type, message);\n    }\n  }\n\n  /**\n   * Disconnect from the signalling server.\n   */\n  close() {\n    if (this.isOpen) {\n      this._stopPings();\n      this._io.disconnect();\n      this._isOpen = false;\n    }\n  }\n\n  /**\n   * Reconnect to the signaling server.\n   */\n  reconnect() {\n    this._io.connect();\n  }\n\n  /**\n   * Update Credential by sending the new credential to the signaling server.\n   * Also set the new one to the Socket.io.opts's query string for reconnection.\n   * @param {object} newCredential - The new credential generated by user.\n   * @param {number} [newCredential.timestamp] - Current UNIX timestamp.\n   + @param {number} [newCredential.ttl] - Time to live; The credential expires at timestamp + ttl.\n   + @param {string} [newCredential.authToken] - Credential token calculated with HMAC.\n   */\n  updateCredential(newCredential) {\n    // Parse the current queryString and replace the new credential with old one\n    const parseQuery = query_string_default.a.parse(this._io.io.opts.query);\n    if (parseQuery.credential) {\n      parseQuery.credential = encodeURIComponent(JSON.stringify(newCredential));\n    } else {\n      // For future development; here we can tell the the developer\n      // which connection(p2p/turn/sfu) should be authenticated.\n      logger.warn(\"Adding a credential when one wasn't specified before.\");\n    }\n    this._io.io.opts.query = query_string_default.a.stringify(parseQuery);\n\n    this.send(config.MESSAGE_TYPES.CLIENT.UPDATE_CREDENTIAL.key, newCredential);\n  }\n\n  /**\n   * Set up the signalling message handlers.\n   * @private\n   * @fires Socket#OPEN\n   * @fires Socket#OFFER\n   * @fires Socket#ANSWER\n   * @fires Socket#CANDIDATE\n   * @fires Socket#LEAVE\n   * @fires Socket#AUTH_EXPIRES_IN\n   * @fires Socket#ROOM_OFFER\n   * @fires Socket#ROOM_USER_JOIN\n   * @fires Socket#ROOM_USER_LEAVE\n   * @fires Socket#ROOM_DATA\n   * @fires Socket#FORCE_CLOSE\n   */\n  _setupMessageHandlers() {\n    config.MESSAGE_TYPES.SERVER.enums.forEach(type => {\n      if (type.key === config.MESSAGE_TYPES.SERVER.OPEN.key) {\n        this._io.on(type.key, openMessage => {\n          if (!openMessage || !openMessage.peerId) {\n            return;\n          }\n          if (!this._isPeerIdSet) {\n            // set peerId for when reconnecting to the server\n            this._io.io.opts.query += `&peerId=${openMessage.peerId}`;\n            this._isPeerIdSet = true;\n          }\n          this._reconnectAttempts = 0;\n\n          this._startPings();\n          this._sendQueuedMessages();\n\n          if (!this._isOpen) {\n            this._isOpen = true;\n\n            // To inform the peer that the socket successfully connected\n            this.emit(type.key, openMessage);\n          }\n        });\n      } else {\n        this._io.on(type.key, message => {\n          this.emit(type.key, message);\n        });\n      }\n    });\n  }\n\n  /**\n   * Send messages that were queued when the client wasn't connected to the signalling server yet.\n   * @private\n   */\n  _sendQueuedMessages() {\n    for (const data of this._queue) {\n      this.send(data.type, data.message);\n    }\n    this._queue = [];\n  }\n\n  /**\n   * Start sending ping messages if they aren't already\n   * @private\n   */\n  _startPings() {\n    if (!this._pingIntervalId) {\n      this._pingIntervalId = setInterval(() => {\n        this.send(config.MESSAGE_TYPES.CLIENT.PING.key);\n      }, config.pingInterval);\n    }\n  }\n\n  /**\n   * Stop sending ping messages\n   * @private\n   */\n  _stopPings() {\n    clearInterval(this._pingIntervalId);\n    this._pingIntervalId = undefined;\n  }\n\n  /**\n   * Error occurred.\n   *\n   * @event Connection#error\n   * @type {Error}\n   */\n\n  /**\n   * Socket opened.\n   *\n   * @event Socket#OPEN\n   * @type {object}\n   * @property {string} peerId - The peerId of the client.\n   * @property {string} [turnCredential] - The turn credentials for this client.\n   */\n\n  /**\n   * Signalling server error.\n   *\n   * @event Socket#ERROR\n   * @type {string}\n   */\n\n  /**\n   * ICE candidate received from peer.\n   *\n   * @event Socket#CANDIDATE\n   * @type {object}\n   * @property {RTCIceCandidate} candidate - The ice candidate.\n   * @property {string} src - Sender peerId.\n   * @property {string} dst - Recipient peerId.\n   * @property {string} connectionId - The connection id.\n   * @property {string} connectionType - The connection type.\n   */\n\n  /**\n   * Offer received from peer.\n   *\n   * @event Socket#OFFER\n   * @type {object}\n   * @property {RTCSessionDescription} offer - The remote peer's offer.\n   * @property {string} src - Sender peerId.\n   * @property {string} dst - Recipient peerId.\n   * @property {string} connectionId - The connection id.\n   * @property {string} connectionType - The connection type.\n   * @property {object} metadata - Any extra data sent with the connection.\n   */\n\n  /**\n   * Answer received from peer.\n   *\n   * @event Socket#ANSWER\n   * @type {object}\n   * @property {RTCSessionDescription} answer - The remote peer's answer.\n   * @property {string} src - Sender peerId.\n   * @property {string} dst - Recipient peerId.\n   * @property {string} connectionId - The connection id.\n   * @property {string} connectionType - The connection type.\n   */\n\n  /**\n   * Peer has left.\n   *\n   * @event Socket#LEAVE\n   * @type {string}\n   */\n\n  /**\n   * Message sent to peer has failed.\n   *\n   * @event Socket#EXPIRE\n   * @type {string}\n   */\n\n  /**\n   * Room offer sdp received.\n   *\n   * @event Socket#ROOM_OFFER\n   * @type {object}\n   * @property {string} roomName - The name of the room the offer is for.\n   * @property {RTCSessionDescription} offer - The offer object.\n   */\n\n  /**\n   * User has joined the room.\n   *\n   * @event Socket#ROOM_USER_JOIN\n   * @type {object}\n   * @property {string} src - The peerId of the user who joined the room.\n   * @property {string} roomName - The name of the room joined.\n   */\n\n  /**\n   * User has left the room.\n   *\n   * @event Socket#ROOM_USER_LEAVE\n   * @type {object}\n   * @property {string} src - The peerId of the user who left the room.\n   * @property {string} roomName - The name of the room left.\n   */\n\n  /**\n   * Received a data message from a user in a room.\n   *\n   * @event Socket#ROOM_DATA\n   * @type {object}\n   * @property {string} src - The peerId of the user who sent the message.\n   * @property {string} roomName - The name of the room left.\n   * @property {*} data - The data that was sent.\n   */\n\n  /**\n   * Remote Peer requested to close a connection.\n   *\n   * @event Socket#FORCE_CLOSE\n   * @type {object}\n   * @property {string} src - Sender peerId.\n   * @property {string} dst - Recipient peerId.\n   * @property {string} connectionId - The connection id.\n   */\n}\n\n/* harmony default export */ var socket = (socket_Socket);\n\n// EXTERNAL MODULE: ./node_modules/sdp-transform/lib/index.js\nvar sdp_transform_lib = __webpack_require__(\"./node_modules/sdp-transform/lib/index.js\");\nvar sdp_transform_lib_default = /*#__PURE__*/__webpack_require__.n(sdp_transform_lib);\n\n// EXTERNAL MODULE: ./node_modules/sdp-interop/lib/index.js\nvar sdp_interop_lib = __webpack_require__(\"./node_modules/sdp-interop/lib/index.js\");\n\n// CONCATENATED MODULE: ./src/shared/sdpUtil.js\n\n\n\n/**\n * Class that contains utility functions for SDP munging.\n */\nclass sdpUtil_SdpUtil {\n  /**\n   * Convert unified plan SDP to Plan B SDP\n   * @param {RTCSessionDescriptionInit} offer unified plan SDP\n   * @return {RTCSessionDescription} Plan B SDP\n   */\n  unifiedToPlanB(offer) {\n    const interop = new sdp_interop_lib[\"Interop\"]();\n    const oldSdp = interop.toPlanB(offer).sdp;\n\n    // use a set to avoid duplicates\n    const msids = new Set();\n    // extract msids from the offer sdp\n    const msidRegexp = /a=ssrc:\\d+ msid:(\\w+)/g;\n    let matches;\n    // loop while matches is truthy\n    // double parentheses for explicit conditional assignment (lint)\n    while ((matches = msidRegexp.exec(oldSdp))) {\n      msids.add(matches[1]);\n    }\n\n    // replace msid-semantic line with planB version\n    const newSdp = oldSdp.replace(\n      'a=msid-semantic:WMS *',\n      `a=msid-semantic:WMS ${Array.from(msids).join(' ')}`\n    );\n\n    return new RTCSessionDescription({\n      type: 'offer',\n      sdp: newSdp,\n    });\n  }\n\n  /**\n   * Add b=AS to m=video section and return the SDP.\n   * @param {string} sdp - A SDP.\n   * @param {number} bandwidth - video Bandwidth (kbps)\n   * @return {string} A SDP which include b=AS in m=video section\n   */\n  addVideoBandwidth(sdp, bandwidth) {\n    this._validateBandwidth(bandwidth);\n    return this._addBandwidth(sdp, bandwidth, 'video');\n  }\n\n  /**\n   * Add b=AS to m=audio section and return the SDP\n   * @param {string} sdp - A SDP.\n   * @param {number} bandwidth - audio Bandwidth (kbps)\n   * @return {string} A SDP which include b=AS in m=audio section\n   */\n  addAudioBandwidth(sdp, bandwidth) {\n    this._validateBandwidth(bandwidth);\n    return this._addBandwidth(sdp, bandwidth, 'audio');\n  }\n\n  /**\n   * Remove video codecs in SDP except argument's codec.\n   * If the codec doesn't exist, throw error.\n   * @param {string} sdp - A SDP.\n   * @param {string} codec - Video codec name (e.g. H264)\n   * @return {string} A SDP which contains the codecs except argument's codec\n   */\n  filterVideoCodec(sdp, codec) {\n    return this._filterCodec(sdp, codec, 'video');\n  }\n\n  /**\n   * Remove audio codecs in SDP except argument's codec.\n   * If the codec doesn't exist, throw error.\n   * @param {string} sdp - A SDP.\n   * @param {string} codec - Audio codec name (e.g. PCMU)\n   * @return {string} A SDP which contains the codecs except argument's codec\n   */\n  filterAudioCodec(sdp, codec) {\n    return this._filterCodec(sdp, codec, 'audio');\n  }\n\n  /**\n   * Our signaling server determines client's SDP semantics\n   * by checking answer SDP includes `a=msid-semantic:WMS *` or NOT.\n   *\n   * Currenly, Firefox prints exact string,\n   * but Chrome does not. even using `unified-plan`.\n   * Therefore Chrome needs to pretend Firefox to join SFU rooms.\n   *\n   * At a glance, using `sdp-transform` is better choice to munge SDP,\n   * but if you do so, it prints `a=msid-semantic: WMS *`.\n   * The problem is the space before the word `WMS`,\n   * our signaling server can not handle this as `unified-plan` SDP...\n   *\n   * @param {string} sdp - A SDP.\n   * @return {string} A SDP which has `a=msid-semantic:WMS *`.\n   */\n  ensureUnifiedPlan(sdp) {\n    const delimiter = '\\r\\n';\n    return sdp\n      .split(delimiter)\n      .map(line => {\n        return line.startsWith('a=msid-semantic')\n          ? 'a=msid-semantic:WMS *'\n          : line;\n      })\n      .join(delimiter);\n  }\n\n  /**\n   * Remove codecs except the codec passed as argument and return the SDP\n   *\n   * @param {string} sdp - A SDP.\n   * @param {string} codec - The codec name, case sensitive.\n   * @param {string} mediaType - 'audio' or 'video'\n   * @return {string} A SDP which contains the codecs except argument's codec\n   * @private\n   */\n  _filterCodec(sdp, codec, mediaType) {\n    if (codec === undefined) {\n      throw new Error('codec is not passed');\n    }\n\n    const sdpObject = sdp_transform_lib_default.a.parse(sdp);\n\n    sdpObject.media = sdpObject.media.map(media => {\n      if (media.type === mediaType) {\n        media.rtp = media.rtp.filter(rtp => {\n          return rtp.codec === codec;\n        });\n\n        // Extract the payload number into Array, like [126, 97];\n        // Note, there are cases the length of Array is more than 2.\n        //   e.g. Firefox generates two 'H264' video codecs: 126, 97;\n        //   e.g. Chrome generates three 'CN' audio codecs:  106, 105, 13;\n        const payloadNumbers = media.rtp.reduce((prev, curr) => {\n          return [...prev, curr.payload];\n        }, []);\n\n        // At this point, 0 means there's no codec, so let's throw Error.\n        if (media.rtp.length === 0) {\n          throw new Error(`${codec} does not exist`);\n        }\n\n        // fmtp is optional though most codecs have this parameter.\n        if (media.fmtp) {\n          media.fmtp = media.fmtp.filter(fmtp => {\n            return payloadNumbers.includes(fmtp.payload);\n          });\n        }\n\n        // rtcpFb is optional. Especially, m=audio doesn't have rtcpFb.\n        if (media.rtcpFb) {\n          media.rtcpFb = media.rtcpFb.filter(rtcpFb => {\n            return payloadNumbers.includes(rtcpFb.payload);\n          });\n        }\n\n        media.payloads = payloadNumbers.join(' ');\n      }\n      return media;\n    });\n\n    return sdp_transform_lib_default.a.write(sdpObject);\n  }\n\n  /**\n   * Add b=AS to 'm=audio' or 'm=video' section and return the SDP\n   *\n   * @param {string} sdp - A SDP.\n   * @param {number} bandwidth - bandidth of 'audio' or 'video'\n   * @param {string} mediaType - 'audio' or 'video'\n   * @return {string} A SDP which include b=AS in m=audio or m=video section\n   * @private\n   */\n  _addBandwidth(sdp, bandwidth, mediaType) {\n    const sdpObject = sdp_transform_lib_default.a.parse(sdp);\n    sdpObject.media = sdpObject.media.map(media => {\n      if (media.type === mediaType) {\n        media.bandwidth = [\n          {\n            // Chrome supports only 'AS'\n            type: 'AS',\n            limit: bandwidth.toString(),\n          },\n          {\n            // Firefox Supports only 'TIAS' from M49\n            type: 'TIAS',\n            limit: (bandwidth * 1000).toString(),\n          },\n        ];\n      }\n      return media;\n    });\n    return sdp_transform_lib_default.a.write(sdpObject);\n  }\n\n  /**\n   * Check bandwidth is valid or not. If invalid, throw Error\n   * @param {number} bandwidth - bandwidth of 'audio' or 'video'\n   * @private\n   */\n  _validateBandwidth(bandwidth) {\n    if (bandwidth === undefined) {\n      throw new Error('bandwidth is not passed');\n    }\n\n    if (!/^\\d+$/.test(bandwidth)) {\n      throw new Error(`${bandwidth} is not a number`);\n    }\n  }\n}\n\n/* harmony default export */ var sdpUtil = (new sdpUtil_SdpUtil());\n\n// CONCATENATED MODULE: ./src/peer/negotiator.js\n\n\n\n\n\n\nconst NegotiatorEvents = new enum_default.a([\n  'addStream',\n  'dcCreated',\n  'offerCreated',\n  'answerCreated',\n  'iceCandidate',\n  'iceConnectionFailed',\n  'negotiationNeeded',\n  'error',\n]);\n\n/**\n * Class that manages RTCPeerConnection and SDP exchange.\n * @extends EventEmitter\n */\nclass negotiator_Negotiator extends events_default.a {\n  /**\n   * Create a negotiator\n   * @param {string} name - Room name.\n   */\n  constructor() {\n    super();\n    this._offerQueue = [];\n    this._isExpectingAnswer = false;\n    this._replaceStreamCalled = false;\n    this._isNegotiationAllowed = true;\n    this.hasRemoteDescription = false;\n  }\n\n  /**\n   * Class that manages RTCPeerConnection and SDP exchange.\n   * @param {object} [options] - Optional arguments for starting connection.\n   * @param {string} [options.type] - Type of connection. One of 'media' or 'data'.\n   * @param {MediaStream} [options._stream] - The MediaStream to be sent to the remote peer.\n   * @param {string} [options.label] - Label to easily identify the connection on either peer.\n   * @param {Object} [options.dcInit] - Options passed to createDataChannel() as a RTCDataChannelInit.\n   *                  See https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit\n   * @param {boolean} [options.originator] - true means the peer is the originator of the connection.\n   * @param {RTCSessionDescription} [options.offer]\n   *        - The local description. If the peer is originator, handleOffer is called with it.\n   * @param {object} [options.pcConfig] - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   * @return {Promise<void>} Promise that resolves when starting is done.\n   */\n  async startConnection(options = {}) {\n    this._pc = this._createPeerConnection(options.pcConfig);\n    this._setupPCListeners();\n    this.originator = options.originator;\n    this._audioBandwidth = options.audioBandwidth;\n    this._videoBandwidth = options.videoBandwidth;\n    this._audioCodec = options.audioCodec;\n    this._videoCodec = options.videoCodec;\n    this._type = options.type;\n\n    // Trigger negotiationneeded event\n    if (this._type === 'media') {\n      // video+audio or video only or audio only stream passed\n      if (options.stream) {\n        const vTracks = options.stream.getVideoTracks();\n        const aTracks = options.stream.getAudioTracks();\n        const recvonlyState = this._getReceiveOnlyState(options);\n\n        // create m= section w/ direction sendrecv\n        if (vTracks.length > 0) {\n          vTracks.forEach(track => this._pc.addTrack(track, options.stream));\n        }\n        // create m= section w/ direction recvonly or omit whole m= section\n        else {\n          recvonlyState.video &&\n            this._pc.addTransceiver('video', { direction: 'recvonly' });\n        }\n\n        if (aTracks.length > 0) {\n          aTracks.forEach(track => this._pc.addTrack(track, options.stream));\n        } else {\n          recvonlyState.audio &&\n            this._pc.addTransceiver('audio', { direction: 'recvonly' });\n        }\n      }\n      // if offer side and stream not passed, make it recvonly(= backward compat)\n      else if (this.originator) {\n        this._pc.addTransceiver('audio', { direction: 'recvonly' });\n        this._pc.addTransceiver('video', { direction: 'recvonly' });\n      }\n    }\n\n    if (this.originator) {\n      if (this._type === 'data') {\n        const label = options.label || '';\n        const dcInit = options.dcInit || {};\n        const dc = this._pc.createDataChannel(label, dcInit);\n        this.emit(negotiator_Negotiator.EVENTS.dcCreated.key, dc);\n      }\n    } else {\n      await this.handleOffer(options.offer);\n    }\n  }\n\n  /**\n   * Replace the stream being sent with a new one.\n   * Video and audio tracks are updated per track by using `{add|replace|remove}Track` methods.\n   * We assume that there is at most 1 audio and at most 1 video in local stream.\n   * @param {MediaStream} newStream - The stream to replace the old stream with.\n   * @private\n   */\n  replaceStream(newStream) {\n    // If negotiator is null\n    // or replaceStream was called but `onnegotiationneeded` event has not finished yet.\n    if (!this._pc) {\n      return;\n    }\n\n    this._isNegotiationAllowed = true;\n\n    const _this = this;\n    const vTracks = newStream.getVideoTracks();\n    const aTracks = newStream.getAudioTracks();\n\n    const senders = this._pc.getSenders();\n    const vSender = senders.find(\n      sender => sender.track && sender.track.kind === 'video'\n    );\n    const aSender = senders.find(\n      sender => sender.track && sender.track.kind === 'audio'\n    );\n\n    _updateSenderWithTrack(vSender, vTracks[0], newStream);\n    _updateSenderWithTrack(aSender, aTracks[0], newStream);\n\n    /**\n     * Replace a track being sent with a new one.\n     * @param {RTCRtpSender} sender - The sender which type is video or audio.\n     * @param {MediaStreamTrack} track - The track of new stream.\n     * @param {MediaStream} stream - The stream which contains the track.\n     * @private\n     */\n    function _updateSenderWithTrack(sender, track, stream) {\n      if (track === undefined && sender === undefined) {\n        return;\n      }\n      // remove video or audio sender if not passed\n      if (track === undefined) {\n        _this._pc.removeTrack(sender);\n        return;\n      }\n      // if passed, replace track or create sender\n      if (sender === undefined) {\n        _this._pc.addTrack(track, stream);\n        return;\n      }\n      // if track was not replaced, do nothing\n      if (sender.track.id === track.id) {\n        return;\n      }\n      sender.replaceTrack(track);\n    }\n  }\n\n  /**\n   * Set remote description with remote Offer SDP, then create Answer SDP and emit it.\n   * @param {object} [offerSdp] - An object containing Offer SDP.\n   * @return {Promise<void>} Promise that resolves when handling offer is done.\n   */\n  async handleOffer(offerSdp) {\n    // Avoid unnecessary processing by short circuiting the code if nothing has changed in the sdp.\n    if (this._lastOffer && offerSdp && this._lastOffer.sdp === offerSdp.sdp) {\n      return;\n    }\n\n    this._isNegotiationAllowed = true;\n\n    if (!offerSdp) {\n      offerSdp = this._lastOffer;\n    }\n\n    this._lastOffer = offerSdp;\n\n    // Enqueue and skip while signalingState is wrong state.\n    // (when room is SFU and there are multiple conns in a same time, it happens)\n    if (this._pc.signalingState === 'have-remote-offer') {\n      this._offerQueue.push(offerSdp);\n      return;\n    }\n\n    await this._setRemoteDescription(offerSdp);\n    const answer = await this._makeAnswerSdp().catch(err => logger.error(err));\n    this.emit(negotiator_Negotiator.EVENTS.answerCreated.key, answer);\n  }\n\n  /**\n   * Set remote description with Answer SDP.\n   * @param {object} answerSdp - An object containing Answer SDP.\n   */\n  async handleAnswer(answerSdp) {\n    this._isNegotiationAllowed = true;\n\n    if (this._isExpectingAnswer) {\n      await this._setRemoteDescription(answerSdp);\n      this._isExpectingAnswer = false;\n    } else if (this._pc.onnegotiationneeded) {\n      // manually trigger negotiation\n      this._pc.onnegotiationneeded();\n    }\n  }\n\n  /**\n   * Set ice candidate with Candidate SDP.\n   * @param {object} candidate - An object containing Candidate SDP.\n   * @return {Promise<void>} Promise that resolves when handling candidate is done.\n   */\n  async handleCandidate(candidate) {\n    await this._pc\n      .addIceCandidate(new RTCIceCandidate(candidate))\n      .then(() => logger.log('Successfully added ICE candidate'))\n      .catch(err => logger.error('Failed to add ICE candidate', err));\n  }\n\n  /**\n   * Close a PeerConnection.\n   */\n  cleanup() {\n    logger.log('Cleaning up PeerConnection');\n\n    if (\n      this._pc &&\n      (this._pc.readyState !== 'closed' || this._pc.signalingState !== 'closed')\n    ) {\n      this._pc.close();\n    }\n    this._pc = null;\n  }\n\n  /**\n   * Create new RTCPeerConnection.\n   * @param {object} pcConfig - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @return {RTCPeerConnection} An instance of RTCPeerConnection.\n   * @private\n   */\n  _createPeerConnection(pcConfig = {}) {\n    logger.log('Creating RTCPeerConnection');\n    // prevent from user passing plan-b\n    pcConfig.sdpSemantics = 'unified-plan';\n    return new RTCPeerConnection(pcConfig);\n  }\n\n  /**\n   * Set up event handlers of RTCPeerConnection events.\n   * @private\n   */\n  _setupPCListeners() {\n    const pc = this._pc;\n\n    pc.ontrack = evt => {\n      logger.log('Received remote media stream track');\n      evt.streams.forEach(stream => {\n        this.emit(negotiator_Negotiator.EVENTS.addStream.key, stream);\n      });\n    };\n\n    pc.ondatachannel = evt => {\n      logger.log('Received data channel');\n      const dc = evt.channel;\n      this.emit(negotiator_Negotiator.EVENTS.dcCreated.key, dc);\n    };\n\n    pc.onicecandidate = evt => {\n      /**\n       * Signals end-of-candidates by\n       *\n       * Firefox 68~\n       * evt = { candidate: RTCIceCandidate({ candidate: \"\" }) and\n       * evt = { candidate: null }\n       *\n       * Firefox ~67, Chrome, Safari\n       * evt = { candidate: null }\n       */\n      if (!evt.candidate || evt.candidate.candidate === '') {\n        logger.log('ICE candidates gathering complete');\n        return;\n      }\n\n      logger.log('Generated ICE candidate for:', evt.candidate);\n      this.emit(negotiator_Negotiator.EVENTS.iceCandidate.key, evt.candidate);\n    };\n\n    pc.oniceconnectionstatechange = () => {\n      switch (pc.iceConnectionState) {\n        case 'completed':\n          logger.log('iceConnectionState is completed');\n          // istanbul ignore next\n          pc.onicecandidate = () => {};\n          break;\n        case 'disconnected':\n          /**\n           * Browsers(Chrome/Safari/Firefox) implement iceRestart with createOffer(),\n           * but it seems buggy at 2017/08, so we don't use iceRestart to reconnect intensionally.\n           * Ref: https://github.com/nttcom-webcore/ECLRTC-JS-SDK/pull/37\n           */\n          logger.log(\n            'iceConnectionState is disconnected, trying reconnect by browser'\n          );\n          break;\n        case 'failed':\n          logger.log('iceConnectionState is failed, closing connection');\n          this.emit(negotiator_Negotiator.EVENTS.iceConnectionFailed.key);\n          break;\n        default:\n          logger.log(`iceConnectionState is ${pc.iceConnectionState}`);\n          break;\n      }\n    };\n    // from M76, iceConnectionState does not go to `failed` when connection dropps.\n    // See https://bugs.chromium.org/p/chromium/issues/detail?id=982793\n    // we polyfill it until it is resolved w/ API only Chrome implements to keep SDK behavior.\n    pc.onconnectionstatechange = () => {\n      logger.log(`connectionState is ${pc.connectionState}`);\n      if (\n        pc.connectionState === 'failed' &&\n        // this must be `disconnected`, but ensure it\n        pc.iceConnectionState === 'disconnected'\n      ) {\n        logger.log('connectionState is failed, closing connection');\n        this.emit(negotiator_Negotiator.EVENTS.iceConnectionFailed.key);\n      }\n    };\n\n    pc.onnegotiationneeded = async () => {\n      logger.log('`negotiationneeded` triggered');\n\n      // Don't make a new offer if it's not stable or if onnegotiationneeded is called consecutively.\n      // Chrome 65+ called onnegotiationneeded once per addTrack so force it to run only once.\n      if (pc.signalingState === 'stable' && this._isNegotiationAllowed) {\n        this._isNegotiationAllowed = false;\n        // Emit negotiationNeeded event in case additional handling is needed.\n        if (this.originator) {\n          const offer = await this._makeOfferSdp();\n          this._setLocalDescription(offer);\n          this.emit(negotiator_Negotiator.EVENTS.negotiationNeeded.key);\n        } else if (this._replaceStreamCalled) {\n          this.handleOffer();\n        }\n\n        this._replaceStreamCalled = false;\n      }\n    };\n\n    pc.onsignalingstatechange = () => {\n      logger.log(`signalingState is ${pc.signalingState}`);\n\n      // After signaling state is getting back to 'stable',\n      // apply pended remote offer, which was stored when simultaneous multiple conns happened in SFU room,\n      // Note that this code very rarely applies the old remote offer.\n      // E.g. \"Offer A -> Offer B\" should be the right order but for some reason like NW unstablity,\n      //      offerQueue might keep \"Offer B\" first and handle \"Offer A\" later.\n      if (pc.signalingState === 'stable') {\n        const offer = this._offerQueue.shift();\n        if (offer) {\n          this.handleOffer(offer);\n        }\n      }\n    };\n  }\n\n  /**\n   * Create Offer SDP.\n   * @return {Promise<Object>} A promise that resolves with Offer SDP.\n   * @private\n   */\n  async _makeOfferSdp() {\n    let offer;\n\n    try {\n      offer = await this._pc.createOffer();\n    } catch (err) {\n      err.type = 'webrtc';\n      logger.error(err);\n      this.emit(negotiator_Negotiator.EVENTS.error.key, err);\n\n      logger.log('Failed to createOffer, ', err);\n      throw err;\n    }\n\n    logger.log('Created offer.');\n\n    if (this._audioBandwidth) {\n      offer.sdp = sdpUtil.addAudioBandwidth(offer.sdp, this._audioBandwidth);\n    }\n    if (this._videoBandwidth) {\n      offer.sdp = sdpUtil.addVideoBandwidth(offer.sdp, this._videoBandwidth);\n    }\n    if (this._audioCodec) {\n      offer.sdp = sdpUtil.filterAudioCodec(offer.sdp, this._audioCodec);\n    }\n    if (this._videoCodec) {\n      offer.sdp = sdpUtil.filterVideoCodec(offer.sdp, this._videoCodec);\n    }\n\n    return offer;\n  }\n\n  /**\n   * Make Answer SDP and set it as local description.\n   * @return {Promise<Object>} A promise that is resolved with answer when setting local SDP is completed.\n   * @private\n   */\n  async _makeAnswerSdp() {\n    let answer;\n    try {\n      answer = await this._pc.createAnswer();\n    } catch (err) {\n      err.type = 'webrtc';\n      logger.error(err);\n      this.emit(negotiator_Negotiator.EVENTS.error.key, err);\n\n      logger.log('Failed to createAnswer, ', err);\n      throw err;\n    }\n\n    logger.log('Created answer.');\n\n    if (this._audioBandwidth) {\n      answer.sdp = sdpUtil.addAudioBandwidth(answer.sdp, this._audioBandwidth);\n    }\n    if (this._videoBandwidth) {\n      answer.sdp = sdpUtil.addVideoBandwidth(answer.sdp, this._videoBandwidth);\n    }\n    if (this._audioCodec) {\n      answer.sdp = sdpUtil.filterAudioCodec(answer.sdp, this._audioCodec);\n    }\n    if (this._videoCodec) {\n      answer.sdp = sdpUtil.filterVideoCodec(answer.sdp, this._videoCodec);\n    }\n\n    try {\n      await this._pc.setLocalDescription(answer);\n    } catch (err) {\n      err.type = 'webrtc';\n      logger.error(err);\n      this.emit(negotiator_Negotiator.EVENTS.error.key, err);\n\n      logger.log('Failed to setLocalDescription, ', err);\n      throw err;\n    }\n\n    logger.log('Set localDescription: answer');\n    logger.log(`Setting local description ${JSON.stringify(answer.sdp)}`);\n\n    return answer;\n  }\n\n  /**\n   * Set local description with Offer SDP and emit offerCreated event.\n   * @param {RTCSessionDescription} offer - Offer SDP.\n   * @return {Promise<void>} A promise that is resolved when setting local SDP is completed.\n   * @private\n   */\n  async _setLocalDescription(offer) {\n    logger.log(`Setting local description ${JSON.stringify(offer.sdp)}`);\n\n    try {\n      await this._pc.setLocalDescription(offer);\n    } catch (err) {\n      err.type = 'webrtc';\n      logger.error(err);\n      this.emit(negotiator_Negotiator.EVENTS.error.key, err);\n\n      logger.log('Failed to setLocalDescription, ', err);\n      throw err;\n    }\n\n    logger.log('Set localDescription: offer');\n    this._isExpectingAnswer = true;\n    this.emit(negotiator_Negotiator.EVENTS.offerCreated.key, offer);\n  }\n\n  /**\n   * Set remote SDP.\n   * @param {object} sdp - An object containing remote SDP.\n   * @return {Promise<void>} A promise that is resolved when setting remote SDP is completed.\n   * @private\n   */\n  async _setRemoteDescription(sdp) {\n    logger.log(`Setting remote description ${JSON.stringify(sdp)}`);\n\n    try {\n      await this._pc.setRemoteDescription(new RTCSessionDescription(sdp));\n      this.hasRemoteDescription = true;\n    } catch (err) {\n      err.type = 'webrtc';\n      logger.error(err);\n      this.emit(negotiator_Negotiator.EVENTS.error.key, err);\n\n      logger.log('Failed to setRemoteDescription: ', err);\n      throw err;\n    }\n\n    logger.log('Set remoteDescription:', sdp.type);\n  }\n\n  /**\n   * Get map object describes which kinds of tracks should be marked as recvonly\n   * @param {Object} options - Options of peer.call()\n   * @return {Object} Map object which streamTrack will be recvonly or not\n   */\n  _getReceiveOnlyState(options = {}) {\n    const state = {\n      audio: false,\n      video: false,\n    };\n\n    const hasStream = options.stream instanceof MediaStream;\n    const hasAudioTrack = hasStream\n      ? options.stream.getAudioTracks().length !== 0\n      : false;\n    const hasVideoTrack = hasStream\n      ? options.stream.getVideoTracks().length !== 0\n      : false;\n\n    // force true if stream not passed(backward compatibility)\n    if (\n      hasStream === false &&\n      options.audioReceiveEnabled === undefined &&\n      options.videoReceiveEnabled === undefined\n    ) {\n      state.audio = true;\n      state.video = true;\n      return state;\n    }\n\n    // Set recvonly to true if `stream does not have track` and `option is true` case only\n    if (options.audioReceiveEnabled && hasAudioTrack === false) {\n      state.audio = true;\n    }\n    if (options.videoReceiveEnabled && hasVideoTrack === false) {\n      state.video = true;\n    }\n\n    // If stream has track, ignore options, which results in setting sendrecv internally.\n    if (options.audioReceiveEnabled === false && hasAudioTrack) {\n      logger.warn(\n        'Option audioReceiveEnabled will be treated as true, because passed stream has MediaStreamTrack(kind = audio)'\n      );\n    }\n    if (options.videoReceiveEnabled === false && hasVideoTrack) {\n      logger.warn(\n        'Option videoReceiveEnabled will be treated as true, because passed stream has MediaStreamTrack(kind = video)'\n      );\n    }\n\n    return state;\n  }\n\n  /**\n   * Events the Negotiator class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return NegotiatorEvents;\n  }\n\n  /**\n   * Remote media stream received.\n   *\n   * @event Negotiator#addStream\n   * @type {MediaStream}\n   */\n\n  /**\n   * DataConnection is ready.\n   *\n   * @event Negotiator#dcCreated\n   * @type {DataConnection}\n   */\n\n  /**\n   * Offer SDP created.\n   *\n   * @event Negotiator#offerCreated\n   * @type {RTCSessionDescription}\n   */\n\n  /**\n   * Answer SDP created.\n   *\n   * @event Negotiator#answerCreated\n   * @type {RTCSessionDescription}\n   */\n\n  /**\n   * Ice Candidate created.\n   *\n   * @event Negotiator#iceCandidate\n   * @type {RTCIceCandidate}\n   */\n\n  /**\n   * Ice connection failed.\n   *\n   * @event Negotiator#iceConnectionFailed\n   */\n\n  /**\n   * Session needs negotiation.\n   *\n   * @event Negotiator#negotiationNeeded\n   */\n\n  /**\n   * Error occurred.\n   *\n   * @event Negotiator#error\n   * @type {Error}\n   */\n}\n\n/* harmony default export */ var negotiator = (negotiator_Negotiator);\n\n// EXTERNAL MODULE: ./node_modules/detect-browser/index.js\nvar detect_browser = __webpack_require__(\"./node_modules/detect-browser/index.js\");\n\n// CONCATENATED MODULE: ./src/shared/util.js\n\n\n/**\n * Validate the Peer ID format.\n * @param {string} [id] - A Peer ID.\n * @return {boolean} True if the peerId format is valid. False if not.\n */\nfunction validateId(id) {\n  // Allow empty ids\n  return !id || /^[A-Za-z0-9_-]+(?:[ _-][A-Za-z0-9]+)*$/.exec(id);\n}\n\n/**\n * Validate the API key.\n * @param {string} [key] A SkyWay API key.\n * @return {boolean} True if the API key format is valid. False if not.\n */\nfunction validateKey(key) {\n  // Allow empty keys\n  return !key || /^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$/.exec(key);\n}\n\n/**\n * Return random ID.\n * @return {string} A text consisting of 16 chars.\n */\nfunction randomId() {\n  const keyLength = 16;\n  // '36' means that we want to convert the number to a string using chars in\n  // the range of '0-9a-z'. The concatenated 0's are for padding the key,\n  // as Math.random() may produce a key shorter than 16 chars in length\n  const randString = Math.random().toString(36) + '0000000000000000000';\n  return randString.substr(2, keyLength);\n}\n\n/**\n * Generate random token.\n * @return {string} A token consisting of random alphabet and integer.\n */\nfunction randomToken() {\n  return Math.random()\n    .toString(36)\n    .substr(2);\n}\n\n/**\n * Combine the sliced ArrayBuffers.\n * @param {Array} buffers - An Array of ArrayBuffer.\n * @return {ArrayBuffer} The combined ArrayBuffer.\n */\nfunction joinArrayBuffers(buffers) {\n  const size = buffers.reduce((sum, buffer) => {\n    return sum + buffer.byteLength;\n  }, 0);\n  const tmpArray = new Uint8Array(size);\n  let currPos = 0;\n  for (const buffer of buffers) {\n    tmpArray.set(new Uint8Array(buffer), currPos);\n    currPos += buffer.byteLength;\n  }\n  return tmpArray.buffer;\n}\n\n/**\n * Convert Blob to ArrayBuffer.\n * @param {Blob} blob - The Blob to be read as ArrayBuffer.\n * @param {Function} cb - Callback function that called after load event fired.\n */\nfunction blobToArrayBuffer(blob, cb) {\n  const fr = new FileReader();\n  fr.onload = event => {\n    cb(event.target.result);\n  };\n  fr.readAsArrayBuffer(blob);\n}\n\n/**\n * Whether the protocol is https or not.\n * @return {boolean} Whether the protocol is https or not.\n */\nfunction isSecure() {\n  return location.protocol === 'https:';\n}\n\n/**\n * Detect browser name and version.\n * @return {Object} Browser name and major, minor and patch versions. Object is empty if info can't be obtained.\n */\nfunction detectBrowser() {\n  const { name, version } = Object(detect_browser[\"detect\"])();\n  const [major, minor, patch] = version.split('.').map(i => parseInt(i));\n  return {\n    name,\n    major,\n    minor,\n    patch,\n  };\n}\n\n/**\n * Safari 12.1 may use plan-b sdp and also unified-plan sdp.\n * It depends on user settings.\n * See https://webkit.org/blog/8672/on-the-road-to-webrtc-1-0-including-vp8/\n *\n * @return {boolean} Browser is plan-b Safari or NOT\n */\nfunction isPlanBSafari() {\n  const { name } = Object(detect_browser[\"detect\"])();\n\n  // safari for macOS, ios for iOS\n  if (!(name === 'safari' || name === 'ios')) {\n    return false;\n  }\n  // supports unified-plan\n  if (RTCRtpTransceiver.prototype.hasOwnProperty('currentDirection')) {\n    return false;\n  }\n\n  return true;\n}\n\n/* harmony default export */ var util = ({\n  validateId,\n  validateKey,\n  randomId,\n  randomToken,\n  joinArrayBuffers,\n  blobToArrayBuffer,\n  isSecure,\n  detectBrowser,\n  isPlanBSafari,\n});\n\n// CONCATENATED MODULE: ./src/peer/connection.js\n\n\n\n\n\n\n\n\nconst ConnectionEvents = new enum_default.a([\n  'candidate',\n  'offer',\n  'answer',\n  'close',\n  'forceClose',\n]);\n\n/**\n * Class that manages connections to other peers.\n * @extends EventEmitter\n */\nclass connection_Connection extends events_default.a {\n  /**\n   * Create a connection to another peer. Cannot be called directly. Must be called by a subclass.\n   * @param {string} remoteId - The peerId of the peer you are connecting to.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {string} [options.connectionId] - An ID to uniquely identify the connection.\n   *                                          Defaults to random string if not specified.\n   */\n  constructor(remoteId, options) {\n    super();\n\n    options = options || {};\n\n    // Abstract class\n    if (this.constructor === connection_Connection) {\n      throw new TypeError('Cannot construct Connection instances directly');\n    }\n\n    this._options = options;\n\n    /**\n     * Whether the Connection has been opened or not.\n     * @type {boolean}\n     */\n    this.open = false;\n\n    /**\n     * The connection type. Either 'media' or 'data'.\n     * @type {string}\n     */\n    this.type = undefined;\n\n    /**\n     * Any additional information to send to the peer.\n     * @type {object}\n     */\n    this.metadata = this._options.metadata;\n\n    /**\n     * PeerId of the peer this connection is connected to.\n     * @type {string}\n     */\n    this.remoteId = remoteId;\n\n    this._negotiator = new negotiator();\n\n    this._idPrefix = 'c_';\n    this._randomIdSuffix = util.randomToken();\n\n    this._setupNegotiatorMessageHandlers();\n  }\n\n  /**\n   * An id to uniquely identify the connection.\n   */\n  get id() {\n    return this._options.connectionId || this._idPrefix + this._randomIdSuffix;\n  }\n\n  /**\n   * Handle an sdp answer message from the remote peer.\n   * @param {object} answerMessage - Message object containing sdp answer.\n   */\n  async handleAnswer(answerMessage) {\n    if (this._pcAvailable) {\n      await this._negotiator.handleAnswer(answerMessage.answer);\n      this.open = true;\n      this._handleQueuedMessages();\n    } else {\n      logger.log(`Queuing ANSWER message in ${this.id} from ${this.remoteId}`);\n      this._queuedMessages.push({\n        type: config.MESSAGE_TYPES.SERVER.ANSWER.key,\n        payload: answerMessage,\n      });\n    }\n  }\n\n  /**\n   * Handle a candidate message from the remote peer.\n   * @param {object} candidateMessage - Message object containing a candidate.\n   */\n  handleCandidate(candidateMessage) {\n    // The orginator(caller) should wait for the remote ANSWER arrival and\n    // setRemoteDescription(ANSWER) before handleCandidate(addIceCandidate).\n    if (this._negotiator.originator && !this._negotiator.hasRemoteDescription) {\n      this._queuedMessages.push({\n        type: config.MESSAGE_TYPES.SERVER.CANDIDATE.key,\n        payload: candidateMessage,\n      });\n      return;\n    }\n\n    if (this._pcAvailable) {\n      this._negotiator.handleCandidate(candidateMessage.candidate);\n    } else {\n      logger.log(\n        `Queuing CANDIDATE message in ${this.id} from ${this.remoteId}`\n      );\n      this._queuedMessages.push({\n        type: config.MESSAGE_TYPES.SERVER.CANDIDATE.key,\n        payload: candidateMessage,\n      });\n    }\n  }\n\n  /**\n   * Handle an offer message from the remote peer. Allows an offer to be updated.\n   * @param {object} offerMessage - Message object containing an offer.\n   */\n  updateOffer(offerMessage) {\n    if (this.open) {\n      this._negotiator.handleOffer(offerMessage.offer);\n    } else {\n      this._options.payload = offerMessage;\n    }\n  }\n\n  /**\n   * Gives a RTCPeerConnection.\n   */\n  getPeerConnection() {\n    if (!this.open) {\n      return null;\n    }\n    return this._negotiator._pc;\n  }\n\n  /**\n   * Process messages received before the RTCPeerConnection is ready.\n   * @private\n   */\n  _handleQueuedMessages() {\n    for (const message of this._queuedMessages) {\n      switch (message.type) {\n        // Should we remove this ANSWER block\n        // because ANSWER should be handled immediately?\n        case config.MESSAGE_TYPES.SERVER.ANSWER.key:\n          this.handleAnswer(message.payload);\n          break;\n        case config.MESSAGE_TYPES.SERVER.CANDIDATE.key:\n          this.handleCandidate(message.payload);\n          break;\n        default:\n          logger.warn(\n            'Unrecognized message type:',\n            message.type,\n            'from peer:',\n            this.remoteId\n          );\n          break;\n      }\n    }\n    this._queuedMessages = [];\n  }\n\n  /**\n   * Disconnect from remote peer.\n   * @fires Connection#close\n   */\n  close(forceClose = false) {\n    if (!this.open) {\n      return;\n    }\n\n    this.open = false;\n    this._negotiator.cleanup();\n    this.emit(connection_Connection.EVENTS.close.key);\n\n    if (forceClose) {\n      this.emit(connection_Connection.EVENTS.forceClose.key);\n    }\n  }\n\n  /**\n   * Handle messages from the negotiator.\n   * @private\n   */\n  _setupNegotiatorMessageHandlers() {\n    this._negotiator.on(negotiator.EVENTS.answerCreated.key, answer => {\n      const connectionAnswer = {\n        answer: answer,\n        dst: this.remoteId,\n        connectionId: this.id,\n        connectionType: this.type,\n      };\n      this.emit(connection_Connection.EVENTS.answer.key, connectionAnswer);\n    });\n\n    this._negotiator.on(negotiator.EVENTS.offerCreated.key, offer => {\n      const connectionOffer = {\n        offer: offer,\n        dst: this.remoteId,\n        connectionId: this.id,\n        connectionType: this.type,\n        metadata: this.metadata,\n      };\n      if (this.serialization) {\n        connectionOffer.serialization = this.serialization;\n      }\n      if (this.label) {\n        connectionOffer.label = this.label;\n      }\n      if (this.dcInit) {\n        connectionOffer.dcInit = this.dcInit;\n      }\n      this.emit(connection_Connection.EVENTS.offer.key, connectionOffer);\n    });\n\n    this._negotiator.on(negotiator.EVENTS.iceCandidate.key, candidate => {\n      const connectionCandidate = {\n        candidate: candidate,\n        dst: this.remoteId,\n        connectionId: this.id,\n        connectionType: this.type,\n      };\n      this.emit(connection_Connection.EVENTS.candidate.key, connectionCandidate);\n    });\n\n    this._negotiator.on(negotiator.EVENTS.iceConnectionFailed.key, () => {\n      this.close();\n    });\n  }\n\n  /**\n   * The remote peerId.\n   * @type {string}\n   * @deprecated Use remoteId instead.\n   */\n  get peer() {\n    logger.warn(\n      `${this.constructor.name}.peer is deprecated and may be removed from a future version.` +\n        ` Please use ${this.constructor.name}.remoteId instead.`\n    );\n    return this.remoteId;\n  }\n\n  /**\n   * Events the Connection can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return ConnectionEvents;\n  }\n\n  /**\n   * ICE candidate created event.\n   *\n   * @event Connection#candidate\n   * @type {object}\n   * @property {RTCIceCandidate} candidate - The ice candidate.\n   * @property {string} dst - Destination peerId\n   * @property {string} connectionId - This connection's id.\n   * @property {string} connectionType - This connection's type.\n   */\n\n  /**\n   * Offer created event.\n   *\n   * @event Connection#offer\n   * @type {object}\n   * @property {RTCSessionDescription} offer - The local offer to send to the peer.\n   * @property {string} dst - Destination peerId\n   * @property {string} connectionId - This connection's id.\n   * @property {string} connectionType - This connection's type.\n   * @property {object} metadata - Any extra data to send with the connection.\n   */\n\n  /**\n   * Answer created event.\n   *\n   * @event Connection#answer\n   * @type {object}\n   * @property {RTCSessionDescription} answer - The local answer to send to the peer.\n   * @property {string} dst - Destination peerId\n   * @property {string} connectionId - This connection's id.\n   * @property {string} connectionType - This connection's type.\n   */\n\n  /**\n   * Connection closed event.\n   *\n   * @event Connection#close\n   */\n\n  /**\n   * Requested to close the connection.\n   *\n   * @event Connection#forceClose\n   */\n}\n\n/* harmony default export */ var peer_connection = (connection_Connection);\n\n// EXTERNAL MODULE: ./node_modules/js-binarypack/lib/binarypack.js\nvar binarypack = __webpack_require__(\"./node_modules/js-binarypack/lib/binarypack.js\");\nvar binarypack_default = /*#__PURE__*/__webpack_require__.n(binarypack);\n\n// EXTERNAL MODULE: ./node_modules/object-sizeof/index.js\nvar object_sizeof = __webpack_require__(\"./node_modules/object-sizeof/index.js\");\nvar object_sizeof_default = /*#__PURE__*/__webpack_require__.n(object_sizeof);\n\n// CONCATENATED MODULE: ./src/peer/dataConnection.js\n\n\n\n\n\n\n\n\n\n\nconst DCEvents = new enum_default.a(['open', 'data', 'error']);\n\nDCEvents.extend(peer_connection.EVENTS.enums);\n\nconst DCSerializations = new enum_default.a(['binary', 'binary-utf8', 'json', 'none']);\n\n/**\n * Class that manages data connections to other peers.\n * @extends Connection\n */\nclass dataConnection_DataConnection extends peer_connection {\n  /**\n   * Create a data connection to another peer.\n   * @param {string} remoteId - The peerId of the peer you are connecting to.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {string} [options.connectionId] - An ID to uniquely identify the connection. Defaults to random string if not specified.\n   * @param {string} [options.serialization] - How to serialize data when sending. One of 'binary', 'json' or 'none'.\n   * @param {string} [options.label] - Label to easily identify the connection on either peer.\n   * @param {Object} [options.dcInit] - Options passed to createDataChannel() as a RTCDataChannelInit.\n   *                  See https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit\n   * @param {string} [options.queuedMessages] - An array of messages that were already received before the connection was created.\n   * @param {string} [options.payload] - An offer message that triggered creating this object.\n   */\n  constructor(remoteId, options) {\n    super(remoteId, options);\n\n    this._idPrefix = 'dc_';\n    this.type = 'data';\n\n    this._isOnOpenCalled = false;\n\n    /**\n     * Label to easily identify the DataConnection on either peer.\n     * @type {string}\n     */\n    this.label = this._options.label || this.id;\n\n    // Use reliable mode by default\n    this.dcInit = this._options.dcInit || {};\n\n    // Serialization is binary by default\n    this.serialization = dataConnection_DataConnection.SERIALIZATIONS.binary.key;\n    if (this._options.serialization) {\n      if (!dataConnection_DataConnection.SERIALIZATIONS.get(this._options.serialization)) {\n        // Can't emit error as there hasn't been a chance to set up listeners\n        throw new Error('Invalid serialization');\n      }\n      this.serialization = this._options.serialization;\n\n      if (this._isUnreliableDCInit(this.dcInit)) {\n        logger.warn(\n          'You can not specify serialization with unreliable mode enabled.'\n        );\n        this.serialization = dataConnection_DataConnection.SERIALIZATIONS.binary.key;\n      }\n    }\n\n    // New send code properties\n    this._sendBuffer = [];\n    this._receivedData = {};\n    // Messages stored by peer because DC was not ready yet\n    this._queuedMessages = this._options.queuedMessages || [];\n\n    // This replaces the PeerJS 'initialize' method\n    this._negotiator.on(negotiator.EVENTS.dcCreated.key, dc => {\n      this._dc = dc;\n      this._dc.binaryType = 'arraybuffer';\n      this._setupMessageHandlers();\n\n      // Manually call dataChannel.onopen() if the dataChannel opened before the event handler was set.\n      // This can happen if the tab is in the background in Chrome as the event loop is handled differently.\n      if (!this._isOnOpenCalled && this._dc.readyState === 'open') {\n        this._dc.onopen();\n      }\n    });\n\n    // If this is not the originator, we need to set the pcConfig\n    if (this._options.payload) {\n      this._options.payload.pcConfig = this._options.pcConfig;\n    }\n  }\n\n  /**\n   * Start connection via negotiator and handle queued messages.\n   * @return {Promise<void>} Promise that resolves when starting is done.\n   */\n  async startConnection() {\n    await this._negotiator.startConnection(\n      this._options.payload || {\n        originator: true,\n        type: 'data',\n        label: this.label,\n        dcInit: this.dcInit,\n        pcConfig: this._options.pcConfig,\n      }\n    );\n\n    this._pcAvailable = true;\n    this._handleQueuedMessages();\n  }\n\n  /**\n   * Set up data channel event and message handlers.\n   * @private\n   */\n  _setupMessageHandlers() {\n    this._dc.onopen = () => {\n      if (this._isOnOpenCalled) {\n        return;\n      }\n\n      logger.log('Data channel connection success');\n      this.open = true;\n      this._isOnOpenCalled = true;\n      this.emit(dataConnection_DataConnection.EVENTS.open.key);\n    };\n\n    // We no longer need the reliable shim here\n    this._dc.onmessage = msg => {\n      this._handleDataMessage(msg);\n    };\n\n    this._dc.onclose = () => {\n      logger.log('DataChannel closed for:', this.id);\n      this.close();\n    };\n\n    this._dc.onerror = err => {\n      logger.error(err);\n    };\n  }\n\n  /**\n   * Handle a data message from the peer.\n   * @param {object} msg - The data message to handle.\n   * @private\n   */\n  _handleDataMessage(msg) {\n    if (this.serialization === dataConnection_DataConnection.SERIALIZATIONS.none.key) {\n      this.emit(dataConnection_DataConnection.EVENTS.data.key, msg.data);\n      return;\n    } else if (this.serialization === dataConnection_DataConnection.SERIALIZATIONS.json.key) {\n      this.emit(dataConnection_DataConnection.EVENTS.data.key, JSON.parse(msg.data));\n      return;\n    }\n\n    // Everything below is for serialization binary or binary-utf8\n\n    const dataMeta = binarypack_default.a.unpack(msg.data);\n\n    // If we haven't started receiving pieces of data with a given id, this will be undefined\n    // In that case, we need to initialise receivedData[id] to hold incoming file chunks\n    let currData = this._receivedData[dataMeta.id];\n    if (!currData) {\n      currData = this._receivedData[dataMeta.id] = {\n        size: dataMeta.size,\n        type: dataMeta.type,\n        name: dataMeta.name,\n        mimeType: dataMeta.mimeType,\n        totalParts: dataMeta.totalParts,\n        parts: new Array(dataMeta.totalParts),\n        receivedParts: 0,\n      };\n    }\n    currData.receivedParts++;\n    currData.parts[dataMeta.index] = dataMeta.data;\n\n    if (currData.receivedParts === currData.totalParts) {\n      delete this._receivedData[dataMeta.id];\n\n      // recombine the sliced arraybuffers\n      const ab = util.joinArrayBuffers(currData.parts);\n      const unpackedData = binarypack_default.a.unpack(ab);\n\n      let finalData;\n      switch (currData.type) {\n        case 'Blob':\n          finalData = new Blob([new Uint8Array(unpackedData)], {\n            type: currData.mimeType,\n          });\n          break;\n        case 'File':\n          finalData = new File([new Uint8Array(unpackedData)], currData.name, {\n            type: currData.mimeType,\n          });\n          break;\n        default:\n          finalData = unpackedData;\n      }\n\n      this.emit(dataConnection_DataConnection.EVENTS.data.key, finalData);\n    }\n  }\n\n  /**\n   * Send data to peer. If serialization is 'binary', it will chunk it before sending.\n   * @param {*} data - The data to send to the peer.\n   */\n  send(data) {\n    if (!this.open) {\n      this.emit(\n        dataConnection_DataConnection.EVENTS.error.key,\n        new Error(\n          'Connection is not open. You should listen for the `open` event before sending messages.'\n        )\n      );\n      return;\n    }\n\n    if (data === undefined || data === null) {\n      return;\n    }\n\n    if (this.serialization === dataConnection_DataConnection.SERIALIZATIONS.none.key) {\n      this._sendBuffer.push(data);\n      this._startSendLoop();\n      return;\n    } else if (this.serialization === dataConnection_DataConnection.SERIALIZATIONS.json.key) {\n      this._sendBuffer.push(JSON.stringify(data));\n      this._startSendLoop();\n      return;\n    }\n\n    // Everything below is for serialization binary or binary-utf8\n\n    const packedData = binarypack_default.a.pack(data);\n    const size = packedData.size;\n    const type = data.constructor.name;\n\n    const dataMeta = {\n      id: util.randomId(),\n      type: type,\n      size: size,\n      totalParts: 0,\n    };\n\n    if (type === 'File') {\n      dataMeta.name = data.name;\n    }\n    if (data instanceof Blob) {\n      dataMeta.mimeType = data.type;\n    }\n\n    // dataMeta contains all possible parameters by now.\n    // Adjust the chunk size to avoid issues with sending\n    const chunkSize = config.maxChunkSize - object_sizeof_default()(dataMeta);\n    const numSlices = Math.ceil(size / chunkSize);\n    dataMeta.totalParts = numSlices;\n\n    // Perform any required slicing\n    for (let sliceIndex = 0; sliceIndex < numSlices; sliceIndex++) {\n      const slice = packedData.slice(\n        sliceIndex * chunkSize,\n        (sliceIndex + 1) * chunkSize\n      );\n      dataMeta.index = sliceIndex;\n      dataMeta.data = slice;\n\n      // Add all chunks to our buffer and start the send loop (if we haven't already)\n      util.blobToArrayBuffer(binarypack_default.a.pack(dataMeta), ab => {\n        this._sendBuffer.push(ab);\n        this._startSendLoop();\n      });\n    }\n  }\n\n  /**\n   * Disconnect from remote peer.\n   * @fires DataConnection#close\n   */\n  close(forceClose) {\n    super.close(forceClose);\n\n    this._isOnOpenCalled = false;\n  }\n\n  /**\n   * Start sending messages at intervals to allow other threads to run.\n   * @private\n   */\n  _startSendLoop() {\n    if (!this.sendInterval) {\n      // Define send interval\n      // Try sending a new chunk with every callback\n      this.sendInterval = setInterval(() => {\n        // Might need more extensive buffering than this:\n        const currMsg = this._sendBuffer.shift();\n        try {\n          this._dc.send(currMsg);\n        } catch (error) {\n          this._sendBuffer.push(currMsg);\n        }\n\n        if (this._sendBuffer.length === 0) {\n          clearInterval(this.sendInterval);\n          this.sendInterval = undefined;\n        }\n      }, config.sendInterval);\n    }\n  }\n\n  /**\n   * Check dcInit argument is valid to enable unreliable mode.\n   * See https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit\n   * @param {Object} dcInit - Options passed to createDataChannel() as a RTCDataChannelInit.\n   *                  See https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit\n   * @return {boolean} Returns this dcInit has valid properties to enable unreliable mode.\n   */\n  _isUnreliableDCInit(dcInit) {\n    if (!dcInit) {\n      return false;\n    }\n\n    // Either of these props are passed, works on unreliable mode.\n    if ('maxRetransmits' in dcInit || 'maxPacketLifeTime' in dcInit) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Possible serializations for the DataConnection.\n   * @type {Enum}\n   */\n  static get SERIALIZATIONS() {\n    return DCSerializations;\n  }\n\n  /**\n   * Events the DataConnection class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return DCEvents;\n  }\n\n  /**\n   * DataConnection created event.\n   *\n   * @event DataConnection#open\n   */\n\n  /**\n   * Data received from peer.\n   *\n   * @event DataConnection#data\n   * @type {*}\n   */\n\n  /**\n   * Error occurred.\n   *\n   * @event DataConnection#error\n   * @type {Error}\n   */\n}\n\n/* harmony default export */ var dataConnection = (dataConnection_DataConnection);\n\n// CONCATENATED MODULE: ./src/peer/mediaConnection.js\n\n\n\n\n\n\nconst MCEvents = new enum_default.a(['stream']);\n\nMCEvents.extend(peer_connection.EVENTS.enums);\n\n/**\n * Class that manages data connections to other peers.\n * @extends Connection\n */\nclass mediaConnection_MediaConnection extends peer_connection {\n  /**\n   * Create a data connection to another peer.\n   * @param {string} remoteId - The peerId of the peer you are connecting to.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {string} [options.connectionId] - An ID to uniquely identify the connection. Defaults to random string if not specified.\n   * @param {string} [options.label] - Label to easily identify the connection on either peer.\n   * @param {object} [options.pcConfig] - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {object} [options.stream] - The MediaStream to send to the remote peer. Set only when on the caller side.\n   * @param {boolean} [options.originator] - true means the peer is the originator of the connection.\n   * @param {string} [options.queuedMessages] - An array of messages that were already received before the connection was created.\n   * @param {string} [options.payload] - An offer message that triggered creating this object.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   */\n  constructor(remoteId, options) {\n    super(remoteId, options);\n\n    this._idPrefix = 'mc_';\n    this.type = 'media';\n\n    /**\n     * The local MediaStream.\n     * @type {MediaStream}\n     */\n    this.localStream = this._options.stream;\n\n    // Messages stored by peer because MC was not ready yet\n    this._queuedMessages = this._options.queuedMessages || [];\n    this._pcAvailable = false;\n  }\n\n  /**\n   * Start connection via negotiator and handle queued messages.\n   * @return {Promise<void>} Promise that resolves when starting is done.\n   */\n  async startConnection() {\n    if (!this._options.originator) {\n      return;\n    }\n\n    await this._negotiator.startConnection({\n      type: 'media',\n      stream: this.localStream,\n      originator: this._options.originator,\n      pcConfig: this._options.pcConfig,\n      videoBandwidth: this._options.videoBandwidth,\n      audioBandwidth: this._options.audioBandwidth,\n      videoCodec: this._options.videoCodec,\n      audioCodec: this._options.audioCodec,\n      videoReceiveEnabled: this._options.videoReceiveEnabled,\n      audioReceiveEnabled: this._options.audioReceiveEnabled,\n    });\n\n    this._pcAvailable = true;\n    this._handleQueuedMessages();\n  }\n\n  /**\n   * Create and send an answer message.\n   * @param {MediaStream} stream - The stream to send to the peer.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   */\n  answer(stream, options = {}) {\n    if (this.localStream) {\n      logger.warn(\n        'localStream already exists on this MediaConnection. Are you answering a call twice?'\n      );\n      return;\n    }\n\n    this._options.payload.stream = stream;\n\n    this.localStream = stream;\n    this._negotiator.startConnection({\n      type: 'media',\n      stream: this.localStream,\n      originator: false,\n      offer: this._options.payload.offer,\n      pcConfig: this._options.pcConfig,\n      audioBandwidth: options.audioBandwidth,\n      videoBandwidth: options.videoBandwidth,\n      videoCodec: options.videoCodec,\n      audioCodec: options.audioCodec,\n    });\n    this._pcAvailable = true;\n\n    this._handleQueuedMessages();\n\n    this.open = true;\n  }\n\n  /**\n   * Replace the stream being sent with a new one.\n   * @param {MediaStream} newStream - The stream to replace the old stream with.\n   */\n  replaceStream(newStream) {\n    this._negotiator.replaceStream(newStream);\n    this.localStream = newStream;\n  }\n\n  /**\n   * Set up negotiator message handlers.\n   * @private\n   */\n  _setupNegotiatorMessageHandlers() {\n    super._setupNegotiatorMessageHandlers();\n\n    this._negotiator.on(negotiator.EVENTS.addStream.key, remoteStream => {\n      logger.log('Receiving stream', remoteStream);\n\n      // return if the remoteStream which we will add already exists\n      if (this.remoteStream && this.remoteStream.id === remoteStream.id) {\n        return;\n      }\n      this.remoteStream = remoteStream;\n\n      this.emit(mediaConnection_MediaConnection.EVENTS.stream.key, remoteStream);\n    });\n  }\n\n  /**\n   * Events the MediaConnection class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return MCEvents;\n  }\n\n  /**\n   * MediaStream received from peer.\n   *\n   * @event MediaConnection#stream\n   * @type {MediaStream}\n   */\n}\n\n/* harmony default export */ var mediaConnection = (mediaConnection_MediaConnection);\n\n// CONCATENATED MODULE: ./src/peer/room.js\n\n\n\nconst Events = [\n  'stream',\n  'open',\n  'close',\n  'peerJoin',\n  'peerLeave',\n  'error',\n  'data',\n  'log',\n];\n\nconst MessageEvents = [\n  'offer',\n  'answer',\n  'candidate',\n  'leave',\n  'close',\n  'getLog',\n  'broadcast',\n];\n\nconst RoomEvents = new enum_default.a(Events);\nconst RoomMessageEvents = new enum_default.a(MessageEvents);\n\n/**\n * Class to manage rooms where one or more users can participate\n * @extends EventEmitter\n */\nclass room_Room extends events_default.a {\n  /**\n   * Creates a Room instance.\n   * @param {string} name - Room name.\n   * @param {string} peerId - User's peerId.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {object} [options.stream] - User's medias stream to send other participants.\n   * @param {object} [options.pcConfig] - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   */\n  constructor(name, peerId, options = {}) {\n    super();\n\n    // Abstract class\n    if (this.constructor === room_Room) {\n      throw new TypeError('Cannot construct Room instances directly');\n    }\n\n    this.name = name;\n    this._options = options;\n    this._peerId = peerId;\n    this._localStream = this._options.stream;\n\n    this._pcConfig = this._options.pcConfig;\n  }\n\n  /**\n   * Handle received data message from other paricipants in the room.\n   * It emits data event.\n   * @param {object} dataMessage - The data message to handle.\n   * @param {ArrayBuffer} dataMessage.data - The data that a peer sent in the room.\n   * @param {string} dataMessage.src -  The peerId of the peer who sent the data.\n   * @param {string} [dataMessage.roomName] -  The name of the room user is joining.\n   */\n  handleData(dataMessage) {\n    const message = {\n      data: dataMessage.data,\n      src: dataMessage.src,\n    };\n    this.emit(room_Room.EVENTS.data.key, message);\n  }\n\n  /**\n   * Handle received log message.\n   * It emits log event with room's logs.\n   * @param {Array} logs - An array containing JSON text.\n   */\n  handleLog(logs) {\n    this.emit(room_Room.EVENTS.log.key, logs);\n  }\n\n  /**\n   * Start getting room's logs from SkyWay server.\n   */\n  getLog() {\n    const message = {\n      roomName: this.name,\n    };\n    this.emit(room_Room.MESSAGE_EVENTS.getLog.key, message);\n  }\n\n  /**\n   * Events the Room class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return RoomEvents;\n  }\n\n  /**\n   * MediaStream received from peer in the room.\n   *\n   * @event Room#stream\n   * @type {MediaStream}\n   */\n\n  /**\n   * Room is ready.\n   *\n   * @event Room#open\n   */\n\n  /**\n   * All connections in the room has closed.\n   *\n   * @event Room#close\n   */\n\n  /**\n   * New peer has joined.\n   *\n   * @event Room#peerJoin\n   * @type {string}\n   */\n\n  /**\n   * A peer has left.\n   *\n   * @event Room#peerLeave\n   * @type {string}\n   */\n\n  /**\n   * Error occured\n   *\n   * @event Room#error\n   */\n\n  /**\n   * Data received from peer.\n   *\n   * @event Room#data\n   * @type {object}\n   * @property {string} src - The peerId of the peer who sent the data.\n   * @property {*} data - The data that a peer sent in the room.\n   */\n\n  /**\n   * Room's log received.\n   *\n   * @event Room#log\n   * @type {Array}\n   */\n\n  /**\n   * Connection closed event.\n   *\n   * @event Connection#close\n   */\n\n  /**\n   * Events the Room class can emit.\n   * @type {Enum}\n   */\n  static get MESSAGE_EVENTS() {\n    return RoomMessageEvents;\n  }\n\n  /**\n   * Offer created event.\n   *\n   * @event Room#offer\n   * @type {object}\n   * @property {RTCSessionDescription} offer - The local offer to send to the peer.\n   * @property {string} dst - Destination peerId\n   * @property {string} connectionId - This connection's id.\n   * @property {string} connectionType - This connection's type.\n   * @property {object} metadata - Any extra data to send with the connection.\n   */\n\n  /**\n   * Answer created event.\n   *\n   * @event Room#answer\n   * @type {object}\n   * @property {RTCSessionDescription} answer - The local answer to send to the peer.\n   * @property {string} dst - Destination peerId\n   * @property {string} connectionId - This connection's id.\n   * @property {string} connectionType - This connection's type.\n   */\n\n  /**\n   * ICE candidate created event.\n   *\n   * @event Room#candidate\n   * @type {object}\n   * @property {RTCIceCandidate} candidate - The ice candidate.\n   * @property {string} dst - Destination peerId\n   * @property {string} connectionId - This connection's id.\n   * @property {string} connectionType - This connection's type.\n   */\n\n  /**\n   * Left the room.\n   *\n   * @event Room#peerLeave\n   * @type {object}\n   * @property {string} roomName - The room name.\n   */\n\n  /**\n   * Get room log from SkyWay server.\n   *\n   * @event Room#log\n   * @type {object}\n   * @property {string} roomName - The room name.\n   */\n}\n\n/* harmony default export */ var peer_room = (room_Room);\n\n// CONCATENATED MODULE: ./src/peer/sfuRoom.js\n\n\n\n\n\n\n\n\nconst sfuRoom_MessageEvents = ['offerRequest', 'candidate'];\n\nconst SFUEvents = new enum_default.a([]);\nSFUEvents.extend(peer_room.EVENTS.enums);\nconst SFUMessageEvents = new enum_default.a(sfuRoom_MessageEvents);\nSFUMessageEvents.extend(peer_room.MESSAGE_EVENTS.enums);\n\n/**\n * Class that manages SFU type room.\n * @extends Room\n */\nclass sfuRoom_SFURoom extends peer_room {\n  /**\n   * Creates a SFU type room.\n   * @param {string} name - Room name.\n   * @param {string} peerId - peerId - User's peerId.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {MediaStream} [options.stream] - The MediaStream to send to the remote peer.\n   * @param {object} [options.pcConfig] - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   */\n  constructor(name, peerId, options) {\n    super(name, peerId, options);\n\n    this.remoteStreams = {};\n    this.members = [];\n\n    this._open = false;\n    this._msidMap = {};\n    this._unknownStreams = {};\n\n    this._negotiator = new negotiator();\n  }\n\n  /**\n   * Send Offer request message to SFU server.\n   * @param {MediaStream} [stream] - A media stream to send.\n   */\n  call(stream) {\n    if (stream) {\n      this._localStream = stream;\n    }\n\n    const data = {\n      roomName: this.name,\n    };\n\n    this.emit(sfuRoom_SFURoom.MESSAGE_EVENTS.offerRequest.key, data);\n  }\n\n  /**\n   * Handles Offer message from SFU server.\n   * It create new RTCPeerConnection object.\n   * @param {object} offerMessage - Message object containing Offer SDP.\n   * @param {object} offerMessage.offer - Object containing Offer SDP text.\n   */\n  handleOffer(offerMessage) {\n    let offer = offerMessage.offer;\n\n    /**\n     * Our SFU returns unified-plan SDP.\n     * Our support browsers and sdp semantics relations are\n     *\n     * Chrome: unified-plan\n     * Firefox: unified-plan\n     * Safari 12.1~: plan-b\n     * Safari 12.1~: unified-plan(if user enables)\n     * Safari 12.1.1~: unified-plan\n     *\n     * So we need to convert server offer SDP for plan-b Safari\n     * We don't need to convert the answer back to Unified Plan because the server can handle Plan B.\n     */\n    if (util.isPlanBSafari()) {\n      offer = sdpUtil.unifiedToPlanB(offer);\n    }\n\n    // Handle SFU Offer and send Answer to Server\n    if (this._connectionStarted) {\n      this._negotiator.handleOffer(offer);\n    } else {\n      this._negotiator.startConnection({\n        type: 'media',\n        stream: this._localStream,\n        pcConfig: this._options.pcConfig,\n        offer: offer,\n      });\n      this._setupNegotiatorMessageHandlers();\n      this._connectionStarted = true;\n    }\n  }\n\n  /**\n   * Handle messages from the negotiator.\n   * @private\n   */\n  _setupNegotiatorMessageHandlers() {\n    this._negotiator.on(negotiator.EVENTS.addStream.key, stream => {\n      const remoteStream = stream;\n\n      if (this._msidMap[remoteStream.id]) {\n        remoteStream.peerId = this._msidMap[remoteStream.id];\n\n        // return if the remoteStream's peerID is my peerID\n        if (remoteStream.peerId === this._peerId) {\n          return;\n        }\n\n        // return if the cachedStream which we will add already exists\n        const cachedStream = this.remoteStreams[remoteStream.id];\n        if (cachedStream && cachedStream.id === remoteStream.id) {\n          return;\n        }\n        this.remoteStreams[remoteStream.id] = remoteStream;\n        this.emit(sfuRoom_SFURoom.EVENTS.stream.key, remoteStream);\n\n        logger.log(\n          `Received remote media stream for ${remoteStream.peerId} in ${this.name}`\n        );\n      } else {\n        this._unknownStreams[remoteStream.id] = remoteStream;\n      }\n    });\n\n    this._negotiator.on(negotiator.EVENTS.negotiationNeeded.key, () => {\n      // Renegotiate by requesting an offer then sending an answer when one is created.\n      const offerRequestMessage = {\n        roomName: this.name,\n      };\n      this.emit(sfuRoom_SFURoom.MESSAGE_EVENTS.offerRequest.key, offerRequestMessage);\n    });\n\n    this._negotiator.on(negotiator.EVENTS.answerCreated.key, answer => {\n      // If we use unified-plan SDP and send it to our SFU,\n      // of course it must be treated as unified-plan SDP too.\n      // We need to ensure it for some reason.(see its implementation)\n      if (!util.isPlanBSafari()) {\n        answer.sdp = sdpUtil.ensureUnifiedPlan(answer.sdp);\n      }\n\n      const answerMessage = {\n        roomName: this.name,\n        answer: answer,\n      };\n      this.emit(sfuRoom_SFURoom.MESSAGE_EVENTS.answer.key, answerMessage);\n    });\n\n    this._negotiator.on(negotiator.EVENTS.iceConnectionFailed.key, () => {\n      this.close();\n    });\n\n    this._negotiator.on(negotiator.EVENTS.iceCandidate.key, candidate => {\n      const candidateMessage = {\n        roomName: this.name,\n        candidate: candidate,\n      };\n      this.emit(sfuRoom_SFURoom.MESSAGE_EVENTS.candidate.key, candidateMessage);\n    });\n  }\n\n  /**\n   * Handles Join message from SFU server.\n   * It emits peerJoin event and if the message contains user's peerId, also emits open event.\n   * @param {Object} joinMessage - Message object.\n   * @param {string} joinMessage.src - The peerId of the peer that joined.\n   * @param {string} joinMessage.roomName - The name of the joined room.\n   * @param {Array} joinMessage.roomMembers - Array of peerId string.\n   */\n  handleJoin(joinMessage) {\n    const { src, roomMembers } = joinMessage;\n\n    if (src === this._peerId) {\n      this._open = true;\n\n      // init w/ members already in room(ignore myself)\n      this.members = roomMembers.filter(peerId => peerId !== src);\n\n      this.call(this._localStream);\n      this.emit(sfuRoom_SFURoom.EVENTS.open.key);\n\n      // At this stage the Server has acknowledged us joining a room\n      return;\n    }\n\n    this.members.push(src);\n    this.emit(sfuRoom_SFURoom.EVENTS.peerJoin.key, src);\n  }\n\n  /**\n   * Handles Leave message from SFU server.\n   * It emits peerLeave message.\n   * @param {Object} leaveMessage - Message from SFU server.\n   */\n  handleLeave(leaveMessage) {\n    if (!this._open) {\n      return;\n    }\n\n    const src = leaveMessage.src;\n\n    const index = this.members.indexOf(src);\n    if (index >= 0) {\n      this.members.splice(index, 1);\n    }\n\n    // Delete leaving peer's streams\n    for (const msid in this.remoteStreams) {\n      if (this.remoteStreams[msid].peerId === src) {\n        delete this.remoteStreams[msid];\n        delete this._msidMap[msid];\n        delete this._unknownStreams[msid];\n      }\n    }\n\n    this.emit(sfuRoom_SFURoom.EVENTS.peerLeave.key, src);\n  }\n\n  /**\n   * Send data to all participants in the room with WebSocket.\n   * It emits broadcast event.\n   * @param {*} data - The data to send.\n   */\n  send(data) {\n    if (!this._open) {\n      return;\n    }\n\n    const message = {\n      roomName: this.name,\n      data: data,\n    };\n    this.emit(sfuRoom_SFURoom.MESSAGE_EVENTS.broadcast.key, message);\n  }\n\n  /**\n   * Close PeerConnection and emit leave and close event.\n   */\n  close() {\n    if (!this._open) {\n      return;\n    }\n\n    if (this._negotiator) {\n      this._negotiator.cleanup();\n    }\n\n    this._open = false;\n\n    const message = {\n      roomName: this.name,\n    };\n    this.emit(sfuRoom_SFURoom.MESSAGE_EVENTS.leave.key, message);\n    this.emit(sfuRoom_SFURoom.EVENTS.close.key);\n  }\n\n  /**\n   * Replace the stream being sent with a new one.\n   * @param {MediaStream} newStream - The stream to replace the old stream with.\n   */\n  replaceStream(newStream) {\n    this._localStream = newStream;\n    this._negotiator.replaceStream(newStream);\n  }\n\n  /**\n   * Update the entries in the msid to peerId map.\n   * @param {Object} msids - Object with msids as the key and peerIds as the values.\n   */\n  updateMsidMap(msids = {}) {\n    this._msidMap = msids;\n\n    for (const msid of Object.keys(this._unknownStreams)) {\n      if (this._msidMap[msid]) {\n        const remoteStream = this._unknownStreams[msid];\n        remoteStream.peerId = this._msidMap[remoteStream.id];\n\n        delete this._unknownStreams[msid];\n\n        if (remoteStream.peerId === this._peerId) {\n          return;\n        }\n\n        this.remoteStreams[remoteStream.id] = remoteStream;\n        this.emit(sfuRoom_SFURoom.EVENTS.stream.key, remoteStream);\n      }\n    }\n  }\n\n  /**\n   * Events the SFURoom class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return SFUEvents;\n  }\n\n  /**\n   * Message events the MeshRoom class can emit.\n   * @type {Enum}\n   */\n  static get MESSAGE_EVENTS() {\n    return SFUMessageEvents;\n  }\n\n  /**\n   * Send offer request to SkyWay server.\n   *\n   * @event SFURoom#offerRequest\n   * @type {object}\n   * @property {string} roomName - The Room name.\n\n   */\n\n  /**\n   * Send data to all peers in the room by WebSocket.\n   *\n   * @event SFURoom#broadcast\n   * @type {object}\n   * @property {string} roomName - The Room name.\n   * @property {*} data - The data to send.\n   */\n}\n\n/* harmony default export */ var peer_sfuRoom = (sfuRoom_SFURoom);\n\n// CONCATENATED MODULE: ./src/peer/meshRoom.js\n\n\n\n\n\n\n\n\n\nconst meshRoom_MessageEvents = ['broadcastByDC', 'getPeers'];\n\nconst MeshEvents = new enum_default.a([]);\nMeshEvents.extend(peer_room.EVENTS.enums);\nconst MeshMessageEvents = new enum_default.a(meshRoom_MessageEvents);\nMeshMessageEvents.extend(peer_room.MESSAGE_EVENTS.enums);\n\n/**\n * Class that manages fullmesh type room.\n * @extends Room\n */\nclass meshRoom_MeshRoom extends peer_room {\n  /**\n   * Create a fullmesh room.\n   * @param {string} name - Room name.\n   * @param {string} peerId - User's peerId.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {MediaStream} [options.stream] - The MediaStream to send to the remote peer.\n   * @param {object} [options.pcConfig] - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   */\n  constructor(name, peerId, options) {\n    super(name, peerId, options);\n\n    this.connections = {};\n\n    // messages(candidates) received before connection is ready\n    this._queuedMessages = {};\n  }\n\n  /**\n   * Called by client app to create MediaConnections.\n   * It emit getPeers event for getting peerIds of all of room participant.\n   * After getting peerIds, makeMCs is called.\n   * @param {MediaStream} [stream] - The MediaStream to send to the remote peer.\n   */\n  call(stream) {\n    if (stream) {\n      this._localStream = stream;\n    }\n\n    const data = {\n      roomName: this.name,\n      type: 'media',\n    };\n\n    this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.getPeers.key, data);\n  }\n\n  /**\n   * Called by client app to create DataConnections.\n   * It emit getPeers event for getting peerIds of all of room participant.\n   * After getting peerIds, makeDCs is called.\n   */\n  connect() {\n    const data = {\n      roomName: this.name,\n      type: 'data',\n    };\n\n    this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.getPeers.key, data);\n  }\n\n  /**\n   * Start video call to all participants in the room.\n   * @param {Array} peerIds - Array of peerIds you are calling to.\n   */\n  makeMediaConnections(peerIds) {\n    const options = {\n      stream: this._localStream,\n      pcConfig: this._pcConfig,\n      originator: true,\n      videoBandwidth: this._options.videoBandwidth,\n      audioBandwidth: this._options.audioBandwidth,\n      videoCodec: this._options.videoCodec,\n      audioCodec: this._options.audioCodec,\n      videoReceiveEnabled: this._options.videoReceiveEnabled,\n      audioReceiveEnabled: this._options.audioReceiveEnabled,\n    };\n\n    this._makeConnections(peerIds, 'media', options);\n  }\n\n  /**\n   * Start data connection to all participants in the room.\n   * @param {Array} peerIds - Array of peerIds you are connecting to.\n   */\n  makeDataConnections(peerIds) {\n    const options = {\n      pcConfig: this._pcConfig,\n    };\n\n    this._makeConnections(peerIds, 'data', options);\n  }\n\n  /**\n   * Handle join message from new participant in the room.\n   * It emits peerJoin event and if the message contains user's peerId, also emits open event.\n   * @param {Object} joinMessage - Message object.\n   * @param {string} joinMessage.src - The peerId of the peer that joined.\n   * @param {string} joinMessage.roomName - The name of the joined room.\n   */\n  handleJoin(joinMessage) {\n    const src = joinMessage.src;\n    if (src === this._peerId) {\n      this.call(this._localStream);\n      this.emit(meshRoom_MeshRoom.EVENTS.open.key);\n\n      // At this stage the Server has acknowledged us joining a room\n      return;\n    }\n\n    this.emit(meshRoom_MeshRoom.EVENTS.peerJoin.key, src);\n  }\n\n  /**\n   * Handle leave message from other participant in the room.\n   * It deletes connection from room's connections property and emits peerLeave event.\n   * @param {Object} leaveMessage - Message object.\n   * @param {string} leaveMessage.src - The peerId of the peer that left.\n   * @param {string} leaveMessage.roomName - The name of the left room.\n   */\n  handleLeave(leaveMessage) {\n    const src = leaveMessage.src;\n    this._deleteConnections(src);\n    this.emit(meshRoom_MeshRoom.EVENTS.peerLeave.key, src);\n  }\n\n  /**\n   * Handle Offer message from new participant and create a Connection instance.\n   * @param {object} offerMessage - Message object containing Offer SDP.\n   * @param {object} offerMessage.offer - Object containing Offer SDP text.\n   * @param {string} offerMessage.connectionId - An ID to uniquely identify the connection.\n   * @param {string} offerMessage.connectionType - One of 'media' or 'data'.\n   * @param {string} offerMessage.dst - The peerId of the peer who receiving the Offer.\n   * @param {string} offerMessage.roomName - The name of the room user is joining.\n   * @param {string} offerMessage.src - The peerId of the peer who sent the Offer.\n   */\n  handleOffer(offerMessage) {\n    const connectionId = offerMessage.connectionId;\n    let connection = this._getConnection(offerMessage.src, connectionId);\n\n    if (connection) {\n      connection.updateOffer(offerMessage);\n      return;\n    }\n\n    if (offerMessage.connectionType === 'media') {\n      connection = new mediaConnection(offerMessage.src, {\n        connectionId: connectionId,\n        payload: offerMessage,\n        metadata: offerMessage.metadata,\n        queuedMessages: this._queuedMessages[connectionId],\n        pcConfig: this._pcConfig,\n      });\n      connection.startConnection();\n\n      logger.log('MediaConnection created in OFFER');\n      this._addConnection(offerMessage.src, connection);\n      this._setupMessageHandlers(connection);\n\n      connection.answer(this._localStream, {\n        videoBandwidth: this._options.videoBandwidth,\n        audioBandwidth: this._options.audioBandwidth,\n        videoCodec: this._options.videoCodec,\n        audioCodec: this._options.audioCodec,\n        videoReceiveEnabled: this._options.videoReceiveEnabled,\n        audioReceiveEnabled: this._options.audioReceiveEnabled,\n      });\n    } else {\n      logger.warn(\n        `Received malformed connection type: ${offerMessage.connectionType}`\n      );\n    }\n  }\n\n  /**\n   * Handle Answer message from participant in the room.\n   * @param {object} answerMessage - Message object containing Answer SDP.\n   * @param {object} answerMessage.answer - Object containing Answer SDP text.\n   * @param {string} answerMessage.connectionId - An ID to uniquely identify the connection.\n   * @param {string} answerMessage.connectionType - One of 'media' or 'data'.\n   * @param {string} answerMessage.dst - The peerId of the peer who receiving the Answer.\n   * @param {string} answerMessage.roomName - The name of the room user is joining.\n   * @param {string} answerMessage.src - The peerId of the peer who sent the Answer.\n   */\n  handleAnswer(answerMessage) {\n    const connection = this._getConnection(\n      answerMessage.src,\n      answerMessage.connectionId\n    );\n\n    if (connection) {\n      connection.handleAnswer(answerMessage);\n    }\n  }\n\n  /**\n   * Handles Candidate message from participant in the room.\n   * @param {object} candidateMessage - Message object containing Candidate SDP.\n   * @param {object} candidateMessage.candidate - Object containing Candidate SDP text.\n   * @param {string} candidateMessage.connectionId - An ID to uniquely identify the connection.\n   * @param {string} candidateMessage.connectionType - One of 'media' or 'data'.\n   * @param {string} candidateMessage.dst - The peerId of the peer who receiving the Candidate.\n   * @param {string} candidateMessage.roomName - The name of the room user is joining.\n   * @param {string} candidateMessage.src - The peerId of the peer who sent the Candidate.\n   */\n  handleCandidate(candidateMessage) {\n    const connection = this._getConnection(\n      candidateMessage.src,\n      candidateMessage.connectionId\n    );\n\n    if (connection) {\n      connection.handleCandidate(candidateMessage);\n    } else {\n      // Looks like PeerConnection hasn't completed setRemoteDescription\n      if (this._queuedMessages[candidateMessage.connectionId] === undefined) {\n        this._queuedMessages[candidateMessage.connectionId] = [];\n      }\n      this._queuedMessages[candidateMessage.connectionId].push({\n        type: config.MESSAGE_TYPES.SERVER.CANDIDATE.key,\n        payload: candidateMessage,\n      });\n    }\n  }\n\n  /**\n   * Send data to all participants in the room with WebSocket.\n   * It emits broadcast event.\n   * @param {*} data - The data to send.\n   */\n  send(data) {\n    const message = {\n      roomName: this.name,\n      data: data,\n    };\n    this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.broadcast.key, message);\n  }\n\n  /**\n   * Close all connections in the room.\n   */\n  close() {\n    for (const peerId in this.connections) {\n      if (this.connections.hasOwnProperty(peerId)) {\n        this.connections[peerId].forEach(connection => {\n          connection.close();\n        });\n      }\n    }\n    const message = {\n      roomName: this.name,\n    };\n    this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.leave.key, message);\n    this.emit(meshRoom_MeshRoom.EVENTS.close.key);\n  }\n\n  /**\n   * Replace the stream being sent on all MediaConnections   with a new one.\n   * @param {MediaStream} newStream - The stream to replace the old stream with.\n   */\n  replaceStream(newStream) {\n    this._localStream = newStream;\n    for (const peerId in this.connections) {\n      if (this.connections.hasOwnProperty(peerId)) {\n        this.connections[peerId].forEach(connection => {\n          if (connection.type === 'media') {\n            connection.replaceStream(newStream);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * Append a connection to peer's array of connections, stored in room.connections.\n   * @param {string} peerId - User's peerID.\n   * @param {MediaConnection|DataConnection} connection - An instance of MediaConnection or DataConnection.\n   * @private\n   */\n  _addConnection(peerId, connection) {\n    if (!this.connections[peerId]) {\n      this.connections[peerId] = [];\n    }\n    this.connections[peerId].push(connection);\n  }\n\n  /**\n   * Start connections and add handlers.\n   * @param {Array} peerIds - Array of peerIds you are creating connections for.\n   * @param {string} type - Either 'data' or 'media'.\n   * @param {Object} options - Options to pass to the connection constructor.\n   * @private\n   */\n  _makeConnections(peerIds, type, options) {\n    peerIds\n      .filter(peerId => {\n        return peerId !== this._peerId;\n      })\n      .forEach(peerId => {\n        let connection;\n\n        switch (type) {\n          case 'data':\n            connection = new dataConnection(peerId, options);\n            break;\n          case 'media':\n            connection = new mediaConnection(peerId, options);\n            break;\n          default:\n            return;\n        }\n\n        connection.startConnection();\n        this._addConnection(peerId, connection);\n        this._setupMessageHandlers(connection);\n\n        logger.log(`${type} connection to ${peerId} created in ${this.name}`);\n      });\n  }\n\n  /**\n   * Delete a connection according to given peerId.\n   * @param {string} peerId - The id of the peer that will be deleted.\n   * @private\n   */\n  _deleteConnections(peerId) {\n    if (this.connections[peerId]) {\n      delete this.connections[peerId];\n    }\n  }\n\n  /**\n   * Return a connection according to given peerId and connectionId.\n   * @param {string} peerId - User's PeerId.\n   * @param {string} connectionId - An ID to uniquely identify the connection.\n   * @return {Connection} A connection according to given peerId and connectionId.\n   * @private\n   */\n  _getConnection(peerId, connectionId) {\n    if (this.connections && this.connections[peerId]) {\n      const conn = this.connections[peerId].filter(connection => {\n        return connection.id === connectionId;\n      });\n      return conn[0];\n    }\n    return null;\n  }\n\n  /**\n   * Set up connection event and message handlers.\n   * @param {MediaConnection|DataConnection} connection - An instance of MediaConnection or DataConnection.\n   * @private\n   */\n  _setupMessageHandlers(connection) {\n    connection.on(peer_connection.EVENTS.offer.key, offerMessage => {\n      offerMessage.roomName = this.name;\n      this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.offer.key, offerMessage);\n    });\n\n    connection.on(peer_connection.EVENTS.answer.key, answerMessage => {\n      answerMessage.roomName = this.name;\n      this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.answer.key, answerMessage);\n    });\n\n    connection.on(peer_connection.EVENTS.candidate.key, candidateMessage => {\n      candidateMessage.roomName = this.name;\n      this.emit(meshRoom_MeshRoom.MESSAGE_EVENTS.candidate.key, candidateMessage);\n    });\n\n    if (connection.type === 'media') {\n      connection.on(mediaConnection.EVENTS.stream.key, remoteStream => {\n        remoteStream.peerId = connection.remoteId;\n        this.emit(meshRoom_MeshRoom.EVENTS.stream.key, remoteStream);\n      });\n    }\n  }\n\n  /**\n   * Events the MeshRoom class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return MeshEvents;\n  }\n\n  /**\n   * Message events the MeshRoom class can emit.\n   * @type {Enum}\n   */\n  static get MESSAGE_EVENTS() {\n    return MeshMessageEvents;\n  }\n\n  /**\n   * Get all peer's peerId joining in the room.\n   * @event MeshRoom#getPeers\n   * @type {object}\n   * @property {string} roomName - The Room name.\n   * @property {string} type - One of 'media' or 'data'.\n\n   */\n\n  /**\n   * Send data to all peers in the room by WebSocket.\n   *\n   * @event MeshRoom#broadcastByWS\n   * @type {object}\n   * @property {string} roomName - The Room name.\n   * @property {*} data - The data to send.\n   */\n\n  /**\n   * Send data to all peers in the room by DataChannel.\n   *\n   * @event MeshRoom#broadcastByDC\n   * @type {object}\n   * @property {string} roomName - The Room name.\n   * @property {*} data - The data to send.\n   */\n}\n\n/* harmony default export */ var peer_meshRoom = (meshRoom_MeshRoom);\n\n// CONCATENATED MODULE: ./src/peer.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PeerEvents = new enum_default.a([\n  'open',\n  'error',\n  'call',\n  'connection',\n  'expiresin',\n  'close',\n  'disconnected',\n]);\n\n/**\n * Class that manages all p2p connections and rooms.\n * This class contains socket.io message handlers.\n * @extends EventEmitter\n */\nclass peer_Peer extends events_default.a {\n  /**\n   * Create new Peer instance. This is called by user application.\n   * @param {string} [id] - User's peerId.\n   * @param {Object} options - Optional arguments for the connection.\n   * @param {string} options.key - SkyWay API key.\n   * @param {number} [options.debug=0] - Log level. NONE:0, ERROR:1, WARN:2, FULL:3.\n   * @param {string} [options.host] - The host name of signaling server.\n   * @param {number} [options.port] - The port number of signaling server.\n   * @param {string} [options.dispatcherPort=dispatcher.webrtc.ecl.ntt.com] - The host name of the dispatcher server.\n   * @param {number} [options.dispatcherPort=443] - The port number of dispatcher server.\n   * @param {boolean} [options.dispatcherSecure=true] - True if the dispatcher server supports https.\n   * @param {object} [options.config=config.defaultConfig] - A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {boolean} [options.turn=true] - Whether using TURN or not.\n   * @param {object} [options.credential] - The credential used to authenticate peer.\n   + @param {number} [options.credential.timestamp] - Current UNIX timestamp.\n   + @param {number} [options.credential.ttl] - Time to live; The credential expires at timestamp + ttl.\n   + @param {string} [options.credential.authToken] - Credential token calculated with HMAC.\n   */\n  constructor(id, options) {\n    super();\n\n    this.connections = {};\n    this.rooms = {};\n\n    // messages received before connection is ready\n    this._queuedMessages = {};\n\n    if (id && id.constructor === Object) {\n      options = id;\n      id = undefined;\n    } else if (id) {\n      id = id.toString();\n    }\n\n    const defaultOptions = {\n      debug: logger.LOG_LEVELS.NONE,\n      secure: true,\n      config: config.defaultConfig,\n      turn: true,\n\n      dispatcherSecure: config.DISPATCHER_SECURE,\n      dispatcherHost: config.DISPATCHER_HOST,\n      dispatcherPort: config.DISPATCHER_PORT,\n    };\n\n    this.options = Object.assign({}, defaultOptions, options);\n    // do not override by options\n    this.options.token = util.randomToken();\n\n    logger.setLogLevel(this.options.debug);\n\n    if (!util.validateId(id)) {\n      this._abort('invalid-id', `ID \"${id}\" is invalid`);\n      return;\n    }\n\n    if (!util.validateKey(options.key)) {\n      this._abort('invalid-key', `API KEY \"${this.options.key}\" is invalid`);\n      return;\n    }\n\n    if (this.options.host === '/') {\n      this.options.host = window.location.hostname;\n    }\n    if (options.secure === undefined && this.options.port !== 443) {\n      this.options.secure = undefined;\n    }\n    this._initializeServerConnection(id);\n  }\n\n  /**\n   * Creates new MediaConnection.\n   * @param {string} peerId - The peerId of the peer you are connecting to.\n   * @param {MediaStream} [stream] - The MediaStream to send to the remote peer.\n   *                               If not set, the caller creates offer SDP with `sendonly` attribute.\n   * @param {object} [options] - Optional arguments for the connection.\n   * @param {string} [options.connectionId] - An ID to uniquely identify the connection.\n   * @param {string} [options.label] - Label to easily identify the connection on either peer.\n   * @param {number} [options.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [options.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [options.videoCodec] - A video codec like 'H264'\n   * @param {string} [options.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   * @return {MediaConnection} An instance of MediaConnection.\n   */\n  call(peerId, stream, options = {}) {\n    if (!this._checkOpenStatus()) {\n      return;\n    }\n\n    options.originator = true;\n    options.stream = stream;\n    options.pcConfig = this._pcConfig;\n    const mc = new mediaConnection(peerId, options);\n    mc.startConnection();\n    logger.log('MediaConnection created in call method');\n    this._addConnection(peerId, mc);\n    return mc;\n  }\n\n  /**\n   * Creates new DataConnection.\n   * @param {string} peerId - User's peerId.\n   * @param {Object} [options] - Optional arguments for DataConnection.\n   * @param {string} [options.connectionId] - An ID to uniquely identify the connection.\n   * @param {string} [options.label] - Label to easily identify the connection on either peer.\n   * @param {Object} [options.dcInit] - Options passed to createDataChannel() as a RTCDataChannelInit.\n   *                  See https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit\n   * @param {string} [options.serialization] - How to serialize data when sending.\n   *                  One of 'binary', 'json' or 'none'.\n   * @return {DataConnection} An instance of DataConnection.\n   */\n  connect(peerId, options = {}) {\n    if (!this._checkOpenStatus()) {\n      return;\n    }\n\n    options.pcConfig = this._pcConfig;\n    const connection = new dataConnection(peerId, options);\n    connection.startConnection();\n    logger.log('DataConnection created in connect method');\n    this._addConnection(peerId, connection);\n    return connection;\n  }\n\n  /**\n   * Join fullmesh type or SFU type room that two or more users can join.\n   * @param {string} roomName - The name of the room user is joining to.\n   * @param {object} [roomOptions]- Optional arguments for the RTCPeerConnection.\n   * @param {string} [roomOptions.mode='mesh'] - One of 'sfu' or 'mesh'.\n   * @param {MediaStream} [roomOptions.stream] - Media stream user wants to emit.\n   * @param {number} [roomOptions.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [roomOptions.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [roomOptions.videoCodec] - A video codec like 'H264'\n   * @param {string} [roomOptions.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [options.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [options.audioReceiveEnabled] - A flag to set audio recvonly\n   * @return {SFURoom|MeshRoom} - An instance of SFURoom or MeshRoom.\n   */\n  joinRoom(roomName, roomOptions = {}) {\n    if (!this._checkOpenStatus()) {\n      return;\n    }\n\n    if (!roomName) {\n      const err = new Error('Room name must be defined.');\n      err.type = 'room-error';\n      logger.error(err);\n      this.emit(peer_Peer.EVENTS.error.key, err);\n      return null;\n    }\n\n    roomOptions.pcConfig = this._pcConfig;\n    roomOptions.peerId = this.id;\n\n    if (roomOptions.mode === 'sfu') {\n      return this._initializeSfuRoom(roomName, roomOptions);\n    }\n\n    // mode is blank or 'mesh'\n    return this._initializeFullMeshRoom(roomName, roomOptions);\n  }\n\n  /**\n   * Returns a connection according to given peerId and connectionId.\n   * @param {string} peerId - The peerId of the connection to be searched.\n   * @param {Object} connectionId - An ID to uniquely identify the connection.\n   * @return {MediaConnection|DataConnection} Search result.\n   */\n  getConnection(peerId, connectionId) {\n    if (!this._checkOpenStatus()) {\n      return;\n    }\n\n    if (this.connections[peerId]) {\n      for (const connection of this.connections[peerId]) {\n        if (connection.id === connectionId) {\n          return connection;\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Whether the socket is connecting to the signalling server or not.\n   * @type {boolean} The open status.\n   */\n  get open() {\n    return this.socket && this.socket.isOpen;\n  }\n\n  /**\n   * Close all connections and disconnect socket.\n   */\n  destroy() {\n    this._cleanup();\n    this.disconnect();\n  }\n\n  /**\n   * Close socket and clean up some properties, then emit disconnect event.\n   */\n  disconnect() {\n    if (this.open) {\n      this.socket.close();\n      this.emit(peer_Peer.EVENTS.disconnected.key, this.id);\n    }\n  }\n\n  /**\n   * Reconnect to SkyWay server. Does not work after a peer.destroy().\n   */\n  reconnect() {\n    if (!this.open) {\n      this.socket.reconnect();\n    }\n  }\n\n  /**\n   * Update server-side credential by sending a request in order to extend TTL.\n   * @param {object} newCredential - The new credential generated by user.\n   * @param {number} [newCredential.timestamp] - Current UNIX timestamp.\n   + @param {number} [newCredential.ttl] - Time to live; The credential expires at timestamp + ttl.\n   + @param {string} [newCredential.authToken] - Credential token calculated with HMAC.\n   */\n  updateCredential(newCredential) {\n    this.socket.updateCredential(newCredential);\n  }\n\n  /**\n   * Call Rest API and get the list of peerIds assciated with API key.\n   * @param {function} cb - The callback function that is called after XHR.\n   */\n  listAllPeers(cb) {\n    if (!this._checkOpenStatus()) {\n      return;\n    }\n\n    cb = cb || function() {};\n    const self = this;\n    const http = new XMLHttpRequest();\n\n    const url = `${this.socket.signalingServerUrl}/api/apikeys/${this.options.key}/clients/`;\n\n    // If there's no ID we need to wait for one before trying to init socket.\n    http.open('get', url, true);\n\n    /* istanbul ignore next */\n    http.onerror = function() {\n      self._abort('server-error', 'Could not get peers from the server.');\n      cb([]);\n    };\n    http.onreadystatechange = function() {\n      if (http.readyState !== 4) {\n        return;\n      }\n      if (http.status === 401) {\n        cb([]);\n        const err = new Error(\n          \"It doesn't look like you have permission to list peers IDs. \" +\n            'Please enable the SkyWay REST API on dashboard'\n        );\n        err.type = 'list-error';\n        logger.error(err);\n        self.emit(peer_Peer.EVENTS.error.key, err);\n      } else if (http.status === 200) {\n        cb(JSON.parse(http.responseText));\n      } else {\n        cb([]);\n      }\n    };\n    http.send(null);\n  }\n\n  /**\n   * Return socket open status and emit error when it's not open.\n   * @return {boolean} - The socket status.\n   */\n  _checkOpenStatus() {\n    if (!this.open) {\n      this._emitNotConnectedError();\n    }\n    return this.open;\n  }\n\n  /**\n   * Emit not connected error.\n   */\n  _emitNotConnectedError() {\n    logger.warn(\n      'You cannot connect to a new Peer because you are not connecting to SkyWay server now.' +\n        'You can create a new Peer to reconnect, or call reconnect() ' +\n        'on this peer if you believe its ID to still be available.'\n    );\n\n    const err = new Error(\n      'Cannot connect to new Peer before connecting to SkyWay server or after disconnecting from the server.'\n    );\n    err.type = 'disconnected';\n    logger.error(err);\n    this.emit(peer_Peer.EVENTS.error.key, err);\n  }\n\n  /**\n   * Creates new Socket and initalize its message handlers.\n   * @param {string} id - User's peerId.\n   * @private\n   */\n  _initializeServerConnection(id) {\n    this.socket = new socket(this.options.key, {\n      secure: this.options.secure,\n      host: this.options.host,\n      port: this.options.port,\n\n      dispatcherSecure: this.options.dispatcherSecure,\n      dispatcherHost: this.options.dispatcherHost,\n      dispatcherPort: this.options.dispatcherPort,\n    });\n\n    this._setupMessageHandlers();\n\n    this.socket.on('error', error => {\n      this._abort('socket-error', error);\n    });\n\n    this.socket.on('disconnect', () => {\n      // If we haven't explicitly disconnected, emit error and disconnect.\n      this.disconnect();\n\n      const err = new Error('Lost connection to server.');\n      err.type = 'socket-error';\n      logger.error(err);\n      this.emit(peer_Peer.EVENTS.error.key, err);\n    });\n\n    this.socket.start(id, this.options.token, this.options.credential);\n  }\n\n  /**\n   * Create and setup a SFURoom instance and emit SFU_JOIN message to SkyWay server.\n   * @param {string} roomName - The name of the room user is joining to.\n   * @param {object} [roomOptions] - Optional arguments for the RTCPeerConnection.\n   * @param {object} [roomOptions.pcConfig] -  A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {string} [roomOptions.peerId] - User's peerId.\n   * @param {string} [roomOptions.mode='mesh'] - One of 'sfu' or 'mesh'.\n   * @param {MediaStream} [roomOptions.stream] - Media stream user wants to emit.\n   * @param {number} [roomOptions.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [roomOptions.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [roomOptions.videoCodec] - A video codec like 'H264'\n   * @param {string} [roomOptions.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [roomOptions.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [roomOptions.audioReceiveEnabled] - A flag to set audio recvonly\n   * @return {SFURoom} - An instance of SFURoom.\n   */\n  _initializeSfuRoom(roomName, roomOptions = {}) {\n    if (this.rooms[roomName]) {\n      return this.rooms[roomName];\n    }\n    const sfuRoom = new peer_sfuRoom(roomName, this.id, roomOptions);\n    this.rooms[roomName] = sfuRoom;\n    this._setupSFURoomMessageHandlers(sfuRoom);\n\n    const data = {\n      roomName: roomName,\n      roomType: 'sfu',\n    };\n\n    this.socket.send(config.MESSAGE_TYPES.CLIENT.ROOM_JOIN.key, data);\n\n    return sfuRoom;\n  }\n\n  /**\n   * Create and setup a MeshRoom instance and emit MESH_JOIN message to SkyWay server.\n   * @param {string} roomName - The name of the room user is joining to.\n   * @param {object} roomOptions - Optional arguments for the RTCPeerConnection.\n   * @param {string} roomOptions.pcConfig -  A RTCConfiguration dictionary for the RTCPeerConnection.\n   * @param {string} roomOptions.peerId - User's peerId.\n   * @param {string} [roomOptions.mode='mesh'] - One of 'sfu' or 'mesh'.\n   * @param {MediaStream} [roomOptions.stream] - Media stream user wants to emit.\n   * @param {number} [roomOptions.videoBandwidth] - A max video bandwidth(kbps)\n   * @param {number} [roomOptions.audioBandwidth] - A max audio bandwidth(kbps)\n   * @param {string} [roomOptions.videoCodec] - A video codec like 'H264'\n   * @param {string} [roomOptions.audioCodec] - A video codec like 'PCMU'\n   * @param {boolean} [roomOptions.videoReceiveEnabled] - A flag to set video recvonly\n   * @param {boolean} [roomOptions.audioReceiveEnabled] - A flag to set audio recvonly\n   * @return {SFURoom} - An instance of MeshRoom.\n   */\n  _initializeFullMeshRoom(roomName, roomOptions = {}) {\n    if (this.rooms[roomName]) {\n      return this.rooms[roomName];\n    }\n    const meshRoom = new peer_meshRoom(roomName, this.id, roomOptions);\n    this.rooms[roomName] = meshRoom;\n    this._setupMeshRoomMessageHandlers(meshRoom);\n\n    const data = {\n      roomName: roomName,\n      roomType: 'mesh',\n    };\n\n    this.socket.send(config.MESSAGE_TYPES.CLIENT.ROOM_JOIN.key, data);\n\n    return meshRoom;\n  }\n\n  /**\n   * Set up socket's message handlers.\n   * @private\n   */\n  _setupMessageHandlers() {\n    this.socket.on(config.MESSAGE_TYPES.SERVER.OPEN.key, openMessage => {\n      this.id = openMessage.peerId;\n      this._pcConfig = Object.assign({}, this.options.config);\n\n      // make a copy of iceServers as Object.assign still retains the reference\n      const iceServers = this._pcConfig.iceServers;\n      this._pcConfig.iceServers = iceServers ? iceServers.slice() : [];\n\n      // Set up turn credentials\n      const turnCredential = openMessage.turnCredential;\n      let turnUserName;\n      let turnPassword;\n      if (typeof turnCredential === 'object') {\n        turnUserName = turnCredential.username;\n        turnPassword = turnCredential.credential;\n      } else if (typeof turnCredential === 'string') {\n        // Handle older server versions that don't send the username\n        turnUserName = `${this.options.key}$${this.id}`;\n        turnPassword = turnCredential;\n      }\n      if (this.options.turn === true && turnUserName && turnPassword) {\n        // possible turn types are turn-tcp, turns-tcp, turn-udp\n        const turnCombinations = [\n          { protocol: 'turn', transport: 'tcp' },\n          { protocol: 'turn', transport: 'udp' },\n        ];\n\n        // Edge can not handle turns-tcp\n        const browser = util.detectBrowser();\n        if (browser.name !== 'edge') {\n          turnCombinations.push({ protocol: 'turns', transport: 'tcp' });\n        }\n\n        for (const turnType of turnCombinations) {\n          const protocol = turnType.protocol;\n          const transport = turnType.transport;\n\n          const iceServer = {\n            urls: `${protocol}:${config.TURN_HOST}:${config.TURN_PORT}?transport=${transport}`,\n            url: `${protocol}:${config.TURN_HOST}:${config.TURN_PORT}?transport=${transport}`,\n\n            username: turnUserName,\n            credential: turnPassword,\n          };\n\n          this._pcConfig.iceServers.push(iceServer);\n        }\n\n        logger.log('SkyWay TURN Server is available');\n      } else {\n        logger.log('SkyWay TURN Server is unavailable');\n      }\n\n      this.emit(peer_Peer.EVENTS.open.key, this.id);\n    });\n\n    this.socket.on(config.MESSAGE_TYPES.SERVER.ERROR.key, error => {\n      const err = new Error(error.message);\n      err.type = error.type;\n      logger.error(err);\n      this.emit(peer_Peer.EVENTS.error.key, err);\n    });\n\n    this.socket.on(config.MESSAGE_TYPES.SERVER.LEAVE.key, peerId => {\n      logger.log(`Received leave message from ${peerId}`);\n      this._cleanupPeer(peerId);\n    });\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.FORCE_CLOSE.key,\n      ({ src: remoteId, connectionId }) => {\n        // select a force closing connection and Close it.\n        const connection = this.getConnection(remoteId, connectionId);\n        if (connection) {\n          // close the connection without sending FORCE_CLOSE\n          connection.close(false);\n        }\n      }\n    );\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.AUTH_EXPIRES_IN.key,\n      remainingSec => {\n        logger.log(`Credential expires in ${remainingSec}`);\n        this.emit(peer_Peer.EVENTS.expiresin.key, remainingSec);\n      }\n    );\n\n    this.socket.on(config.MESSAGE_TYPES.SERVER.OFFER.key, offerMessage => {\n      // handle mesh room offers\n      const roomName = offerMessage.roomName;\n      if (roomName) {\n        const room = this.rooms[roomName];\n\n        if (room) {\n          room.handleOffer(offerMessage);\n        }\n        return;\n      }\n\n      // handle p2p offers\n      const connectionId = offerMessage.connectionId;\n      let connection = this.getConnection(offerMessage.src, connectionId);\n\n      if (connection) {\n        connection.updateOffer(offerMessage);\n        return;\n      }\n\n      if (offerMessage.connectionType === 'media') {\n        connection = new mediaConnection(offerMessage.src, {\n          connectionId: connectionId,\n          payload: offerMessage,\n          metadata: offerMessage.metadata,\n          originator: false,\n          queuedMessages: this._queuedMessages[connectionId],\n          pcConfig: this._pcConfig,\n        });\n        connection.startConnection();\n\n        logger.log('MediaConnection created in OFFER');\n\n        this._addConnection(offerMessage.src, connection);\n        this.emit(peer_Peer.EVENTS.call.key, connection);\n      } else if (offerMessage.connectionType === 'data') {\n        connection = new dataConnection(offerMessage.src, {\n          connectionId: connectionId,\n          payload: offerMessage,\n          metadata: offerMessage.metadata,\n          label: offerMessage.label,\n          dcInit: offerMessage.dcInit,\n          serialization: offerMessage.serialization,\n          queuedMessages: this._queuedMessages[connectionId],\n          pcConfig: this._pcConfig,\n        });\n        connection.startConnection();\n\n        logger.log('DataConnection created in OFFER');\n\n        this._addConnection(offerMessage.src, connection);\n        this.emit(peer_Peer.EVENTS.connection.key, connection);\n      } else {\n        logger.warn(\n          'Received malformed connection type: ',\n          offerMessage.connectionType\n        );\n      }\n\n      delete this._queuedMessages[connectionId];\n    });\n\n    this.socket.on(config.MESSAGE_TYPES.SERVER.ANSWER.key, answerMessage => {\n      // handle mesh room answers\n      const roomName = answerMessage.roomName;\n      if (roomName) {\n        const room = this.rooms[roomName];\n\n        if (room) {\n          room.handleAnswer(answerMessage);\n        }\n        return;\n      }\n\n      // handle p2p answers\n      const connection = this.getConnection(\n        answerMessage.src,\n        answerMessage.connectionId\n      );\n\n      if (connection) {\n        connection.handleAnswer(answerMessage);\n      } else {\n        // Should we remove this storing\n        // because answer should be handled immediately after its arrival?\n        this._storeMessage(\n          config.MESSAGE_TYPES.SERVER.ANSWER.key,\n          answerMessage\n        );\n      }\n    });\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.CANDIDATE.key,\n      candidateMessage => {\n        // handle mesh room candidates\n        const roomName = candidateMessage.roomName;\n        if (roomName) {\n          const room = this.rooms[roomName];\n\n          if (room) {\n            room.handleCandidate(candidateMessage);\n          }\n          return;\n        }\n\n        // handle p2p candidates\n        const connection = this.getConnection(\n          candidateMessage.src,\n          candidateMessage.connectionId\n        );\n\n        if (connection) {\n          connection.handleCandidate(candidateMessage);\n        } else {\n          // Store candidate in the queue so that the candidate can be added\n          // after setRemoteDescription completed.\n          this._storeMessage(\n            config.MESSAGE_TYPES.SERVER.CANDIDATE.key,\n            candidateMessage\n          );\n        }\n      }\n    );\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.ROOM_USER_JOIN.key,\n      roomUserJoinMessage => {\n        const room = this.rooms[roomUserJoinMessage.roomName];\n        if (room) {\n          room.handleJoin(roomUserJoinMessage);\n        }\n      }\n    );\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.ROOM_USER_LEAVE.key,\n      roomUserLeaveMessage => {\n        const room = this.rooms[roomUserLeaveMessage.roomName];\n        if (room) {\n          room.handleLeave(roomUserLeaveMessage);\n        }\n      }\n    );\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.ROOM_DATA.key,\n      roomDataMessage => {\n        const room = this.rooms[roomDataMessage.roomName];\n        if (room) {\n          room.handleData(roomDataMessage);\n        }\n      }\n    );\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.ROOM_LOGS.key,\n      roomLogMessage => {\n        const room = this.rooms[roomLogMessage.roomName];\n        if (room) {\n          room.handleLog(roomLogMessage.log);\n        }\n      }\n    );\n\n    this.socket.on(\n      config.MESSAGE_TYPES.SERVER.ROOM_USERS.key,\n      roomUserListMessage => {\n        const room = this.rooms[roomUserListMessage.roomName];\n        if (room) {\n          if (roomUserListMessage.type === 'media') {\n            room.makeMediaConnections(roomUserListMessage.userList);\n          } else {\n            room.makeDataConnections(roomUserListMessage.userList);\n          }\n        }\n      }\n    );\n\n    this.socket.on(config.MESSAGE_TYPES.SERVER.SFU_OFFER.key, offerMessage => {\n      const room = this.rooms[offerMessage.roomName];\n      if (room) {\n        room.updateMsidMap(offerMessage.msids);\n        room.handleOffer(offerMessage);\n      }\n    });\n  }\n\n  /**\n   * Set up connection's event handlers.\n   * @param {MediaConnection|DataConnection} connection - The connection to be set up.\n   * @private\n   */\n  _setupConnectionMessageHandlers(connection) {\n    connection.on(peer_connection.EVENTS.candidate.key, candidateMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_CANDIDATE.key,\n        candidateMessage\n      );\n    });\n    connection.on(peer_connection.EVENTS.answer.key, answerMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_ANSWER.key,\n        answerMessage\n      );\n    });\n    connection.on(peer_connection.EVENTS.offer.key, offerMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_OFFER.key,\n        offerMessage\n      );\n    });\n    connection.on(peer_connection.EVENTS.forceClose.key, () => {\n      const forceCloseMessage = {\n        dst: connection.remoteId,\n        connectionId: connection.id,\n      };\n\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_FORCE_CLOSE.key,\n        forceCloseMessage\n      );\n    });\n  }\n\n  /**\n   * Set up the message event handlers for a Room\n   * @param {Room} room - The room to be set up.\n   * @private\n   */\n  _setupRoomMessageHandlers(room) {\n    room.on(peer_sfuRoom.MESSAGE_EVENTS.broadcast.key, sendMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.ROOM_SEND_DATA.key,\n        sendMessage\n      );\n    });\n    room.on(peer_sfuRoom.MESSAGE_EVENTS.getLog.key, getLogMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.ROOM_GET_LOGS.key,\n        getLogMessage\n      );\n    });\n    room.on(peer_sfuRoom.MESSAGE_EVENTS.leave.key, leaveMessage => {\n      delete this.rooms[room.name];\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.ROOM_LEAVE.key,\n        leaveMessage\n      );\n    });\n  }\n\n  /**\n   * Set up the message event handlers for an SFURoom\n   * @param {SFURoom} room - The room to be set up.\n   * @private\n   */\n  _setupSFURoomMessageHandlers(room) {\n    this._setupRoomMessageHandlers(room);\n\n    room.on(peer_sfuRoom.MESSAGE_EVENTS.offerRequest.key, sendMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SFU_GET_OFFER.key,\n        sendMessage\n      );\n    });\n    room.on(peer_sfuRoom.MESSAGE_EVENTS.answer.key, answerMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SFU_ANSWER.key,\n        answerMessage\n      );\n    });\n    room.on(peer_sfuRoom.MESSAGE_EVENTS.candidate.key, candidateMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SFU_CANDIDATE.key,\n        candidateMessage\n      );\n    });\n  }\n\n  /**\n   * Set up the message event handlers for a MeshRoom\n   * @param {MeshRoom} room - The room to be set up.\n   * @private\n   */\n  _setupMeshRoomMessageHandlers(room) {\n    this._setupRoomMessageHandlers(room);\n\n    room.on(peer_meshRoom.MESSAGE_EVENTS.offer.key, offerMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_OFFER.key,\n        offerMessage\n      );\n    });\n    room.on(peer_meshRoom.MESSAGE_EVENTS.answer.key, answerMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_ANSWER.key,\n        answerMessage\n      );\n    });\n    room.on(peer_meshRoom.MESSAGE_EVENTS.candidate.key, candidateMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.SEND_CANDIDATE.key,\n        candidateMessage\n      );\n    });\n    room.on(peer_meshRoom.MESSAGE_EVENTS.getPeers.key, requestMessage => {\n      this.socket.send(\n        config.MESSAGE_TYPES.CLIENT.ROOM_GET_USERS.key,\n        requestMessage\n      );\n    });\n  }\n\n  /**\n   * Disconnect the socket and emit error.\n   * @param {string} type - The type of error.\n   * @param {string} message - Error description.\n   * @private\n   */\n  _abort(type, message) {\n    logger.error('Aborting!');\n    this.disconnect();\n\n    const err = new Error(message);\n    err.type = type;\n    logger.error(err);\n    this.emit(peer_Peer.EVENTS.error.key, err);\n  }\n\n  /**\n   * Add connection to connections property and set up message handlers.\n   * @param {string} peerId - User's peerId.\n   * @param {MediaConnection|DataConnection} connection - The connection to be added.\n   * @private\n   */\n  _addConnection(peerId, connection) {\n    if (!this.connections[peerId]) {\n      this.connections[peerId] = [];\n    }\n    this.connections[peerId].push(connection);\n\n    this._setupConnectionMessageHandlers(connection);\n  }\n\n  /**\n   * Store a message until the connection is ready.\n   * @param {string} type - The type of message. One of 'ANSWER' or 'CANDIDATE'.\n   * @param {object} message - The object containing the message from remote peer.\n   * @private\n   */\n  _storeMessage(type, message) {\n    if (!this._queuedMessages[message.connectionId]) {\n      this._queuedMessages[message.connectionId] = [];\n    }\n    this._queuedMessages[message.connectionId].push({\n      type: type,\n      payload: message,\n    });\n  }\n\n  /**\n   * Close all connections and emit close event.\n   * @private\n   */\n  _cleanup() {\n    if (this.connections) {\n      for (const peer of Object.keys(this.connections)) {\n        this._cleanupPeer(peer);\n      }\n    }\n    this.emit(peer_Peer.EVENTS.close.key);\n  }\n\n  /**\n   * Close the connection.\n   * @param {string} peer - The peerId of the peer to be closed.\n   * @private\n   */\n  _cleanupPeer(peer) {\n    if (this.connections[peer]) {\n      for (const connection of this.connections[peer]) {\n        connection.close();\n      }\n    }\n  }\n\n  /**\n   * Events the Peer class can emit.\n   * @type {Enum}\n   */\n  static get EVENTS() {\n    return PeerEvents;\n  }\n\n  /**\n   * Successfully connected to signaling server.\n   *\n   * @event Peer#open\n   * @type {string}\n   */\n\n  /**\n   * Error occurred.\n   *\n   * @event Peer#error\n   * @type {MediaStream}\n   */\n\n  /**\n   * Received a call from peer.\n   *\n   * @event Peer#call\n   * @type {MediaConnection}\n   */\n\n  /**\n   * Received a connection from peer.\n   *\n   * @event Peer#connection\n   * @type {DataConnection}\n   */\n\n  /**\n   * Finished closing all connections to peers.\n   *\n   * @event Peer#close\n   */\n\n  /**\n   * Disconnected from the signalling server.\n   *\n   * @event Peer#disconnected\n   * @type {string}\n   */\n}\n\n/* harmony default export */ var peer = __webpack_exports__[\"default\"] = (peer_Peer);\n\n\n/***/ }),\n\n/***/ 0:\n/*!********************!*\\\n  !*** ws (ignored) ***!\n  \\********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n\n/******/ })[\"default\"];\n});","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPaletteFlyout.vue?vue&type=style&index=0&id=8e84a1c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPaletteFlyout.vue?vue&type=style&index=0&id=8e84a1c8&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropArea.vue?vue&type=style&index=0&id=1135cbf5&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropArea.vue?vue&type=style&index=0&id=1135cbf5&scoped=true&lang=scss&\"","module.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitView.vue?vue&type=style&index=0&id=be6c7474&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitView.vue?vue&type=style&index=0&id=be6c7474&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemWrapGrid.vue?vue&type=style&index=0&id=133e29d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemWrapGrid.vue?vue&type=style&index=0&id=133e29d6&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPalette.vue?vue&type=style&index=0&id=7cc657de&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPalette.vue?vue&type=style&index=0&id=7cc657de&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropAreaCompact.vue?vue&type=style&index=0&id=991e22aa&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropAreaCompact.vue?vue&type=style&index=0&id=991e22aa&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragableBox.vue?vue&type=style&index=0&id=5eb6e708&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragableBox.vue?vue&type=style&index=0&id=5eb6e708&scoped=true&lang=css&\"","// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = \"currentScript\",\n      scripts = document.getElementsByTagName('script'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the \"at\" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == \"interactive\"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    require('current-script-polyfill')\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_public_path__ = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"origin\":\"center center\",\"transition\":\"scale-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({style:({minWidth:_vm.buttonWidth+'px',width:_vm.buttonWidth+'px'}),attrs:{\"elevation\":\"1\",\"color\":_vm.value,\"dark\":\"\"}},on))]}}])},[_c('v-item-group',{attrs:{\"mandatory\":\"\",\"value\":_vm.value}},[_c('v-card',{style:({background:_vm.backgroundColor})},[_c('div',{staticClass:\"d-flex flex-wrap\",style:({width:((_vm.itemSize+_vm.margin)*_vm.column+_vm.margin*2).toString()+'px',padding:_vm.margin+'px'})},_vm._l((_vm.colors),function(c,key){return _c('v-item',{key:key,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"palette\",class:_vm.value===c?'active':'',staticStyle:{\"margin\":\"1px\"},style:({background:c,height:_vm.itemSize+'px',width:_vm.itemSize+'px'}),on:{\"click\":function($event){return _vm.$emit('input',c)}}})]}}],null,true)})}),1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n  * vue-class-component v7.1.0\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\nimport Vue from 'vue';\n\n// The rational behind the verbose Reflect-feature check below is the fact that there are polyfills\n// which add an implementation for Reflect.defineMetadata but not for Reflect.getOwnMetadataKeys.\n// Without this check consumers will encounter hard to track down runtime errors.\nvar reflectionIsSupported = typeof Reflect !== 'undefined' && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;\nfunction copyReflectionMetadata(to, from) {\n    forwardMetadata(to, from);\n    Object.getOwnPropertyNames(from.prototype).forEach(function (key) {\n        forwardMetadata(to.prototype, from.prototype, key);\n    });\n    Object.getOwnPropertyNames(from).forEach(function (key) {\n        forwardMetadata(to, from, key);\n    });\n}\nfunction forwardMetadata(to, from, propertyKey) {\n    var metaKeys = propertyKey\n        ? Reflect.getOwnMetadataKeys(from, propertyKey)\n        : Reflect.getOwnMetadataKeys(from);\n    metaKeys.forEach(function (metaKey) {\n        var metadata = propertyKey\n            ? Reflect.getOwnMetadata(metaKey, from, propertyKey)\n            : Reflect.getOwnMetadata(metaKey, from);\n        if (propertyKey) {\n            Reflect.defineMetadata(metaKey, metadata, to, propertyKey);\n        }\n        else {\n            Reflect.defineMetadata(metaKey, metadata, to);\n        }\n    });\n}\n\nvar fakeArray = { __proto__: [] };\nvar hasProto = fakeArray instanceof Array;\nfunction createDecorator(factory) {\n    return function (target, key, index) {\n        var Ctor = typeof target === 'function'\n            ? target\n            : target.constructor;\n        if (!Ctor.__decorators__) {\n            Ctor.__decorators__ = [];\n        }\n        if (typeof index !== 'number') {\n            index = undefined;\n        }\n        Ctor.__decorators__.push(function (options) { return factory(options, key, index); });\n    };\n}\nfunction mixins() {\n    var Ctors = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Ctors[_i] = arguments[_i];\n    }\n    return Vue.extend({ mixins: Ctors });\n}\nfunction isPrimitive(value) {\n    var type = typeof value;\n    return value == null || (type !== 'object' && type !== 'function');\n}\nfunction warn(message) {\n    if (typeof console !== 'undefined') {\n        console.warn('[vue-class-component] ' + message);\n    }\n}\n\nfunction collectDataFromConstructor(vm, Component) {\n    // override _init to prevent to init as Vue instance\n    var originalInit = Component.prototype._init;\n    Component.prototype._init = function () {\n        var _this = this;\n        // proxy to actual vm\n        var keys = Object.getOwnPropertyNames(vm);\n        // 2.2.0 compat (props are no longer exposed as self properties)\n        if (vm.$options.props) {\n            for (var key in vm.$options.props) {\n                if (!vm.hasOwnProperty(key)) {\n                    keys.push(key);\n                }\n            }\n        }\n        keys.forEach(function (key) {\n            if (key.charAt(0) !== '_') {\n                Object.defineProperty(_this, key, {\n                    get: function () { return vm[key]; },\n                    set: function (value) { vm[key] = value; },\n                    configurable: true\n                });\n            }\n        });\n    };\n    // should be acquired class property values\n    var data = new Component();\n    // restore original _init to avoid memory leak (#209)\n    Component.prototype._init = originalInit;\n    // create plain data object\n    var plainData = {};\n    Object.keys(data).forEach(function (key) {\n        if (data[key] !== undefined) {\n            plainData[key] = data[key];\n        }\n    });\n    if (process.env.NODE_ENV !== 'production') {\n        if (!(Component.prototype instanceof Vue) && Object.keys(plainData).length > 0) {\n            warn('Component class must inherit Vue or its descendant class ' +\n                'when class property is used.');\n        }\n    }\n    return plainData;\n}\n\nvar $internalHooks = [\n    'data',\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeDestroy',\n    'destroyed',\n    'beforeUpdate',\n    'updated',\n    'activated',\n    'deactivated',\n    'render',\n    'errorCaptured',\n    'serverPrefetch' // 2.6\n];\nfunction componentFactory(Component, options) {\n    if (options === void 0) { options = {}; }\n    options.name = options.name || Component._componentTag || Component.name;\n    // prototype props.\n    var proto = Component.prototype;\n    Object.getOwnPropertyNames(proto).forEach(function (key) {\n        if (key === 'constructor') {\n            return;\n        }\n        // hooks\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n        if (descriptor.value !== void 0) {\n            // methods\n            if (typeof descriptor.value === 'function') {\n                (options.methods || (options.methods = {}))[key] = descriptor.value;\n            }\n            else {\n                // typescript decorated data\n                (options.mixins || (options.mixins = [])).push({\n                    data: function () {\n                        var _a;\n                        return _a = {}, _a[key] = descriptor.value, _a;\n                    }\n                });\n            }\n        }\n        else if (descriptor.get || descriptor.set) {\n            // computed properties\n            (options.computed || (options.computed = {}))[key] = {\n                get: descriptor.get,\n                set: descriptor.set\n            };\n        }\n    });\n    (options.mixins || (options.mixins = [])).push({\n        data: function () {\n            return collectDataFromConstructor(this, Component);\n        }\n    });\n    // decorate options\n    var decorators = Component.__decorators__;\n    if (decorators) {\n        decorators.forEach(function (fn) { return fn(options); });\n        delete Component.__decorators__;\n    }\n    // find super\n    var superProto = Object.getPrototypeOf(Component.prototype);\n    var Super = superProto instanceof Vue\n        ? superProto.constructor\n        : Vue;\n    var Extended = Super.extend(options);\n    forwardStaticMembers(Extended, Component, Super);\n    if (reflectionIsSupported) {\n        copyReflectionMetadata(Extended, Component);\n    }\n    return Extended;\n}\nvar reservedPropertyNames = [\n    // Unique id\n    'cid',\n    // Super Vue constructor\n    'super',\n    // Component options that will be used by the component\n    'options',\n    'superOptions',\n    'extendOptions',\n    'sealedOptions',\n    // Private assets\n    'component',\n    'directive',\n    'filter'\n];\nvar shouldIgnore = {\n    prototype: true,\n    arguments: true,\n    callee: true,\n    caller: true\n};\nfunction forwardStaticMembers(Extended, Original, Super) {\n    // We have to use getOwnPropertyNames since Babel registers methods as non-enumerable\n    Object.getOwnPropertyNames(Original).forEach(function (key) {\n        // Skip the properties that should not be overwritten\n        if (shouldIgnore[key]) {\n            return;\n        }\n        // Some browsers does not allow reconfigure built-in properties\n        var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);\n        if (extendedDescriptor && !extendedDescriptor.configurable) {\n            return;\n        }\n        var descriptor = Object.getOwnPropertyDescriptor(Original, key);\n        // If the user agent does not support `__proto__` or its family (IE <= 10),\n        // the sub class properties may be inherited properties from the super class in TypeScript.\n        // We need to exclude such properties to prevent to overwrite\n        // the component options object which stored on the extended constructor (See #192).\n        // If the value is a referenced value (object or function),\n        // we can check equality of them and exclude it if they have the same reference.\n        // If it is a primitive value, it will be forwarded for safety.\n        if (!hasProto) {\n            // Only `cid` is explicitly exluded from property forwarding\n            // because we cannot detect whether it is a inherited property or not\n            // on the no `__proto__` environment even though the property is reserved.\n            if (key === 'cid') {\n                return;\n            }\n            var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);\n            if (!isPrimitive(descriptor.value) &&\n                superDescriptor &&\n                superDescriptor.value === descriptor.value) {\n                return;\n            }\n        }\n        // Warn if the users manually declare reserved properties\n        if (process.env.NODE_ENV !== 'production' &&\n            reservedPropertyNames.indexOf(key) >= 0) {\n            warn(\"Static property name '\" + key + \"' declared on class '\" + Original.name + \"' \" +\n                'conflicts with reserved property name of Vue internal. ' +\n                'It may cause unexpected behavior of the component. Consider renaming the property.');\n        }\n        Object.defineProperty(Extended, key, descriptor);\n    });\n}\n\nfunction Component(options) {\n    if (typeof options === 'function') {\n        return componentFactory(options);\n    }\n    return function (Component) {\n        return componentFactory(Component, options);\n    };\n}\nComponent.registerHooks = function registerHooks(keys) {\n    $internalHooks.push.apply($internalHooks, keys);\n};\n\nexport default Component;\nexport { createDecorator, mixins };\n","/** vue-property-decorator verson 8.2.2 MIT LICENSE copyright 2019 kaorun343 */\n/// <reference types='reflect-metadata'/>\n'use strict';\nimport Vue from 'vue';\nimport Component, { createDecorator, mixins } from 'vue-class-component';\nexport { Component, Vue, mixins as Mixins };\n/** Used for keying reactive provide/inject properties */\nvar reactiveInjectKey = '__reactiveInject__';\n/**\n * decorator of an inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function Inject(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject[key] = options || key;\n        }\n    });\n}\n/**\n * decorator of a reactive inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function InjectReactive(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            var fromKey_1 = !!options ? options.from || options : key;\n            var defaultVal_1 = (!!options && options.default) || undefined;\n            if (!componentOptions.computed)\n                componentOptions.computed = {};\n            componentOptions.computed[key] = function () {\n                var obj = this[reactiveInjectKey];\n                return obj ? obj[fromKey_1] : defaultVal_1;\n            };\n            componentOptions.inject[reactiveInjectKey] = reactiveInjectKey;\n        }\n    });\n}\n/**\n * decorator of a provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function Provide(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        if (typeof provide !== 'function' || !provide.managed) {\n            var original_1 = componentOptions.provide;\n            provide = componentOptions.provide = function () {\n                var rv = Object.create((typeof original_1 === 'function' ? original_1.call(this) : original_1) ||\n                    null);\n                for (var i in provide.managed)\n                    rv[provide.managed[i]] = this[i];\n                return rv;\n            };\n            provide.managed = {};\n        }\n        provide.managed[k] = key || k;\n    });\n}\n/**\n * decorator of a reactive provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function ProvideReactive(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        // inject parent reactive services (if any)\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject = componentOptions.inject || {};\n            componentOptions.inject[reactiveInjectKey] = { from: reactiveInjectKey, default: {} };\n        }\n        if (typeof provide !== 'function' || !provide.managedReactive) {\n            var original_2 = componentOptions.provide;\n            provide = componentOptions.provide = function () {\n                var _this = this;\n                var rv = typeof original_2 === 'function'\n                    ? original_2.call(this)\n                    : original_2;\n                rv = Object.create(rv || null);\n                // set reactive services (propagates previous services if necessary)\n                rv[reactiveInjectKey] = this[reactiveInjectKey] || {};\n                var _loop_1 = function (i) {\n                    rv[provide.managedReactive[i]] = this_1[i]; // Duplicates the behavior of `@Provide`\n                    Object.defineProperty(rv[reactiveInjectKey], provide.managedReactive[i], {\n                        enumerable: true,\n                        get: function () { return _this[i]; },\n                    });\n                };\n                var this_1 = this;\n                for (var i in provide.managedReactive) {\n                    _loop_1(i);\n                }\n                return rv;\n            };\n            provide.managedReactive = {};\n        }\n        provide.managedReactive[k] = key || k;\n    });\n}\n/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nfunction applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            typeof options.type === 'undefined') {\n            options.type = Reflect.getMetadata('design:type', target, key);\n        }\n    }\n}\n/**\n * decorator of model\n * @param  event event name\n * @param options options\n * @return PropertyDecorator\n */\nexport function Model(event, options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n            componentOptions.model = { prop: k, event: event || k };\n        })(target, key);\n    };\n}\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n/**\n * decorator of a synced prop\n * @param propName the name to interface with from outside, must be different from decorated property\n * @param options the options for the synced prop\n * @return PropertyDecorator | void\n */\nexport function PropSync(propName, options) {\n    if (options === void 0) { options = {}; }\n    // @ts-ignore\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[propName] = options;\n            (componentOptions.computed || (componentOptions.computed = {}))[k] = {\n                get: function () {\n                    return this[propName];\n                },\n                set: function (value) {\n                    // @ts-ignore\n                    this.$emit(\"update:\" + propName, value);\n                },\n            };\n        })(target, key);\n    };\n}\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n// Code copied from Vue/src/shared/util.js\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = function (str) { return str.replace(hyphenateRE, '-$1').toLowerCase(); };\n/**\n * decorator of an event-emitter function\n * @param  event The name of the event\n * @return MethodDecorator\n */\nexport function Emit(event) {\n    return function (_target, key, descriptor) {\n        key = hyphenate(key);\n        var original = descriptor.value;\n        descriptor.value = function emitter() {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var emit = function (returnValue) {\n                if (returnValue !== undefined)\n                    args.unshift(returnValue);\n                _this.$emit.apply(_this, [event || key].concat(args));\n            };\n            var returnValue = original.apply(this, args);\n            if (isPromise(returnValue)) {\n                returnValue.then(function (returnValue) {\n                    emit(returnValue);\n                });\n            }\n            else {\n                emit(returnValue);\n            }\n            return returnValue;\n        };\n    };\n}\n/**\n * decorator of a ref prop\n * @param refKey the ref key defined in template\n */\nexport function Ref(refKey) {\n    return createDecorator(function (options, key) {\n        options.computed = options.computed || {};\n        options.computed[key] = {\n            cache: false,\n            get: function () {\n                return this.$refs[refKey || key];\n            },\n        };\n    });\n}\nfunction isPromise(obj) {\n    return obj instanceof Promise || (obj && typeof obj.then === 'function');\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Component, Prop} from \"vue-property-decorator\";\n\nconst defaultColors = [\n    \"#f44336\",\n    \"#FF9800\",\n    \"#ff9800\",\n    \"#ffeb3b\",\n    \"#CDDC39\",\n    \"#8BC34A\",\n    \"#4caf50\",\n    \"#009688\",\n    \"#00bcd4\",\n    \"#03A9F4\",\n    \"#2196f3\",\n    \"#4527A0\",\n    \"#673AB7\",\n    \"#9c27b0\",\n    \"#ec407a\",\n    \"#909090\",\n    \"#0a0a0a\",\n    \"#FFFFFF\"\n];\n\n@Component\nexport default class ColorPalette extends Vue\n{\n    @Prop({default: () => defaultColors}) colors!: string[];\n    @Prop({default: defaultColors[0]}) value!: string;\n    @Prop({default: 36}) buttonWidth!: number;\n    @Prop({default: 48}) readonly itemSize!: number;\n    @Prop({default: 6}) readonly column!: number;\n    @Prop({default: 2}) readonly margin!: number;\n    @Prop({default: \"#2b2b2b\"}) readonly backgroundColor!: string;\n    private created()\n    {\n        if (this.value)\n        {\n            this.$emit(\"input\", this.value);\n            this.$forceUpdate();\n        }\n        else\n        {\n            this.$emit(\"input\", this.colors[0]);\n            this.$forceUpdate();\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPalette.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPalette.vue?vue&type=script&lang=ts&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./ColorPalette.vue?vue&type=template&id=7cc657de&scoped=true&\"\nimport script from \"./ColorPalette.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorPalette.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorPalette.vue?vue&type=style&index=0&id=7cc657de&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cc657de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"origin\":\"center center\",\"transition\":\"scale-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",null,{\"on\":on})]}}],null,true)},[_c('v-item-group',{attrs:{\"mandatory\":\"\",\"value\":_vm.value}},[_c('v-card',{style:({background:_vm.backgroundColor})},[_c('div',{staticClass:\"d-flex flex-wrap\",style:({width:((_vm.itemSize+_vm.margin)*_vm.column+_vm.margin*2).toString()+'px',padding:_vm.margin+'px'})},_vm._l((_vm.colors),function(c,key){return _c('v-item',{key:key,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"palette\",class:_vm.value===c?'active':'',staticStyle:{\"margin\":\"1px\"},style:({background:c,height:_vm.itemSize+'px',width:_vm.itemSize+'px'}),on:{\"click\":function($event){return _vm.$emit('input',c)}}})]}}],null,true)})}),1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Component, Prop} from \"vue-property-decorator\";\r\n\r\nconst defaultColors = [\r\n    \"#f44336\",\r\n    \"#FF9800\",\r\n    \"#ff9800\",\r\n    \"#ffeb3b\",\r\n    \"#CDDC39\",\r\n    \"#8BC34A\",\r\n    \"#4caf50\",\r\n    \"#009688\",\r\n    \"#00bcd4\",\r\n    \"#03A9F4\",\r\n    \"#2196f3\",\r\n    \"#4527A0\",\r\n    \"#673AB7\",\r\n    \"#9c27b0\",\r\n    \"#ec407a\",\r\n    \"#909090\",\r\n    \"#0a0a0a\",\r\n    \"#FFFFFF\"\r\n];\r\n\r\n@Component\r\nexport default class ColorPaletteFlyout extends Vue\r\n{\r\n    @Prop({default: () => defaultColors}) colors!: string[];\r\n    @Prop({default: defaultColors[0]}) value!: string;\r\n    @Prop({default: 36}) buttonWidth!: number;\r\n    @Prop({default: 48}) readonly itemSize!: number;\r\n    @Prop({default: 6}) readonly column!: number;\r\n    @Prop({default: 2}) readonly margin!: number;\r\n    @Prop({default: \"#2b2b2b\"}) readonly backgroundColor!: string;\r\n    private created()\r\n    {\r\n        if (this.value)\r\n        {\r\n            this.$emit(\"input\", this.value);\r\n            this.$forceUpdate();\r\n        }\r\n        else\r\n        {\r\n            this.$emit(\"input\", this.colors[0]);\r\n            this.$forceUpdate();\r\n        }\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPaletteFlyout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPaletteFlyout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorPaletteFlyout.vue?vue&type=template&id=8e84a1c8&scoped=true&\"\nimport script from \"./ColorPaletteFlyout.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorPaletteFlyout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorPaletteFlyout.vue?vue&type=style&index=0&id=8e84a1c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e84a1c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"dropVideoBox\",staticClass:\"dropable-box\",class:(!_vm.isFixed&&_vm.dragableBox&&_vm.dragableBox.isOverlapedTriggerBox)?'elevation-4':'',staticStyle:{\"margin-top\":\"0px\"},style:({\n            right:_vm.right,\n            top:_vm.top,\n            left:_vm.left,\n            bottom:_vm.bottom,\n            position:_vm.fixed?'fixed':'absolute',\n            background:(_vm.dragableBox&&_vm.dragableBox.isOverlapedTriggerBox)?'rgba(127,127,127,0.7)':'rgba(127,127,127,0.3)',\n            height:_vm.height + 'px',\n            width:_vm.width + 'px',\n            display:'none'\n        })}),_c('div',{ref:\"videoBox\",staticStyle:{\"z-index\":\"201\",\"border\":\"0\"},style:({\n            position:_vm.fixed?'fixed':'absolute',\n            transition: _vm.isFixed ? 'right .6s' : ''\n        })},[_c('div',{staticClass:\"mt-0\",class:_vm.isDragging?'elevation-8':'elevation-2',staticStyle:{\"transition\":\"all 0.5s\",\"margin-bottom\":\"0px\",\"border\":\"0px\",\"border-radius\":\"0px\",\"border-top-right-radius\":\"3px\",\"border-top-left-radius\":\"3px\",\"cursor\":\"move\",\"user-select\":\"none\"},style:({\n                height:_vm.isHeaderOpend?(_vm.openedHeaderHeight + \"px\"):((20+Number(_vm.closedHeaderHeight)) + \"px\"),\n                padding:'0px 4px 4px 4px',\n                background:_vm.headerColor\n            })},[_c('div',{staticStyle:{\"height\":\"22px\",\"position\":\"relative\",\"font-size\":\"10px\",\"cursor\":\"move\",\"user-select\":\"none\"},on:{\"mousedown\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.onBeginMove($event)},\"touchstart\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.onBeginMove($event)}}},[_c('p',{staticClass:\"color-gray margin-none\",staticStyle:{\"margin-left\":\"3px\"},style:({position:_vm.fixed?'fixed':'absolute'})},[_vm._v(\"ドラッグで移動します\")])])]),_c('div',{class:_vm.isDragging?'elevation-8':'elevation-2',style:({\n                width: (_vm.width + \"px\"),\n                height :(_vm.height + \"px\"),\n                margin:0,\n                border: '0px',\n                cursor: 'move',\n                userSelect: 'none'\n            }),on:{\"mousedown\":_vm.onBeginMove,\"touchstart\":_vm.onBeginMove}},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function max(value1: number, value2: number)\n{\n    return value1 < value2 ? value2 : value1;\n}\n\nfunction min(value1: number, value2: number)\n{\n    return value1 < value2 ? value1 : value2;\n}\n\n/**\n * エレメントにD&Dを適応するクラス\n */\nexport default class DragableBox\n{\n    // ドラッグ中かどうか\n    private isMoving: boolean = false;\n\n    // エレメント座標\n    private videoViewX: number = 0;\n    private videoViewY: number = 0;\n\n    // ドラッグを開始したマウス座標とエレメント座標とのオフセット\n    private offsetX: number = 0;\n    private offsetY: number = 0;\n\n    // ビデオを右下に固定するかどうか\n    private isVideoBoxFixed: Boolean = true;\n\n    // エレメント\n    private dragableBoxElement: HTMLElement;\n    private triggerBoxElement: HTMLElement;\n    private onDragableBoxElementFixed: Function;\n\n    private _isOverlapedTriggerBox = false;\n\n    public get isOverlapedTriggerBox(): boolean\n    {\n        return this._isOverlapedTriggerBox;\n    }\n\n    /**\n     * @param {HTMLElement} dragableBoxElement\n     * @param {HTMLElement} triggerBoxElement\n     * @param {Function} onDragableBoxElementFixed\n     */\n    constructor(dragableBoxElement: HTMLElement, triggerBoxElement: HTMLElement, onDragableBoxElementFixed: Function)\n    {\n        if (!dragableBoxElement || !triggerBoxElement || !onDragableBoxElementFixed)\n        {\n            throw new Error(\"引数が不正です。\");\n        }\n\n        // エレメント\n        this.dragableBoxElement = dragableBoxElement;\n        this.triggerBoxElement = triggerBoxElement;\n        // dragableBoxElementが固定されたとき\n        this.onDragableBoxElementFixed = onDragableBoxElementFixed;\n\n        // ドラッグ中かどうか\n        this.isMoving = false;\n        // エレメント座標\n        this.videoViewX = 0;\n        this.videoViewY = 0;\n        // ドラッグを開始したマウス座標とエレメント座標とのオフセット\n        this.offsetX = 0;\n        this.offsetY = 0;\n        // ビデオを右下に固定するかどうか\n        this.isVideoBoxFixed = true;\n        this.onDragableBoxElementFixed();\n\n        // マウスクリックをやめたとき\n        document.addEventListener(\"mouseup\", this.onEndMove.bind(this), true);\n        document.addEventListener(\"touchend\", this.onEndMove.bind(this), true);\n\n        // ウィンドウをリサイズしたとき\n        window.addEventListener(\"resize\", () =>\n        {\n            // locaition\n            const rect = this.dragableBoxElement.getBoundingClientRect();\n            const width = rect.width;\n            const height = rect.height;\n\n            // ビデオボックスを右下に固定していたら\n            if (this.isVideoBoxFixed)\n            {\n                this.onDragableBoxElementFixed();\n            }\n            else\n            {\n                // 自身のビデオボックスが画面からはみ出さないようにする\n                // Y軸が画面外に出ていなかったら移動\n                this.videoViewX = min(max(this.videoViewX, 0), window.innerWidth - width);\n                this.dragableBoxElement.style.left = `${this.videoViewX}px`;\n                // X軸が画面外に出ていなかったら移動\n                this.videoViewY = min(max(this.videoViewY, 0), window.innerHeight - height);\n                this.dragableBoxElement.style.top = `${this.videoViewY}px`;\n            }\n        });\n\n        // マウスを動かしたとき\n        document.addEventListener(\"mousemove\", this.onMove.bind(this), true);\n        document.addEventListener(\"touchmove\", this.onMove.bind(this), {passive: false});\n    }\n\n    /**\n     * 自身のビデオボックスが移動開始したとき\n     */\n    public beginMove(e: any): void\n    {\n        this.isMoving = true;\n        this.isVideoBoxFixed = false;\n\n        this.triggerBoxElement.style.display = \"\";\n        const rect = this.dragableBoxElement.getBoundingClientRect();\n        // ドラッグを開始したマウス座標とエレメント座標とのオフセット\n        this.offsetX = (e.clientX || e.changedTouches[0].clientX) - rect.left;\n        this.offsetY = (e.clientY || e.changedTouches[0].clientY) - rect.top;\n\n        this.dragableBoxElement.style.bottom = \"\";\n        this.dragableBoxElement.style.right = \"\";\n        this.onMove(e);\n    }\n\n    /**\n    * 自身のビデオボックスが移動終了したとき\n    */\n    public onEndMove(e: any): void\n    {\n        if (this.isMoving)\n        {\n            // locaition\n            const rect = this.dragableBoxElement.getBoundingClientRect();\n            this.isMoving = false;\n            if (this.isCollisionEnter(rect, this.triggerBoxElement.getBoundingClientRect()))\n            {\n                this.isVideoBoxFixed = true;\n                this.onDragableBoxElementFixed();\n            }\n            this.triggerBoxElement.style.display = \"none\";\n        }\n    }\n\n    /**\n     * 自身のビデオボックスが移動したとき\n     */\n    public onMove(e: any): void\n    {\n        if (this.isMoving)\n        {\n            e.preventDefault();\n\n            // location\n            const rect = this.dragableBoxElement.getBoundingClientRect();\n            const width = rect.width;\n            const height = rect.height;\n\n            // ドラッグを開始したマウス座標とエレメント座標とのオフセット\n            const x = (e.clientX || e.changedTouches[0].clientX) - this.offsetX;\n            const y = (e.clientY || e.changedTouches[0].clientY) - this.offsetY;\n\n            // Y軸が画面外に出ていなかったら移動\n            this.videoViewX = min(max(x, 0), window.innerWidth - width);\n            // X軸が画面外に出ていなかったら移動\n            this.videoViewY = min(max(y, 0), window.innerHeight - height);\n\n            this.dragableBoxElement.style.top = `${this.videoViewY}px`;\n            this.dragableBoxElement.style.left = `${this.videoViewX}px`;\n\n            // triggerのコリジョン\n            this._isOverlapedTriggerBox = this.isCollisionEnter(rect, this.triggerBoxElement.getBoundingClientRect());\n        }\n    }\n\n    /**\n     *\n     * @param {ClientRect} rect1\n     * @param {ClientRect} rect2\n     */\n    private isCollisionEnter(rect1: ClientRect, rect2: ClientRect): boolean\n    {\n        if (\n            // 横の判定\n            Math.abs(rect1.left - rect2.left) < rect1.width / 2 + rect2.width / 2 &&\n            Math.abs(rect1.top - rect2.top) < rect1.height / 2 + rect2.height / 2 // 縦の判定\n        )\n        {\n            return true;\n        }\n        return false;\n    }\n}\n","<template>\n    <div>\n        <!-- ビデオボックスの固定を切り替えるイベントの発火判定に使うボックス -->\n        <!-- ここにビデオボックスをドロップするとビデオが固定される -->\n        <div\n            class=\"dropable-box\"\n            :class=\"(!isFixed&&dragableBox&&dragableBox.isOverlapedTriggerBox)?'elevation-4':''\"\n            ref=\"dropVideoBox\"\n            style=\"margin-top:0px;\"\n            :style=\"{\n                right:right,\n                top:top,\n                left:left,\n                bottom:bottom,\n                position:fixed?'fixed':'absolute',\n                background:(dragableBox&&dragableBox.isOverlapedTriggerBox)?'rgba(127,127,127,0.7)':'rgba(127,127,127,0.3)',\n                height:height + 'px',\n                width:width + 'px',\n                display:'none'\n            }\"\n        ></div>\n        <!-- ビデオラッパー -->\n        <div\n            style=\"z-index: 201;border:0;\"\n            :style=\"{\n                position:fixed?'fixed':'absolute',\n                transition: isFixed ? 'right .6s' : ''\n            }\"\n            ref=\"videoBox\"\n        >\n            <!-- 上に伸びるエリア -->\n            <div\n                :style=\"{\n                    height:isHeaderOpend?`${openedHeaderHeight}px`:`${20+Number(closedHeaderHeight)}px`,\n                    padding:'0px 4px 4px 4px',\n                    background:headerColor\n                }\"\n                style=\"transition: all 0.5s;margin-bottom: 0px;border: 0px;border-radius: 0px;border-top-right-radius: 3px;border-top-left-radius: 3px;cursor: move;user-select: none;\"\n                class=\"mt-0\"\n                :class=\"isDragging?'elevation-8':'elevation-2'\"\n            >\n                <div\n                    style=\"height:22px;position: relative;font-size: 10px;cursor: move;user-select: none;\"\n                    @mousedown.self=\"onBeginMove\"\n                    @touchstart.self=\"onBeginMove\"\n                >\n                    <p\n                        class=\"color-gray margin-none\"\n                        style=\"margin-left:3px;\"\n                        :style=\"{position:fixed?'fixed':'absolute'}\"\n                    >ドラッグで移動します</p>\n                    <!-- <a\n                        class=\"pointer\"\n                        style=\"margin-left:auto;width:100%;\"\n                        @click=\"isHeaderOpend=!isHeaderOpend;$emit('headerChanged',isHeaderOpend)\"\n                    ><i\n                            style=\"font-size:10px;font-weight: 900;\"\n                            :class=\"isHeaderOpend?'fa fa-angle-down':'fa fa-angle-up'\"\n                        ></i>\n                        {{isHeaderOpend?\"最小化\":\"最大化\"}}\n                    </a>-->\n                </div>\n                <!-- <div :style=\"`height:calc(100% - ${closedHeaderHeight}px);`\">\n                    <slot name=\"header\"></slot>\n                </div> -->\n            </div>\n            <div\n                :class=\"isDragging?'elevation-8':'elevation-2'\"\n                :style=\"{\n                    width: `${width}px`,\n                    height :`${height}px`,\n                    margin:0,\n                    border: '0px',\n                    cursor: 'move',\n                    userSelect: 'none'\n                }\"\n                @mousedown=\"onBeginMove\"\n                @touchstart=\"onBeginMove\"\n            >\n                <slot></slot>\n            </div>\n        </div>\n    </div>\n</template>\n<script >\nimport DragableBox from \"../libs/UI/DragableBox\";\n\nexport default {\n    name: \"small-video-box\",\n    computed: {\n    },\n    props: {\n        fixed: {\n            type: Boolean,\n            default: false,\n            require: true\n        },\n        top: {\n            type: String,\n            require: true,\n            default: \"\"\n        },\n        bottom: {\n            type: String,\n            require: true,\n            default: \"\"\n        },\n        right: {\n            type: String,\n            require: true,\n            default: \"\"\n        },\n        left: {\n            type: String,\n            require: true,\n            default: \"\"\n        },\n        width: {\n            type: String,\n            require: true,\n            default: \"248\"\n        },\n        height: {\n            type: String,\n            require: true,\n            default: \"168\"\n        },\n        closedHeaderHeight: {\n            type: String,\n            require: true,\n            default: \"0\"\n        },\n        openedHeaderHeight: {\n            type: String,\n            require: true,\n            default: \"300\"\n        },\n        headerColor: {\n            type: String,\n            require: true,\n            default: \"rgb(215, 215, 215)\"\n        }\n    },\n    data()\n    {\n        return {\n            isHeaderOpend: false,\n            dragableBox: null,\n            isFixed: true,\n            isDragging: false\n        };\n    },\n    methods: {\n        // 移動開始ハンドルをクリックしたとき\n        onBeginMove(e)\n        {\n            this.isFixed = false;\n            this.isDragging = true;\n            this.dragableBox.beginMove(e);\n        },\n\n        // ビデオを画面右下に固定\n        applyVideoFixed()\n        {\n            if (this.$refs.videoBox)\n            {\n                this.isFixed = true;\n                const style = this.$refs.videoBox.style;\n                style.bottom = this.bottom;\n                style.left = this.left;\n                style.top = this.top;\n                style.right = this.right;\n            }\n        },\n\n        getRect()\n        {\n            return this.$refs.videoBox.getBoundingClientRect();\n        }\n    },\n    created()\n    {\n        // マウスクリックをやめたとき\n        document.addEventListener(\"mouseup\", () =>\n        {\n            this.isDragging = false;\n        }, true);\n    },\n    mounted()\n    {\n        this.applyVideoFixed();\n        this.dragableBox = new DragableBox(this.$refs.videoBox, this.$refs.dropVideoBox, this.applyVideoFixed.bind(this));\n    }\n};\n</script>\n<style scoped>\n/* ビデオボックスを固定するかどうかを切り替えるボックス */\n.dropable-box {\n    z-index: 200;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragableBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragableBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DragableBox.vue?vue&type=template&id=5eb6e708&scoped=true&\"\nimport script from \"./DragableBox.vue?vue&type=script&lang=js&\"\nexport * from \"./DragableBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DragableBox.vue?vue&type=style&index=0&id=5eb6e708&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eb6e708\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{domProps:{\"innerHTML\":_vm._s(_vm.displayHtml)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\nimport {Vue, Prop, Component} from \"vue-property-decorator\";\n\nconst DAYS = [\n    \"(日)\",\n    \"(月)\",\n    \"(火)\",\n    \"(水)\",\n    \"(木)\",\n    \"(金)\",\n    \"(土)\"\n];\n\n/**\n * @summary 日付と時間をフォーマットし表示するコンポーネントを提供します.\n */\n@Component\nexport default class DateTimeText extends Vue\n{\n    @Prop({default: undefined}) text?: string;\n\n    private get displayHtml(): string\n    {\n        const date = this.text ? new Date(this.text) : new Date();\n        let dateStr = `${date.getFullYear()}<small>年</small>${date.getMonth() + 1}<small>月</small>${date.getDate()}<small>日</small>`;\n        dateStr += `${DAYS[date.getDay()]} ${date.getHours()}<small>時</small>${date.getMinutes()}<small>分</small>`;\n        return dateStr;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateTimeText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateTimeText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateTimeText.vue?vue&type=template&id=504fba2e&\"\nimport script from \"./DateTimeText.vue?vue&type=script&lang=ts&\"\nexport * from \"./DateTimeText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-baseline\"},[_c('div',[_vm._v(_vm._s(_vm.date.getFullYear()))]),_c('small',[_vm._v(\"年\")]),_c('div',[_vm._v(_vm._s(_vm.date.getMonth()+1))]),_c('small',[_vm._v(\"月\")]),_c('div',[_vm._v(_vm._s(_vm.date.getDate()))]),_c('small',[_vm._v(\"日\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component} from \"vue-property-decorator\";\r\n\r\n/**\r\n * @summary 日付をフォーマットして表示します.\r\n */\r\n@Component\r\nexport default class DateText extends Vue\r\n{\r\n    // #region props\r\n    @Prop({default: () => new Date()}) readonly date!: Date;\r\n    // #endregion\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateText.vue?vue&type=template&id=07e2eb18&\"\nimport script from \"./DateText.vue?vue&type=script&lang=ts&\"\nexport * from \"./DateText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport {Component, Vue} from \"vue-property-decorator\";\n\n/**\n * @summary ダイアログを実装するための基本機能を提供します.\n */\n@Component\nexport default class DialogBase<T, TResult> extends Vue\n{\n    public context?: any = {};\n    private resolve?: (value?: TResult | PromiseLike<TResult | undefined> | undefined) => void = undefined;\n    private isShow = false;\n\n    /**\n     * @summary ダイアログを開きます.\n     * @param context 編集する内容\n     * @returns 追加する内容\n     */\n    public showAsync(context?: T): Promise<TResult | undefined>\n    {\n        this.isShow = true;\n        this.context = context;\n        return new Promise<TResult | undefined>(resolve =>\n        {\n            this.resolve = resolve;\n        });\n    }\n\n    /**\n     * @summary ダイアログを閉じて編集済みの内容を返却します.\n     */\n    public close(result?: TResult)\n    {\n        this.isShow = false;\n        this.resolve!(result);\n    }\n}\n","var render, staticRenderFns\nimport script from \"./DialogBase.vue?vue&type=script&lang=ts&\"\nexport * from \"./DialogBase.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBase.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBase.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"290\"},model:{value:(_vm.isShow),callback:function ($$v) {_vm.isShow=$$v},expression:\"isShow\"}},[(_vm.context)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.context.title))]),_c('v-card-text',[_vm._v(_vm._s(_vm.context.text))]),_c('v-card-actions',[_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"black\"},on:{\"click\":function($event){return _vm.close(false)}}},[_c('v-icon',[_vm._v(\"mdi-close\")]),_vm._v(\" \"+_vm._s(_vm.context.cancelText)+\" \")],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.close(true)}}},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\" \"+_vm._s(_vm.context.okText)+\" \")],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Prop, Component, Mixins} from \"vue-property-decorator\";\nimport DialogBase from \"./DialogBase.vue\";\n\n/**\n * @summary 確認用ダイアログを提供します.\n */\n@Component\nexport default class ConfirmDialog extends Mixins(DialogBase)\n{\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=b38655d0&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\r\n * @summary ダイアログに表示するためのコンテントを表します.\r\n */\r\nexport class ConfirmDialogContent\r\n{\r\n    text: string = \"\";\r\n    title: string = \"\";\r\n    okText: string = \"OK\";\r\n    cancelText: string = \"キャンセル\";\r\n\r\n    /**\r\n     * @summary コンストラクタ\r\n     * @param 初期値\r\n     */\r\n    constructor(content: Partial<ConfirmDialogContent>)\r\n    {\r\n        Object.assign(this, content);\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.d!='00')?_c('span',[_vm._v(_vm._s(_vm.d))]):_vm._e(),(_vm.d!='00')?_c('span',{staticClass:\"tani\"},[_vm._v(\"日\")]):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.h))]),_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.m))]),_vm._m(1),_c('span',[_vm._v(_vm._s(_vm.s))]),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tani\"},[_c('small',[_vm._v(\"時間\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tani\"},[_c('small',[_vm._v(\"分\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tani\"},[_c('small',[_vm._v(\"秒\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <span>\r\n        <span v-if=\"d!='00'\">{{d}}</span><span\r\n            class=\"tani\"\r\n            v-if=\"d!='00'\"\r\n        >日</span>\r\n        <span>{{h}}</span><span class=\"tani\"><small>時間</small></span>\r\n        <span>{{m}}</span><span class=\"tani\"><small>分</small></span>\r\n        <span>{{s}}</span><span class=\"tani\"><small>秒</small></span>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"elapsed-time-clock\",\r\n    props: {\r\n        /**\r\n         * [date 表示するDateオブジェクト]\r\n         * @type {Date}\r\n         */\r\n        date: {\r\n            type: Date,\r\n            require: true,\r\n            default: () => new Date()\r\n        }\r\n    },\r\n    data()\r\n    {\r\n        return {\r\n            h: 0,\r\n            m: 0,\r\n            s: 0,\r\n            d: 0,\r\n            intervalId: 0\r\n        };\r\n    },\r\n    mounted()\r\n    {\r\n        const from = this.date;\r\n        this.intervalId = setInterval(() =>\r\n        {\r\n            const to = new Date();\r\n            const ms = (to.getTime() - from.getTime()) / 1000;\r\n            const daySec = ms % (60 * 60 * 24);\r\n\r\n            this.d = Math.floor(ms / (60 * 60 * 24));\r\n            this.h = Math.floor(daySec / (60 * 60));\r\n            this.m = Math.floor((daySec / 60) % 60);\r\n            this.s = Math.floor(daySec % 60);\r\n\r\n            if (this.d < 10)\r\n            {\r\n                this.d = \"0\" + this.d;\r\n            }\r\n            if (this.h < 10)\r\n            {\r\n                this.h = \"0\" + this.h;\r\n            }\r\n            if (this.m < 10)\r\n            {\r\n                this.m = \"0\" + this.m;\r\n            }\r\n            if (this.s < 10)\r\n            {\r\n                this.s = \"0\" + this.s;\r\n            }\r\n        }, 1000);\r\n    },\r\n    beforeDestroy()\r\n    {\r\n        clearInterval(this.intervalId);\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElapsedTimeClock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElapsedTimeClock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElapsedTimeClock.vue?vue&type=template&id=c48dad06&\"\nimport script from \"./ElapsedTimeClock.vue?vue&type=script&lang=js&\"\nexport * from \"./ElapsedTimeClock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",style:({height:_vm.height+'px',width: '100%'})})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <canvas ref=\"canvas\" :style=\"{height:height+'px',width: '100%'}\"></canvas>\n</template>\n<script>\n\nexport default {\n    name: \"volume-indicator\",\n    props: {\n        stream: {\n        },\n        isEnabled: {\n            type: Boolean,\n            default: false\n        },\n        indicatorCount: {\n            type: Number,\n            default: 12\n        },\n        height: {\n            type: Number,\n            default: 30\n        },\n        span: {\n            type: Number,\n            default: 1\n        },\n        color: {\n            type: String,\n            default: \"#ff9d55\"\n        },\n        emptyColor: {\n            type: String,\n            default: \"rgb(180,180,180)\"\n        }\n    },\n    data()\n    {\n        return {\n            intervalId: 0,\n            audioContext: null\n        };\n    },\n    watch: {\n        isEnabled(value)\n        {\n            this.kill();\n            this.begin();\n        },\n        stream(value)\n        {\n            if (this.isEnabled && value instanceof MediaStream)\n            {\n                this.kill();\n                this.begin();\n            }\n        }\n    },\n    methods: {\n        begin()\n        {\n            if (!this.stream || this.stream.getAudioTracks().length === 0)\n            {\n                return;\n            }\n            const analyzer = this.createAnalyzer(this.stream);\n\n            const canvas = this.$refs.canvas;\n            canvas.width = canvas.clientWidth;\n            canvas.height = canvas.clientHeight;\n            const context = canvas.getContext(\"2d\");\n\n            const rectItemWidth = canvas.width / this.indicatorCount;\n\n            /**\n             * 角が丸い四角形を描画\n             */\n            const roundRect = (ctx, x, y, width, height, radius, fill, stroke) =>\n            {\n                if (typeof stroke === \"undefined\")\n                {\n                    stroke = true;\n                }\n                if (typeof radius === \"undefined\")\n                {\n                    radius = 5;\n                }\n                ctx.beginPath();\n                ctx.moveTo(x + radius, y);\n                ctx.lineTo(x + width - radius, y);\n                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n                ctx.lineTo(x + width, y + height - radius);\n                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n                ctx.lineTo(x + radius, y + height);\n                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n                ctx.lineTo(x, y + radius);\n                ctx.quadraticCurveTo(x, y, x + radius, y);\n                ctx.closePath();\n                if (stroke)\n                {\n                    ctx.stroke();\n                }\n                if (fill)\n                {\n                    ctx.fill();\n                }\n            };\n\n            // フレーム描画開始\n            this.intervalId = setInterval(() =>\n            {\n                // 背景をクリア\n                context.clearRect(0, 0, canvas.width, canvas.height);\n\n                if (!analyzer)\n                {\n                    for (let i = 0; i < this.indicatorCount; i++)\n                    {\n                        context.fillStyle = \"#bd0b0b0\";\n                        roundRect(context, i * rectItemWidth + this.span, 2, rectItemWidth - (this.span * 2), canvas.height - 4, 3, true, false);\n                    }\n                    return;\n                }\n\n                const spectrums = new Uint8Array(analyzer.frequencyBinCount);\n                analyzer.getByteFrequencyData(spectrums);\n                if (spectrums[0])\n                {\n                    this.$emit(\"audioInput\", true);\n                }\n                else\n                {\n                    this.$emit(\"audioInput\", false);\n                }\n\n                let level = spectrums[0] + spectrums[1];\n                level *= 0.5;\n                level = (level / 255) * this.indicatorCount;\n\n                const l = parseInt(level);\n                for (let i = 0; i < this.indicatorCount; i++)\n                {\n                    if (i < l && this.isEnabled)\n                    {\n                        context.fillStyle = this.color;\n                    }\n                    else\n                    {\n                        context.fillStyle = this.emptyColor;\n                    }\n\n                    roundRect(context, i * rectItemWidth + this.span, 2, rectItemWidth - (this.span * 2), canvas.height - 4, 3, true, false);\n                }\n            }, 200);\n        },\n        kill()\n        {\n            clearInterval(this.intervalId);\n            this.intervalId = 0;\n            try\n            {\n                if (this.audioContext)\n                {\n                    // this.audioContext.close();\n                }\n            }\n            catch (ex)\n            {\n                console.warn(ex);\n            }\n        },\n        createAnalyzer(stream)\n        {\n            try\n            {\n                const _AudioContext = window.AudioContext || window.webkitAudioContext;\n                const audioContext = this.audioContext = new _AudioContext();\n                const analyzer = audioContext.createAnalyser();\n\n                const microphone = audioContext.createMediaStreamSource(stream);\n                microphone.connect(analyzer);\n                analyzer.smoothingTimeConstant = 0.3;\n                analyzer.fftSize = 32;\n                return analyzer;\n            }\n            catch (ex)\n            {\n                logger.error(ex.message);\n            }\n        }\n    },\n    mounted()\n    {\n        this.begin();\n    },\n    beforeDestroy()\n    {\n        this.kill();\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolumeIndicator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolumeIndicator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VolumeIndicator.vue?vue&type=template&id=69f4825c&\"\nimport script from \"./VolumeIndicator.vue?vue&type=script&lang=js&\"\nexport * from \"./VolumeIndicator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-wrap-grid\",on:{\"resize\":_vm.onResize}},[_vm._l((_vm.items),function(item,key){return [_c('div',{key:key,staticClass:\"item\",style:({width:(\"calc(100% / \" + _vm.columnCount + \")\")})},[_vm._t(\"item\",null,{\"item\":item})],2)]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component} from \"vue-property-decorator\";\r\n\r\n/**\r\n * アイテムを折り返し表示するためのグリッドレイアウトを提供します．\r\n */\r\n@Component\r\nexport default class ItemWrapGrid extends Vue\r\n{\r\n    private columnCount = 0;\r\n    /**\r\n     * 表示するアイテム\r\n     */\r\n    @Prop({default: []}) readonly items!: unknown[];\r\n\r\n    /**\r\n     * wrapする条件\r\n     */\r\n    @Prop({\r\n        default: () => [\r\n            {\r\n                width: 1280,\r\n                columnCount: 4\r\n            },\r\n            {\r\n                width: 780,\r\n                columnCount: 3\r\n            },\r\n            {\r\n                width: 580,\r\n                columnCount: 2\r\n            },\r\n            {\r\n                width: 0,\r\n                columnCount: 1\r\n            }\r\n        ]\r\n    }) readonly breakWidths!: any[];\r\n\r\n    private mounted()\r\n    {\r\n        window.addEventListener(\"resize\", this.onResize);\r\n        this.onResize();\r\n    }\r\n\r\n    private beforeDestroy()\r\n    {\r\n        window.removeEventListener(\"resize\", this.onResize);\r\n    }\r\n\r\n    private onResize()\r\n    {\r\n        const width = this.$el.getBoundingClientRect().width;\r\n        for (const item of this.breakWidths)\r\n        {\r\n            if (item.width < width)\r\n            {\r\n                this.columnCount = item.columnCount;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemWrapGrid.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemWrapGrid.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemWrapGrid.vue?vue&type=template&id=133e29d6&scoped=true&\"\nimport script from \"./ItemWrapGrid.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemWrapGrid.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemWrapGrid.vue?vue&type=style&index=0&id=133e29d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"133e29d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{ref:\"menu\",attrs:{\"overlay-color\":\"transpalent\",\"max-width\":\"200\"},model:{value:(_vm.isShow),callback:function ($$v) {_vm.isShow=$$v},expression:\"isShow\"}},[_c('v-card',[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\r\nimport {Vue, Component} from \"vue-property-decorator\";\r\n\r\n@Component\r\nexport default class ContextMenu extends Vue\r\n{\r\n    private isShow = false;\r\n\r\n    /**\r\n     * 指定した絶対座標にコンテキストメニューを表示します\r\n     * @param x x座標\r\n     * @param y y座標\r\n     */\r\n    public show(x: number, y: number)\r\n    {\r\n        this.isShow = true;\r\n        this.$nextTick(() =>\r\n        {\r\n            const menu = document.querySelector(\".v-dialog\");\r\n            if (!menu) return;\r\n            (menu as HTMLElement).style.position = \"fixed\";\r\n            (menu as HTMLElement).style.left = (x - 20).toString() + \"px\";\r\n            (menu as HTMLElement).style.top = (y - 20).toString() + \"px\";\r\n        });\r\n    }\r\n\r\n    public close()\r\n    {\r\n        this.isShow = false;\r\n    }\r\n}\r\n","/**\n * @summary ブラウザの種別\n */\nexport enum BrowserType\n{\n    None = 0,\n\n    // ブラウザ\n    Chrome = 1 << 0,\n    InternetExplorer = 1 << 1,\n    Edge = 1 << 2,\n    Safari = 1 << 3,\n    FireFox = 1 << 4,\n    Opera = 1 << 5,\n\n    // OS\n    Windows = 1 << 6,\n    Android = 1 << 7,\n    ios = 1 << 8,\n    macOS = 1 << 9,\n    iPad = 1 << 10,\n\n    Mobile = Android | ios,\n    Desktop = Windows | macOS\n}\n\n/**\n * @summary ブラウザ情報全般を提供するシングルトンオブジェクトです.\n */\nexport class BrowserUtility\n{\n    private static type?: BrowserType = undefined;\n\n    /**\n     * ブラウザの種別を取得します\n     */\n    public static getBrowserType(): BrowserType\n    {\n        // 初回のみ計算する\n        if (this.type === undefined)\n        {\n            this.applyType();\n        }\n        return this.type!;\n    }\n\n    /**\n     * 指定したブラウザタイプのビットフラグが立っているかを検証します.\n     * @param type\n     */\n    public static hasFlag(type: BrowserType): boolean\n    {\n        // 初回のみ計算する\n        if (this.type === undefined)\n        {\n            this.applyType();\n        }\n        return this.type ? (this.type & type) !== 0 : false;\n    }\n\n    /**\n     * エージェントをTypeに適応します.\n     */\n    private static applyType(): void\n    {\n        let browserType = BrowserType.None;\n        const agent = navigator.userAgent;\n        // ブラウザ判定\n        if (agent.indexOf(\"Edge\") > 0)\n        {\n            browserType = browserType | BrowserType.Edge;\n        }\n        else if (agent.indexOf(\"Firefox\") > 0)\n        {\n            browserType = browserType | BrowserType.FireFox;\n        }\n        else if (agent.indexOf(\"Chrome\") > 0)\n        {\n            browserType = browserType | BrowserType.Chrome;\n        }\n        else if (agent.indexOf(\"Safari\") > 0)\n        {\n            browserType = browserType | BrowserType.Safari;\n            if (typeof document.ontouchstart !== \"undefined\")\n            {\n                browserType = browserType | BrowserType.ios;\n            }\n        }\n\n        // iosでChrome\n        if (navigator.userAgent.match(/crios/i))\n        {\n            browserType = browserType | BrowserType.Chrome;\n            browserType = browserType & ~BrowserType.Safari;\n        }\n\n        if (agent.indexOf(\"iPhone\") > 0)\n        {\n            browserType = browserType | BrowserType.ios;\n        }\n        else if (agent.indexOf(\"iPad\") > 0)\n        {\n            browserType = browserType | BrowserType.iPad;\n            browserType = browserType | BrowserType.ios;\n        }\n        else if (agent.indexOf(\"Mac\") > 0)\n        {\n            browserType = browserType | BrowserType.iPad;\n            browserType = browserType | BrowserType.ios;\n        }\n\n        if (agent.indexOf(\"Android\") > 0)\n        {\n            browserType = browserType | BrowserType.Android;\n        }\n        this.type = browserType;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=d054aa4a&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"mx-auto pa-3 strech d-flex flex-column\",staticStyle:{\"border-radius\":\"0\",\"border-right\":\"1px solid rgba(128, 128, 128, 0.14)\"},attrs:{\"elevation\":\"0\"}},[_c('div',{staticClass:\"strech d-flex flex-wrap justify-center align-center\"},[_c('div',{staticStyle:{\"width\":\"128px\"}},[_c('div',{staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"ネットワーク速度\")]),_c('div',[_c('div',{staticClass:\"d-flex align-baseline\"},[_c('div',{staticStyle:{\"font-size\":\"28px\",\"height\":\"fit-content\"}},[_vm._v(_vm._s(_vm.getNetworkSpeed()))]),_c('div',{staticStyle:{\"font-size\":\"18px\",\"margin-left\":\"2px\",\"height\":\"fit-content\"}},[_vm._v(\"Mbps\")])]),_c('div',{staticStyle:{\"color\":\"#b4b4b4\",\"font-size\":\"12px\"},domProps:{\"innerHTML\":_vm._s(_vm.getMessage2())}})])]),_c('div',{staticClass:\"ml-1\"},[_c('v-icon',{staticStyle:{\"font-size\":\"56px\"}},[_vm._v(\"mdi-wifi\")]),_c('div',{staticClass:\"ml-2\",staticStyle:{\"font-size\":\"18px\",\"height\":\"22px\"},style:({color:true?'var(--v-secondary-base)':''})},[_vm._v(_vm._s(_vm.getMessage()))])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component, Watch} from \"vue-property-decorator\";\r\nimport {BrowserUtility, BrowserType} from \"../libs/utilities/BrowserUtility\";\r\nimport RoomConnectionPage from \"@/components/Managements/Rooms/RoomConnectionPage.vue\";\r\n/**\r\n * @summary 接続設定ページのUIを提供します.\r\n */\r\n@Component({components: {}})\r\nexport default class NetworkTester extends Vue\r\n{\r\n    @Prop({default: false}) readonly isEnabled!: boolean;\r\n\r\n    /**\r\n     * @returns ネットワーク速度を取得します.\r\n     */\r\n    private getNetworkSpeed(): number | undefined\r\n    {\r\n        if (BrowserUtility.hasFlag(BrowserType.Chrome))\r\n        {\r\n            return (navigator as any).connection.downlink as number;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * @returns ネットワーク速度を取得します.\r\n     */\r\n    private getMessage(): string | undefined\r\n    {\r\n        if (BrowserUtility.hasFlag(BrowserType.Chrome))\r\n        {\r\n            const speed = (navigator as any).connection.downlink as number;\r\n            if (speed <= 3) return \"低速\";\r\n            if (speed < 10) return \"中速\";\r\n            else return \"高速\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    /**\r\n     * @returns ネットワーク速度を取得します.\r\n     */\r\n    private getMessage2(): string | undefined\r\n    {\r\n        if (BrowserUtility.hasFlag(BrowserType.Chrome))\r\n        {\r\n            const speed = (navigator as any).connection.downlink as number;\r\n            if (speed <= 3) return \"十分な速度が出です<br>高画質で接続可能です\";\r\n            if (speed < 10) return \"十分な速度が出です<br>高画質で接続可能です\";\r\n            else return \"十分な速度です<br>高画質で接続可能です\";\r\n        }\r\n        return \"\";\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkTester.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkTester.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NetworkTester.vue?vue&type=template&id=3aaa434c&\"\nimport script from \"./NetworkTester.vue?vue&type=script&lang=ts&\"\nexport * from \"./NetworkTester.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"mx-auto pa-3 strech d-flex flex-column\",staticStyle:{\"border-radius\":\"0\",\"border-right\":\"1px solid rgba(128, 128, 128, 0.14)\"},attrs:{\"elevation\":\"0\"}},[_c('div',{staticClass:\"strech d-flex flex-wrap justify-center align-center\"},[_c('div',{staticStyle:{\"width\":\"128px\"}},[_c('div',{staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"スピーカー認識状況\")]),_c('div',[_c('v-btn',{staticClass:\"mt-3 mb-3\",staticStyle:{\"color\":\"#6d6d6d\",\"height\":\"24px\",\"font-size\":\"12px\",\"width\":\"100px\"},attrs:{\"large\":\"\",\"color\":\"info\",\"light\":\"\",\"x-small\":\"\"},on:{\"click\":_vm.playAudioTest}},[_vm._v(\"音声テスト\")]),_c('div',{staticStyle:{\"color\":\"#b4b4b4\",\"font-size\":\"12px\"}},[_vm._v(\" ボタンを押すと \"),_c('br'),_vm._v(\"音声テストが流れます \")])],1)]),_c('div',{staticClass:\"ml-1\"},[_c('div',[_c('v-icon',{staticStyle:{\"font-size\":\"56px\"}},[_vm._v(\"mdi-volume-medium\")])],1),_c('div',{staticClass:\"d-flex\",staticStyle:{\"font-size\":\"22px\",\"height\":\"22px\"},style:({color:_vm.isEnabled?'var(--v-secondary-base)':''})},[_c('v-icon',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(\"mdi-check\")]),_c('div',{staticStyle:{\"font-size\":\"18px\",\"height\":\"22px\"}},[_vm._v(_vm._s(_vm.isEnabled?\"OK\":\"NONE\"))])],1)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component, Watch} from \"vue-property-decorator\";\r\n/**\r\n * @summary 接続設定ページのUIを提供します.\r\n */\r\n@Component({components: {}})\r\nexport default class AudioOutputTester extends Vue\r\n{\r\n    /**\r\n     * オーディオが有効かどうか\r\n     */\r\n    @Prop({default: false}) readonly isEnabled!: boolean;\r\n\r\n    /**\r\n     * @description テスト用音声ファイルへのパス\r\n     */\r\n    @Prop({default: \"\"}) readonly src!: string;\r\n\r\n    /**\r\n     * @summary オーディオの再生テストを実行します.\r\n     */\r\n    private async playAudioTest(): Promise<void>\r\n    {\r\n        try\r\n        {\r\n            const path = \"./speaker_check.mp3\";\r\n            const audio = new Audio(path);\r\n            await audio.play();\r\n        }\r\n        catch\r\n        {\r\n            logger.error(\"オーディオテストに失敗しました．ファイルパスを確認してください．\");\r\n        }\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioOutputTester.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioOutputTester.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AudioOutputTester.vue?vue&type=template&id=453a0594&\"\nimport script from \"./AudioOutputTester.vue?vue&type=script&lang=ts&\"\nexport * from \"./AudioOutputTester.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"mx-auto pa-3 strech d-flex flex-column\",staticStyle:{\"border-radius\":\"0\"},attrs:{\"elevation\":\"0\"}},[_c('div',{staticClass:\"strech d-flex flex-wrap justify-center align-center\"},[_c('div',{staticStyle:{\"width\":\"134px\"}},[_c('div',{staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"マイクの認識状況\")]),_c('div',[(_vm.stream)?_c('VolumeIndicator',{staticClass:\"mt-3\",staticStyle:{\"width\":\"100px\",\"height\":\"24px\"},attrs:{\"indicatorCount\":\"15\",\"isEnabled\":_vm.isAudioEnabled,\"color\":\"#6d5db3\",\"emptyColor\":\"rgb(220,220,220)\",\"stream\":_vm.stream}}):_vm._e(),_c('div',{staticStyle:{\"color\":\"#b4b4b4\",\"font-size\":\"12px\"}},[_vm._v(\" ボタンを押すと \"),_c('br'),_vm._v(\"音声テストが流れます \")])],1)]),_c('div',{staticClass:\"ml-1 mt-2\"},[_c('v-icon',{staticStyle:{\"font-size\":\"52px\"}},[_vm._v(_vm._s(_vm.isAudioEnabled? \"mdi-microphone\":\"mdi-microphone-off\"))]),_c('div',{staticClass:\"d-flex\",staticStyle:{\"font-size\":\"22px\",\"height\":\"22px\"}},[_c('v-icon',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.isAudioEnabled?\"mdi-check\":\"mdi-close\"))]),_c('div',{staticStyle:{\"font-size\":\"18px\",\"height\":\"22px\"}},[_vm._v(_vm._s(_vm.isAudioEnabled?\"ON\":\"OFF\"))])],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component, Watch} from \"vue-property-decorator\";\r\nimport VolumeIndicator from \"./VolumeIndicator.vue\";\r\n/**\r\n * @summary 接続設定ページのUIを提供します.\r\n */\r\n@Component({components: {VolumeIndicator}})\r\nexport default class AudioTester extends Vue\r\n{\r\n    /**\r\n     * オーディオが有効かどうか\r\n     */\r\n    @Prop({default: false}) readonly isAudioEnabled!: boolean;\r\n\r\n    /**\r\n     * ストリーム\r\n     */\r\n    @Prop({default: () => new MediaStream()}) readonly stream!: MediaStream;\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioTester.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioTester.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AudioTester.vue?vue&type=template&id=623d6cd0&\"\nimport script from \"./AudioTester.vue?vue&type=script&lang=ts&\"\nexport * from \"./AudioTester.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"strech drop-area relative\",class:_vm.isDragOverring?'drop-area drag-over':'',staticStyle:{\"min-width\":\"400px\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDragOver($event)},\"drop\":function($event){$event.preventDefault();return _vm.drop($event)},\"dragleave\":_vm.onDragLeave}},[_c('div',{staticClass:\"absolute-center\"},[_c('v-icon',{class:_vm.isDragOverring?'upload-icon':'',staticStyle:{\"font-size\":\"72px\",\"margin-top\":\"-20px\"},attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-cloud-upload-outline\")]),_c('div',{staticClass:\"mt-4\",staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.message))]),_c('v-btn',{staticClass:\"mt-6\",attrs:{\"color\":\"primary\"}},[_vm._v(\"またはファイルを選択する\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component} from \"vue-property-decorator\";\r\n\r\n/**\r\n * ファイルをドロップして受け取るエリアを提供します．\r\n */\r\n@Component\r\nexport default class FileDropArea extends Vue\r\n{\r\n    @Prop({default: \"ファイルをドロップしてください\"}) readonly message!: string;\r\n    private isDragOverring = false;\r\n    private onDragOver()\r\n    {\r\n        this.isDragOverring = true;\r\n    }\r\n\r\n    private drop(e: DragEvent)\r\n    {\r\n        e.preventDefault();\r\n        this.isDragOverring = false;\r\n        if (!e.dataTransfer) return;\r\n        const [file] = e.dataTransfer.files;\r\n        if (!file || file.type.indexOf(\"image/\") < 0) return;\r\n        /**\r\n         * 画像ファイルがドロップされたとき\r\n         * @type {File}\r\n         */\r\n        this.$emit(\"Drop\", file);\r\n    }\r\n\r\n    private onDragLeave()\r\n    {\r\n        this.isDragOverring = false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileDropArea.vue?vue&type=template&id=1135cbf5&scoped=true&\"\nimport script from \"./FileDropArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileDropArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileDropArea.vue?vue&type=style&index=0&id=1135cbf5&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1135cbf5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"strech drop-area d-flex flex-column justify-center aligh-center\",class:_vm.isDragOverring?'drop-area drag-over':'',on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDragOver($event)},\"drop\":function($event){$event.preventDefault();return _vm.drop($event)},\"dragleave\":_vm.onDragLeave}},[_c('v-icon',{class:_vm.isDragOverring?'upload-icon':'',staticStyle:{\"font-size\":\"64px\",\"margin-top\":\"-20px\"},attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-cloud-upload-outline\")]),_c('div',{staticClass:\"mt-2\",staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.message))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Component, Prop} from \"vue-property-decorator\";\r\n\r\n/**\r\n * ファイルをドロップして受け取るエリアを提供します．\r\n */\r\n@Component\r\nexport default class FileDropAreaCompact extends Vue\r\n{\r\n    @Prop({default: \"ファイルをドロップしてください\"}) readonly message!: string;\r\n    private isDragOverring = false;\r\n    private onDragOver()\r\n    {\r\n        this.isDragOverring = true;\r\n    }\r\n\r\n    private drop(e: DragEvent)\r\n    {\r\n        e.preventDefault();\r\n        this.isDragOverring = false;\r\n        if (!e.dataTransfer) return;\r\n        const [file] = e.dataTransfer.files;\r\n        if (!file || file.type.indexOf(\"image/\") < 0) return;\r\n        /**\r\n         * 画像ファイルがドロップされたとき\r\n         * @type {File}\r\n         */\r\n        this.$emit(\"Drop\", file);\r\n    }\r\n\r\n    private onDragLeave()\r\n    {\r\n        this.isDragOverring = false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropAreaCompact.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropAreaCompact.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileDropAreaCompact.vue?vue&type=template&id=991e22aa&scoped=true&\"\nimport script from \"./FileDropAreaCompact.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileDropAreaCompact.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileDropAreaCompact.vue?vue&type=style&index=0&id=991e22aa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"991e22aa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"split-view\",style:({\n        gridTemplateColumns:!_vm.isVertical?(_vm.splitWidth + \"px \" + _vm.handleSize + \"px 1fr\"):'',\n        gridTemplateRows:_vm.isVertical?(_vm.splitWidth + \"px \" + _vm.handleSize + \"px 1fr\"):'',\n    })},[_vm._t(\"slot1\"),_c('div',{staticClass:\"handle\",style:(_vm.isVertical?'cursor: ns-resize':'cursor: ew-resize'),on:{\"mousedown\":_vm.startDrag}}),_vm._t(\"slot2\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue, Prop, Component, Watch} from \"vue-property-decorator\";\r\n\r\n/**\r\n * リサイズ可能な分割ビューを提供します．\r\n */\r\n@Component({components: {}})\r\nexport default class SplitView extends Vue\r\n{\r\n    private isDragging = false;\r\n    private splitWidth = 0;\r\n\r\n    /**\r\n     * デフォルトの分割長さ\r\n     */\r\n    @Prop({default: 180}) readonly defaultSplitWidth!: number;\r\n\r\n    /**\r\n     * 縦か横か\r\n     */\r\n    @Prop({default: false}) readonly isVertical!: boolean;\r\n\r\n    /**\r\n     * 最小長さ\r\n     */\r\n    @Prop({default: 0}) readonly minWidth!: number;\r\n\r\n    /**\r\n     * 最大長さ\r\n     */\r\n    @Prop({default: Number.MAX_SAFE_INTEGER}) readonly maxWidth!: number;\r\n\r\n    /**\r\n     * ハンドルのサイズ\r\n     */\r\n    @Prop({default: 4}) readonly handleSize!: number;\r\n\r\n    private created()\r\n    {\r\n        this.splitWidth = this.defaultSplitWidth;\r\n        window.addEventListener(\"mousemove\", this.onMouseMove);\r\n        window.addEventListener(\"mouseup\", this.onMouseUp);\r\n    }\r\n\r\n    private beforeDestroy()\r\n    {\r\n        window.removeEventListener(\"mousemove\", this.onMouseMove);\r\n        window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    }\r\n\r\n    /**\r\n     * ドラッグを開始します.\r\n     */\r\n    private startDrag()\r\n    {\r\n        this.isDragging = true;\r\n    }\r\n\r\n    /**\r\n     * マウスが動いたとき.\r\n     * @description 分割するサイズを変更します．\r\n     */\r\n    private onMouseMove(e: MouseEvent)\r\n    {\r\n        if (this.isDragging)\r\n        {\r\n            const container = this.$refs[\"container\"] as HTMLElement | undefined;\r\n            if (!container) return;\r\n            const rect = container.getBoundingClientRect();\r\n\r\n            if (this.isVertical)\r\n            {\r\n                this.splitWidth += e.movementY;\r\n                this.splitWidth = Math.max(this.minWidth, Math.min(this.splitWidth, Math.min(this.maxWidth, rect.height - this.handleSize)));\r\n            }\r\n            else\r\n            {\r\n                this.splitWidth += e.movementX;\r\n                this.splitWidth = Math.max(this.minWidth, Math.min(this.splitWidth, Math.min(this.maxWidth, rect.width - this.handleSize)));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * マウスがクリックをやめたとき．\r\n     * @description ドラッグフラグを解除します．\r\n     */\r\n    private onMouseUp()\r\n    {\r\n        this.isDragging = false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SplitView.vue?vue&type=template&id=be6c7474&scoped=true&\"\nimport script from \"./SplitView.vue?vue&type=script&lang=ts&\"\nexport * from \"./SplitView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SplitView.vue?vue&type=style&index=0&id=be6c7474&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be6c7474\",\n  null\n  \n)\n\nexport default component.exports","import {IDisposeable} from \"./IDisposable\";\n\n/**\n * @summary マルチキャストデリゲートを実現します。\n */\nexport class MultiCastDelegate<TFuncType extends Function> implements IDisposeable\n{\n    private _isDisposed: boolean = false;\n    // 関数の配列\n    private callees: TFuncType[] = [];\n\n    /**\n     * @summary リソースが破棄済みかどうか\n     */\n    public get isDisposed(): boolean\n    {\n        return this._isDisposed;\n    }\n\n    /**\n     * @summary コンストラクタ\n     */\n    public constructor()\n    {\n        this.callees = [];\n    }\n\n    /**\n     * @summary 全ての関数を呼び出します。\n     * @param params ハンドルする引数\n     */\n    public invoke(params: any): void\n    {\n        for (let i = 0; i < this.callees.length; i++)\n        {\n            let callee = this.callees[i];\n            if (callee)\n            {\n                callee(params);\n            }\n        }\n    }\n\n    /**\n     * @summary 関数が既に登録されているかどうかを返します。\n     * @description 関数が既に登録されてい場合はtrue、それ以外の場合はfalseを返します。\n     * @param callee 検証する関数\n     * @returns  関数が既に登録されているかどうか\n     */\n    public contains(callee: TFuncType): boolean\n    {\n        if (!callee)\n        {\n            return false;\n        }\n\n        return this.callees.indexOf(callee) >= 0;\n    }\n\n    /**\n     * @summary 関数を登録します。\n     * @param callee 登録する関数\n     * @returns 指定した関数を登録済の自身を表すインスタンス\n     */\n    public add(callee: TFuncType): MultiCastDelegate<TFuncType>\n    {\n        if (!callee)\n        {\n            return this;\n        }\n\n        if (!this.contains(callee))\n        {\n            this.callees.push(callee);\n        }\n\n        return this;\n    }\n\n    /**\n     * @summary 関数を破棄します。\n     * @param callee 削除する関数\n     * @returns 指定した関数を削除済の自身を表すインスタンス\n     */\n    public remove(callee: TFuncType): MultiCastDelegate<TFuncType>\n    {\n        if (!callee)\n        {\n            return this;\n        }\n\n        var index = this.callees.indexOf(callee);\n        if (index >= 0)\n        {\n            this.callees.splice(index, 1);\n        }\n\n        return this;\n    }\n\n    /**\n     * @summary すべてのリソースを破棄します。\n     */\n    public dispose(): void\n    {\n        this.callees = [];\n    }\n}\n","enum LogType\n{\n    Log = 1 << 0,\n    Error = 1 << 1,\n    Warning = 1 << 1,\n}\n\nexport class Logger\n{\n    public onTraceHandler: (log: unknown, type: LogType) => void = (log, type) => console.trace(log);\n    public trace(content: any, type = LogType.Log): void\n    {\n        this.onTraceHandler(content, type);\n    }\n\n    public onErrorHandler: (log: unknown, type: LogType) => void = (log, type) => console.error(log);\n    public error(content: any, type = LogType.Log): void\n    {\n        this.onErrorHandler(content, type);\n    }\n\n    public onInfoHandler: (log: unknown, type: LogType) => void = (log, type) => console.info(log);\n    public info(content: any, type = LogType.Log): void\n    {\n        this.onInfoHandler(content, type);\n    }\n\n    public onLogHandler: (log: unknown, type: LogType) => void = (log, type) => console.log(log);\n    public log(content: any, type = LogType.Log): void\n    {\n        this.onLogHandler(content, type);\n    }\n\n    public onWarnHandler: (log: unknown, type: LogType) => void = (log, type) => console.warn(log);\n    public warn(content: any, type = LogType.Log): void\n    {\n        this.onWarnHandler(content, type);\n    }\n}\n\nglobalThis.logger = new Logger();\n","import {BrowserUtility, BrowserType} from \"../utilities/BrowserUtility\";\nimport {IDisposeable} from \"../Core/IDisposable\";\n\ndeclare var CanvasCaptureMediaStreamTrack: any;\n\n/**\n * @summary 仮想のビデオStreamを提供します.\n */\nexport class VirtualVideoStreamGenerator\n{\n    private static _stream: MediaStream | undefined = undefined;\n\n    public static getVirtualVideoStream(): MediaStream\n    {\n        if (this._stream === undefined)\n        {\n            const canvasElement = document.createElement(\"canvas\") as HTMLCanvasElement;\n            const imageElement = document.getElementById(\"novideoImage\") as HTMLImageElement;\n            canvasElement.width = imageElement.naturalWidth;\n            canvasElement.height = imageElement.naturalHeight;\n            const context = canvasElement.getContext(\"2d\");\n            const canvasStream = (canvasElement as any).captureStream(30) as MediaStream;\n\n            if (context)\n            {\n                setInterval(() =>\n                {\n                    context.drawImage(imageElement, 0, 0, imageElement.naturalWidth, imageElement.naturalHeight);\n                }, 1000);\n            }\n            this._stream = canvasStream;\n            return canvasStream;\n        }\n        return this._stream!;\n    }\n}\n\n/**\n * @summary WebRtcで使用するStreamのラッパーを提供します.\n */\nexport class RtcMediaStreamWrapper\n{\n    // #region private fields\n    // カメラが有効かどうか\n    private _isVideoEnabled: boolean = false;\n    // オーディオが有効かどうか\n    private _isAudioEnabled: boolean = false;\n    // オーディオエフェクトを適用したStream\n    protected stream: MediaStream;\n    // ソースStream\n    protected srcStream: MediaStream;\n    // ソースのStreamのID\n    private _id: string = \"\";\n    // オーディオコンテキスト\n    protected _audioContexts: AudioContext[] = [];\n    // #endregion\n\n    // #region public propoerty\n    /**\n     * 適用しているMediaStream\n     */\n    public get mediaStream(): MediaStream\n    {\n        return this.stream;\n    }\n\n    /**\n     * ID\n     */\n    public get id(): string\n    {\n        return this._id;\n    }\n\n    /**\n     * カメラが有効かどうか\n     */\n    public get isVideoEnabled(): boolean\n    {\n        return this._isVideoEnabled;\n    }\n    public set isVideoEnabled(isEnable: boolean)\n    {\n        const tracks = this.stream.getVideoTracks();\n        if (tracks !== undefined)\n        {\n            tracks.forEach(track => (track.enabled = isEnable));\n        }\n        this._isVideoEnabled = isEnable;\n    }\n\n    /**\n     * オーディオが有効かどうか\n     */\n    public get isAudioEnabled(): boolean\n    {\n        return this._isAudioEnabled;\n    }\n    public set isAudioEnabled(isEnable: boolean)\n    {\n        const tracks = this.stream.getAudioTracks();\n        if (tracks !== undefined)\n        {\n            tracks.forEach(track => (track.enabled = isEnable));\n        }\n        this._isAudioEnabled = isEnable;\n    }\n    // #endregion\n\n    // #region public methods\n    /**\n     * コンストラクタ\n     * @param stream 適用するstream\n     * @param isGenerateVirtualAudioTrack オーディオトラックが存在しない場合に仮想のオーディオトラックを挿入するかどうか\n     * @param isGenerateVirtualVideoTrack ビデオトラックが存在しない場合に仮想のビデオトラック（Novideo画像）を挿入するかどうか\n     */\n    public constructor(stream: MediaStream, isGenerateVirtualAudioTrack = false, isGenerateVirtualVideoTrack = false)\n    {\n        if (!stream)\n        {\n            throw Error(\"MediaStreamが無効です。\");\n        }\n        const [aTrack] = stream.getAudioTracks();\n        const [vTrack] = stream.getVideoTracks();\n        this._isAudioEnabled = aTrack ? aTrack.enabled : false;\n        this._isVideoEnabled = vTrack ? vTrack.enabled : false;\n\n        this.srcStream = stream;\n        this._id = stream.id;\n\n        if (BrowserUtility.hasFlag(BrowserType.iPad))\n        {\n            this.stream = this.applyEffect(stream, isGenerateVirtualAudioTrack, isGenerateVirtualVideoTrack, false);\n        }\n        else\n        {\n            this.stream = this.applyEffect(stream, isGenerateVirtualAudioTrack, isGenerateVirtualVideoTrack, true);\n        }\n    }\n    // #endregion\n\n    // #region private methods\n    /**\n     * @summary StreamをWebRtcへ送信する前の前処理を適用します.\n     * @param stream 適用するStream\n     * @return 結果のStream\n     */\n    private applyEffect(\n        stream: MediaStream,\n        isGenerateVirtualAudioTrack: boolean,\n        isGenerateVirtualVideoTrack: boolean,\n        isApplyAudioEffect: boolean = true): MediaStream\n    {\n        const _AudioContext = (window as any).AudioContext || (window as any).webkitAudioContext;\n        const audioContext = new _AudioContext() as AudioContext;\n        this._audioContexts.push(audioContext);\n\n        if (!stream.active)\n        {\n            const tracks: MediaStreamTrack[] = [];\n            if (isGenerateVirtualAudioTrack)\n            {\n                // 仮想のオーディオトラックを作成\n                const virtualAudioStream = audioContext.createMediaStreamDestination();\n                const [aTrack] = virtualAudioStream.stream.getAudioTracks();\n                tracks.push(aTrack);\n            }\n            if (isGenerateVirtualVideoTrack)\n            {\n                const virtualStream = VirtualVideoStreamGenerator.getVirtualVideoStream();\n                const [vTrack] = virtualStream.getVideoTracks();\n                tracks.push(vTrack);\n            }\n            return new MediaStream(tracks);\n        }\n\n        if (!this._isAudioEnabled)\n        {\n            // video:off audio:off\n            if (!this._isVideoEnabled)\n            {\n                // 仮想のオーディオトラックを作成\n                const tracks: MediaStreamTrack[] = [];\n                if (isGenerateVirtualAudioTrack)\n                {\n                    const virtualAudioStream = audioContext.createMediaStreamDestination();\n                    const [aTrack] = virtualAudioStream.stream.getAudioTracks();\n                    tracks.push(aTrack);\n                }\n                if (isGenerateVirtualVideoTrack)\n                {\n                    const virtualStream = VirtualVideoStreamGenerator.getVirtualVideoStream();\n                    const [vTrack] = virtualStream.getVideoTracks();\n                    tracks.push(vTrack);\n                }\n\n                return new MediaStream(tracks);\n            }\n            // video :on audio:off\n            else\n            {\n                const [vTrack] = stream.getVideoTracks();\n                const tracks: MediaStreamTrack[] = [];\n                if (isGenerateVirtualAudioTrack)\n                {\n                    // 仮想のオーディオトラックを作成\n                    const virtualAudioStream = audioContext.createMediaStreamDestination();\n                    const [aTrack] = virtualAudioStream.stream.getAudioTracks();\n                    tracks.push(aTrack);\n                }\n                tracks.push(vTrack);\n\n                return new MediaStream(tracks);\n            }\n        }\n        else\n        {\n            // video:off audio:on\n            if (!this._isVideoEnabled)\n            {\n                const tracks: MediaStreamTrack[] = [];\n\n                if (isApplyAudioEffect)\n                {\n                    const aTrack = this.applyAudioFilter(stream);\n                    tracks.push(aTrack);\n                }\n                else\n                {\n                    const [aTrack] = stream.getAudioTracks();\n                    tracks.push(aTrack);\n                }\n\n                if (isGenerateVirtualVideoTrack)\n                {\n                    const virtualStream = VirtualVideoStreamGenerator.getVirtualVideoStream();\n                    const [vTrack] = virtualStream.getVideoTracks();\n                    tracks.push(vTrack);\n                }\n                return new MediaStream(tracks);\n            }\n            // video:on audio:on\n            else\n            {\n                const tracks: MediaStreamTrack[] = [];\n                if (isApplyAudioEffect)\n                {\n                    const aTrack = this.applyAudioFilter(stream);\n                    tracks.push(aTrack);\n                }\n                else\n                {\n                    const [aTrack] = stream.getAudioTracks();\n                    tracks.push(aTrack);\n                }\n\n                const [vTrack] = stream.getVideoTracks();\n                tracks.push(vTrack);\n                return new MediaStream(tracks);\n            }\n        }\n    }\n\n    /**\n     * Streamにノイズキャンセルフィルタを適用させます．\n     * @param stream 適用させるStream\n     * @returns 結果のStream\n     */\n    private applyAudioFilter(stream: MediaStream): MediaStreamTrack\n    {\n        const _AudioContext = (window as any).AudioContext || (window as any).webkitAudioContext;\n        const audioContext = new _AudioContext() as AudioContext;\n        this._audioContexts.push(audioContext);\n\n        const biquadFilter = audioContext.createBiquadFilter();\n        biquadFilter.type = \"lowpass\";\n        biquadFilter.frequency.value = 8192;\n\n        const biquadFilter2 = audioContext.createBiquadFilter();\n        biquadFilter2.type = \"highpass\";\n        biquadFilter2.frequency.value = 50;\n\n        const mediaStreamSource = audioContext.createMediaStreamSource(stream);\n        const dstStreamNode = audioContext.createMediaStreamDestination();\n\n        mediaStreamSource.connect(biquadFilter);\n        biquadFilter.connect(biquadFilter2);\n        biquadFilter2.connect(dstStreamNode);\n        const [aTrack] = dstStreamNode.stream.getAudioTracks();\n        return aTrack;\n    }\n    // #endregion\n}\n\n/**\n * @summary デバイスから取得したストリームを表すクラス\n */\nexport class DeviceMediaStreamWrapper extends RtcMediaStreamWrapper implements IDisposeable\n{\n    // #region private fields\n    /**\n     * リソースが解放済みかどうか\n     */\n    private _isDisposed: boolean = false;\n    // #endregion\n\n    // #region public property\n    /**\n     * リソースが解放済みかどうか\n     */\n    public get isDisposed(): boolean\n    {\n        return this._isDisposed;\n    }\n    // #endregion\n\n    // #region public methods\n    /**\n     * コンストラクタ\n     * @param stream 適用するStream\n     */\n    public constructor(stream: MediaStream, isGeberateVirtualAudioTrack = false, isGenerateVirtualVideoTrack = false)\n    {\n        super(stream, isGeberateVirtualAudioTrack, isGenerateVirtualVideoTrack);\n    }\n\n    /**\n     * リソースの破棄\n     */\n    public dispose(): void\n    {\n        if (!this._isDisposed)\n        {\n            if (this.stream)\n            {\n                this.stream.getTracks().forEach(track =>\n                {\n                    // キャンバスではなかったらトラックを停止\n                    if (BrowserUtility.hasFlag(BrowserType.FireFox))\n                    {\n                        track.stop();\n                    }\n                    else\n                    {\n                        if (!(track instanceof CanvasCaptureMediaStreamTrack))\n                        {\n                            track.stop();\n                        }\n                    }\n                });\n            }\n            this.srcStream.getTracks().forEach(track => track.stop());\n            for (let ctx of this._audioContexts)\n            {\n                if (ctx)\n                {\n                    ctx.close();\n                }\n            }\n            this._isDisposed = true;\n        }\n    }\n    // #endregion\n}\n\n/**\n * @summary デバイス情報\n */\nexport class DeviceInfo\n{\n    public id: string = \"\";\n    public name: string = \"\";\n}\n\n/**\n * @summary デバイス情報を格納するリスト\n */\nexport class DeviceList\n{\n    audioDeviceList: DeviceInfo[] = [];\n    videoDeviceList: DeviceInfo[] = [];\n    outputDeviceList: DeviceInfo[] = [];\n    isAllowed: boolean = false;\n}\n\n/**\n * @summary デバイスストリームを管理する静的クラス\n */\nexport class DeviceStreamManager\n{\n    // デバイスストリームのリスト\n    private static deviceStreamList: DeviceMediaStreamWrapper[] = [];\n\n    /**\n     * @summary 全てのデバイスを停止しリソースを破棄\n     */\n    public static disposeAll(): void\n    {\n        const list = this.deviceStreamList;\n        for (let key in list)\n        {\n            list[key].dispose();\n            delete list[key];\n        }\n        this.deviceStreamList.length = 0;\n    }\n\n    /**\n     * @summary 指定したデバイスストリームのリソースを破棄し管理から外す\n     * @param stream 削除するストリーム\n     */\n    public static disposeAt(streamWrapper: DeviceMediaStreamWrapper): void\n    {\n        if (!streamWrapper)\n        {\n            return;\n        }\n\n        const list = this.deviceStreamList;\n        for (let key in list)\n        {\n            if (list[key].id === streamWrapper.id)\n            {\n                list[key].dispose();\n                list.splice(Number(key), 1);\n            }\n        }\n    }\n\n    /**\n     * @summary スクリーンシェア用のデバイスストリームを取得\n     */\n    public static async getScreenShareStream(): Promise<DeviceMediaStreamWrapper | undefined>\n    {\n        try\n        {\n            const stream: MediaStream = await (navigator.mediaDevices as any)\n                .getDisplayMedia({\n                    video: {\n                        width: 1280,\n                        height: 720,\n                        frameRate: 16\n                    }\n                });\n            let deviceStream: DeviceMediaStreamWrapper | undefined;\n            if (stream)\n            {\n                deviceStream = new DeviceMediaStreamWrapper(stream, false, false);\n                this.deviceStreamList.push(deviceStream);\n            }\n            return deviceStream;\n        }\n        catch (ex)\n        {\n            logger.error(ex, ex.message);\n        }\n        return undefined;\n    }\n\n    /**\n     * @summary カメラのデバイスストリームを取得\n     * @param width 横幅\n     * @param height 高さ\n     * @param isVideoEnabled カメラを利用するか\n     * @param videoDeviceId カメラのデバイスId\n     * @param isAudioEnebled マイクを使用するか\n     * @param audioDeviceId マイクのデバイスId\n     * @param facingMode user->フロントカメラ enviroment->バックカメラ 主にモバイルで使用\n     */\n    public static async getDeviceStream(\n        isVideoEnabled: boolean = true,\n        isAudioEnebled: boolean = true,\n        videoDeviceId?: string,\n        audioDeviceId?: string,\n        width: number = 1280,\n        height: number = 720,\n        facingMode?: string,\n        quality: number = 1,\n        frameRate: number = 30\n    ): Promise<DeviceMediaStreamWrapper | undefined>\n    {\n        logger.log(`request media device audio:${isAudioEnebled} AudioDeviceid:${audioDeviceId} video:${isVideoEnabled} VideoDeviceId:${videoDeviceId} ${width * quality}*${height * quality} frame:${frameRate}`);\n        const stream =\n            await navigator.mediaDevices.getUserMedia({\n                audio: isAudioEnebled ? {\n                    deviceId: audioDeviceId ? {exact: audioDeviceId} : undefined,\n                    audioGainControl: true,\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    echoCancellationType: \"system\"\n                } as any : false,\n                video: isVideoEnabled ? {\n                    deviceId: videoDeviceId ? {exact: videoDeviceId} : undefined,\n                    width: width * quality,\n                    height: height * quality,\n                    frameRate: frameRate,\n                    facingMode: facingMode ? {exact: facingMode} : undefined\n                } : false\n            });\n        let deviceStream: DeviceMediaStreamWrapper | undefined;\n        if (stream)\n        {\n            deviceStream = new DeviceMediaStreamWrapper(stream);\n            this.deviceStreamList.push(deviceStream);\n        }\n        return deviceStream;\n    }\n\n    /**\n     * @summary デバイスリストを取得\n     * @returns デバイスリスト\n     */\n    public static async getDeviceList(): Promise<DeviceList>\n    {\n        const deviceList = new DeviceList();\n        const deviceInfos = await navigator.mediaDevices.enumerateDevices();\n\n        for (let item of deviceInfos)\n        {\n            if (item.kind === \"audioinput\")\n            {\n                deviceList.audioDeviceList.push({\n                    id: item.deviceId,\n                    name: item.label\n                });\n            }\n            else if (item.kind === \"audiooutput\")\n            {\n                deviceList.outputDeviceList.push({\n                    id: item.deviceId,\n                    name: item.label\n                });\n            }\n            else if (item.kind === \"videoinput\")\n            {\n                deviceList.videoDeviceList.push(\n                    {\n                        id: item.deviceId,\n                        name: item.label\n                    }\n                );\n            }\n        }\n        if (deviceList.audioDeviceList.length !== 0 && deviceList.videoDeviceList.length !== 0)\n        {\n            deviceList.isAllowed = true;\n        }\n        return deviceList;\n    }\n}\n","import {MultiCastDelegate} from \"../Core/Delegate\";\nimport {DateTime} from \"luxon\";\n\n/**\n * @summary WebSocketにより送信するデータを表します。\n */\nexport class WebSocketData<T>\n{\n    content?: T;\n    type?: number | string;\n    date?: DateTime;\n    constructor(init?: Partial<WebSocketData<any>>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n/**\n * @summary WebSocketによるデータの転送を提供するシングルトンオブジェクトです。\n */\nexport class WebSocketProvider\n{\n    // #regin private fields\n    /**\n     * @summary データを受け取ったとき\n     */\n    public _onDataRecieved: MultiCastDelegate<(data: WebSocketData<any>) => void> = new MultiCastDelegate<(data: WebSocketData<any>) => void>();\n\n    /**\n     * WebSocketの接続\n     */\n    private connection?: WebSocket = undefined;\n\n    /**\n     * @summary 接続中かどうか\n     */\n    private _isConnecting: boolean = false;\n    // #endregion\n\n    // #region public getters\n    /**\n     * @summary 接続中かどうか\n     */\n    public get isConnecting(): boolean\n    {\n        return this._isConnecting;\n    }\n    // #endregion\n\n    // #region public methods\n    /**\n     * @summary データを受信したとき.\n     */\n    public get onDataRecieved(): MultiCastDelegate<(data: WebSocketData<any>) => void>\n    {\n        return this._onDataRecieved;\n    }\n\n    /**\n     * @summary WebSoket Serverに接続します。\n     */\n    public connect(url: string): Promise<void>\n    {\n        const connection = this.connection = new WebSocket(url);\n        if (!connection) throw new Error(\"接続に失敗しました。\");\n\n        connection.onmessage = e =>\n        {\n            const data = e.data;\n        };\n        connection.onerror = (e) => logger.error(e);\n        this._isConnecting = true;\n\n        return new Promise(resolve =>\n        {\n            connection.onopen = () => resolve();\n        });\n    }\n\n    /**\n     * @summary WebSoket Serverへの接続を切断します。\n     */\n    public disconnect(): Promise<void>\n    {\n        return new Promise(resolve =>\n        {\n            if (!this.connection || !this._isConnecting) throw new Error(\"未接続です。\");\n\n            this._onDataRecieved.dispose();\n            this.connection.onclose = e => resolve();\n            this.connection.close();\n        });\n    }\n\n    /**\n     * @summary データを送信します\n     * @param data 送信するデータ\n     */\n    public send(data: WebSocketData<any>): void\n    {\n        const dataStr = typeof (data) === \"string\" ? data : JSON.stringify(data);\n        if (!this.connection)\n        {\n            throw new Error(\"未接続です。\");\n        }\n        this.connection.send(dataStr);\n    }\n    // #endregion\n\n    // #region private methods\n    // endregion\n}\n","\n/**\n * @summary URLからGETパラメータを取得\n * @param key 取得したいパラメーターのキー\n * @param url 任意のURLを（未指定の場合は現在のURL）\n */\nexport function getUrlParameter(key: string, url?: string): string\n{\n    // パラメーターを配列で取得する。\n    const text = url || location.search;\n    let str = text.split(\"?\");\n    if (str.length < 2)\n    {\n        return \"\";\n    }\n\n    let params = str[1].split(\"&\");\n    for (let i = 0; i < params.length; i++)\n    {\n        let keyVal = params[i].split(\"=\");\n        if (keyVal[0] === key && keyVal.length === 2)\n        {\n            return decodeURIComponent(keyVal[1]);\n        }\n    }\n    return \"\";\n}\n","import {getUrlParameter} from \"../utilities/StringUtility\";\n\n// ビデオコーデック\nconst VIDEO_CODEC_TYPES = {\n    VP8: \"VP8\",\n    VP9: \"VP9\",\n    H264: \"H264\"\n};\n\n// 画面共有通信のモード\nexport const SCREEN_SHARE_PEER_MODE: \"sfu\" | \"mesh\" | undefined = \"mesh\";\n// ビデオチャットの通信モード\nexport const VIDEO_CHAT_PEER_MODE: \"sfu\" | \"mesh\" | undefined = getUrlParameter(\"sfu\") === \"1\" ? \"sfu\" : \"mesh\";\n// 会議可能な人数\nexport const MAX_MEMBER_COUNT = 5;\n// 画面共有可能人数\nexport const MAX_SCREEN_SHARE_COUNT = 6;\n// ビデオコーデック\nexport const VIDEO_CODEC = VIDEO_CODEC_TYPES.VP8;\n// オーディオコーデック\nexport const AUDIO_CODEC = \"Opus\";\n\nexport const VIDEO_CHAT_SCREEN_WIDTH = 720;\n\nexport const VIDEO_CHAT_SCREEN_HEIGHT = 405;\n\n/**\n * エラーの種類とエラーメッセージ\n */\nexport const MediaErrorMessages = {\n    AbortError: \"デバイスの使用を妨げる何らかの事象が発生しました\",\n    NotAllowedError: \"デバイスの使用が許可されていません\",\n    NotFoundError: \"使用できるデバイスが見つかりません\",\n    NotReadableError: \"デバイスの読み取りができません\",\n    OverconstrainedError: \"必要な仕様を満たすデバイスが見つかりません\",\n    SecurityError: \"ユーザーメディアサポートが無効になっています\",\n    TypeError: \"不正な呼び出しをしています\",\n    SourceUnavailableError: \"デバイスの使用を妨げる何らかの事象が発生しました\"\n};\n","import Peer, {PeerCredential, MeshRoom, RoomStream} from \"skyway-js\";\n\nimport * as CONFIG from \"./WebRtcConfig\";\nimport {MultiCastDelegate} from \"../Core/Delegate\";\nimport {RtcMediaStreamWrapper, DeviceStreamManager} from \"./DeviceStreamManager\";\nimport {IDisposeable} from \"../Core/IDisposable\";\nimport {PeerStream} from \"./VideoChatRoom\";\n\n/**\n * @summary 画面共有の基底クラス\n */\nclass ScreenShareBase\n{\n    protected skywayPeer?: Peer = undefined;\n    protected skywayRoom?: MeshRoom = undefined;\n    protected apiKey: string = \"\";\n    protected _localStream?: RtcMediaStreamWrapper = undefined;\n    protected roomName: string = \"\";\n    public peerId: string = \"\";\n\n    /**\n     * 現在の送信用ストリーム\n     */\n    public get localStream(): RtcMediaStreamWrapper | undefined\n    {\n        return this._localStream;\n    }\n\n    /**\n     * @param {String} apiKey skywayのAPIキー\n     * @param {String} roomName 任意のルーム名\n     */\n    public constructor(apiKey: string, roomName: string)\n    {\n        if (!apiKey || apiKey === \"\")\n        {\n            throw new Error();\n        }\n\n        this.apiKey = apiKey;\n        this._localStream = undefined;\n        this.roomName = roomName;\n    }\n\n    /**\n     * 画面共有を終了する\n     */\n    public disconnect(): void\n    {\n        if (this.skywayRoom)\n        {\n            this.skywayRoom.close();\n            this.skywayRoom = undefined;\n        }\n        if (this.skywayPeer)\n        {\n            this.skywayPeer.destroy();\n            this.skywayPeer = undefined;\n        }\n        this._localStream = undefined;\n    }\n}\n\n/**\n * @summary 複数での画面共有送信用の接続\n */\nclass ScreenShareTransmitter extends ScreenShareBase\n{\n    /**\n     * 画面共有を開始する\n     */\n    public connect(stream: RtcMediaStreamWrapper): Promise<boolean>\n    {\n        return new Promise<boolean>(\n            resolve =>\n            {\n                this.skywayPeer = new Peer({\n                    key: this.apiKey,\n                    debug: 0\n                });\n                // Peerへ接続したとき\n                this.skywayPeer.on(\"open\", async id =>\n                {\n                    try\n                    {\n                        this._localStream = stream;\n                        this.peerId = id;\n\n                        (stream as any).oninactive = () =>\n                        {\n                            this.disconnect();\n                        };\n\n                        // SkyWayルームに入室し共有画面をセット\n                        this.skywayRoom = this.skywayPeer!.joinRoom(\n                            `room_${this.roomName}_screenshare`,\n                            {\n                                mode: CONFIG.VIDEO_CHAT_PEER_MODE,\n                                stream: stream.mediaStream,\n                                videoCodec: CONFIG.VIDEO_CODEC\n                            }\n                        ) as MeshRoom;\n                        this.peerId = this.skywayPeer!.id;\n                        resolve(true);\n                    }\n                    catch (ex)\n                    {\n                        logger.error(ex);\n                    }\n                    resolve(false);\n                });\n            }\n        );\n    }\n}\n\n/**\n * @summary 画面共有の接続を表すクラス\n */\nclass ScreenShareServer extends ScreenShareBase implements IDisposeable\n{\n    isDisposed: boolean = false;\n\n    /**\n     * ストリームを受け取ったときのイベントハンドラ\n     */\n    public onRecieveStreamHandler: MultiCastDelegate<(stream: RoomStream) => void>\n        = new MultiCastDelegate<(stream: RoomStream) => void>();\n\n    /**\n     * ストリームを離脱したときのイベントハンドラ\n     */\n    public onLeftStremHandler: MultiCastDelegate<(peerId: string) => void>\n        = new MultiCastDelegate<(peerId: string) => void>();\n\n    /**\n     * 画面共有中のStreamをremoteStreamListに格納するためのPeerへ接続\n     * @param onRecieveStream (stream) ストリームを新たに受け取ったときのコールバック\n     * @param onLeave (peerId) ルームからピアが離脱したときのコールバック\n     * @param isTransmit 画面を送信するかどうか\n     */\n    public connect(stream?: RtcMediaStreamWrapper): Promise<void>\n    {\n        return new Promise(resolve =>\n        {\n            this.skywayPeer = new Peer({\n                key: this.apiKey,\n                debug: 0\n            });\n            // Peerへ接続したとき\n            this.skywayPeer.on(\"open\", async (id: string) =>\n            {\n                this.peerId = id;\n                if (stream)\n                {\n                    this._localStream = stream;\n                }\n                // SkyWayルームに入室し共有画面をセット\n                this.skywayRoom = this.skywayPeer!.joinRoom(\n                    `room_${this.roomName}_screenshare`,\n                    {\n                        mode: CONFIG.SCREEN_SHARE_PEER_MODE,\n                        stream: stream && stream.mediaStream,\n                        videoCodec: CONFIG.VIDEO_CODEC,\n                        videoReceiveEnabled: !!stream\n                    }\n                ) as MeshRoom;\n                logger.log(this.skywayRoom);\n                /** 新たにストリームを受け取ったときのイベント */\n                this.skywayRoom.on(\"stream\", stream =>\n                {\n                    this.onRecieveStreamHandler.invoke(stream);\n                });\n\n                /** 相手の接続終了時の後処理 */\n                this.skywayRoom.on(\"peerLeave\", peerId =>\n                {\n                    this.onLeftStremHandler.invoke(peerId);\n                });\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * 画面共有を終了する\n     */\n    public dispose(): void\n    {\n        if (!this.isDisposed)\n        {\n            this.isDisposed = true;\n            super.disconnect();\n            this.onRecieveStreamHandler.dispose();\n            this.onLeftStremHandler.dispose();\n        }\n    }\n}\n\n/**\n * @summary 画面共有の接続をルームとして管理\n */\nexport class ScreenShareRoom\n{\n    // #region private fields\n    // 画面共有受信用\n    private _screenShareServer?: ScreenShareServer = undefined;\n    // 画面共有送信用\n    private _screenShareTransmitter?: ScreenShareTransmitter = undefined;\n    // apiKey\n    private _apiKey: string = \"\";\n    // ルーム名\n    private _roomName: string = \"\";\n    // 現在の画面共有の数\n    private _screenShareCount: number = 0;\n    // 送信が有効かどうか\n    private _isTransmitStreamEnabled: boolean = false;\n    // 表示用のストリームリスト\n    private _displayStreamList: MediaStream[] = [];\n    // 画面共有を送信中かどうか\n    private _isConnecting: boolean = false;\n    // 表示用のストリームが変化したときのイベント\n    private _onDisplayStreamListChanged: MultiCastDelegate<(displayStreamList: []) => void>\n        = new MultiCastDelegate<(displayStreamList: []) => void>();\n    // #endregion\n\n    // #region getters\n    /**\n     * 表示用Stream配列の状態が変化したとき\n     */\n    public get onDisplayStreamListChanged():\n        MultiCastDelegate<(displayStreamList: []) => void>\n    {\n        return this._onDisplayStreamListChanged;\n    }\n\n    /**\n     * APIキー\n     */\n    public get apiKey(): string\n    {\n        return this._apiKey;\n    }\n\n    /**\n     * ルーム名\n     */\n    public get roomName(): string\n    {\n        return this._roomName;\n    }\n\n    /**\n     * 現在の画面共有数\n     */\n    public get screenShareCount(): number\n    {\n        return this._screenShareCount;\n    }\n\n    /**\n     * ストリームが有効かどうか\n     */\n    public get isTransmitStreamEnabled(): boolean\n    {\n        return this._isTransmitStreamEnabled;\n    }\n    public set isTransmitStreamEnabled(isEnable: boolean)\n    {\n        let isChange = false;\n        const transmitter = this._screenShareTransmitter;\n        if (transmitter && transmitter.localStream)\n        {\n            transmitter.localStream.isVideoEnabled = isEnable;\n            this._isTransmitStreamEnabled = isEnable;\n        }\n        else\n        {\n            this._isTransmitStreamEnabled = false;\n        }\n    }\n\n    /**\n     * 画面共有中かどうか\n     */\n    public get isConnecting(): boolean\n    {\n        return this._isConnecting;\n    }\n\n    /**\n     * Streamを持っているかどうか\n     */\n    public get hasStream(): boolean\n    {\n        if (this._screenShareTransmitter)\n        {\n            return !!this._screenShareTransmitter.localStream;\n        }\n        return false;\n    }\n\n    /**\n     * Stream\n     */\n    public get stream(): RtcMediaStreamWrapper | undefined\n    {\n        if (this._screenShareServer && this._screenShareServer.localStream)\n        {\n            return this._screenShareServer.localStream;\n        }\n        return undefined;\n    }\n\n    /**\n     * 表示用のストリームリスト\n     */\n    public get displayStreamList(): MediaStream[]\n    {\n        return this._displayStreamList;\n    }\n    // #endregion\n\n    // #region public methods\n    /**\n     * コンストラクタ\n     * @param apiKey APIキー\n     * @param roomName ルーム名\n     */\n    public constructor(apiKey: string, roomName: string)\n    {\n        this._apiKey = apiKey;\n        this._roomName = roomName;\n        this._screenShareServer = new ScreenShareServer(apiKey, roomName);\n\n        // Streamが離脱したとき\n        this._screenShareServer.onLeftStremHandler.add((peerId: string | undefined) =>\n        {\n            // 画面から削除\n            this.removeFromDisplayStreamList(peerId);\n            this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n        });\n\n        // Streamを受け取ったとき\n        this._screenShareServer.onRecieveStreamHandler.add((stream: PeerStream) =>\n        {\n            if (this._screenShareTransmitter && stream.peerId === this._screenShareTransmitter.peerId)\n            {\n                return;\n            }\n            this._displayStreamList.push(stream);\n            this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n        });\n    }\n\n    /**\n     * 接続開始\n     */\n    public async connect(): Promise<void>\n    {\n        if (this._isConnecting)\n        {\n            throw Error(\"すでに接続中です。\");\n        }\n\n        if (this._screenShareServer)\n        {\n            try\n            {\n                await this._screenShareServer.connect();\n                logger.log(\"connect screen share\");\n                this._isConnecting = true;\n            }\n            catch (ex)\n            {\n                logger.error(ex);\n            }\n        }\n    }\n\n    public async beginScreenShare(stream: RtcMediaStreamWrapper): Promise<boolean>\n    {\n        const isSuccess = await this.addScreenShare(stream);\n        if (!isSuccess) return false;\n        this._isTransmitStreamEnabled = true;\n        this._displayStreamList.push(stream.mediaStream);\n        this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n        return true;\n    }\n\n    public endScreenShare()\n    {\n        if (this._screenShareTransmitter)\n        {\n            this._screenShareTransmitter.disconnect();\n        }\n        this.removeFromDisplayStreamList(\"\");\n        this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n        this._isTransmitStreamEnabled = false;\n    }\n\n    /**\n     * 画面共有を開始\n     * @returns 可能画面共有数が上限に達していたため失敗したかどうか\n     */\n    public async addScreenShare(streamWrapper: RtcMediaStreamWrapper): Promise<boolean>\n    {\n        // 画面共有開始\n        if (this._screenShareCount < CONFIG.MAX_SCREEN_SHARE_COUNT)\n        {\n            const transmitter = new ScreenShareTransmitter(this.apiKey, this._roomName);\n            const isSuccess = await transmitter.connect(streamWrapper);\n            if (!isSuccess) return false;\n            this._screenShareTransmitter = transmitter;\n            (streamWrapper.mediaStream as any).oninactive = () =>\n            {\n                transmitter.disconnect();\n                this._isTransmitStreamEnabled = false;\n                this.removeFromDisplayStreamList(\"\");\n                this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n            };\n            return true;\n        }\n        // 可能画面共有数が上限に達していた\n        return false;\n    }\n\n    /**\n     * 全ての画面共有を終了する\n     */\n    public dispose(): void\n    {\n        const transmitter = this._screenShareTransmitter;\n        if (transmitter)\n        {\n            transmitter.disconnect();\n        }\n        this._screenShareTransmitter = undefined;\n\n        if (this._screenShareServer !== undefined)\n        {\n            this._screenShareServer.dispose();\n        }\n\n        this._displayStreamList = [];\n        this._isConnecting = false;\n        this._isTransmitStreamEnabled = false;\n        this.onDisplayStreamListChanged.dispose();\n    }\n    // #endregion\n\n    // #region private methods\n    /**\n     * 表示用ストリームリストからストリームを削除\n     * @param peerId 削除するストリームのPeerId\n     */\n    private removeFromDisplayStreamList(peerId?: string)\n    {\n        const streamList = this._displayStreamList;\n        for (let key in streamList)\n        {\n            logger.log([peerId, streamList[key]]);\n            if (peerId === ((streamList[key] as any).peerId ? (streamList[key] as any).peerId : \"\"))\n            {\n                this._displayStreamList.splice(Number(key), 1);\n                return;\n            }\n        }\n    }\n    // #endregion\n}\n","/**\n * @summary 文字列を16進数に変換する処理をまとめたクラス\n */\nexport default class StringToHexEncoderUtility\n{\n    /**\n     * ニックネームからPeer ID を生成\n     * @param  name ニックネーム\n     * @returns Peer ID\n     */\n    static generatePeerId(name: string): string\n    {\n        const id = this.encodeStringToHex(name);\n        // 名前かぶりを防ぐため識別子を追加\n        return `${id}_${this.getRamdomString(3)}`;\n    }\n\n    /**\n     * Peer ID を名前にデコード\n     * @param  peerId\n     * @returns 名前\n     */\n    static decodePeerId(peerId: string): string\n    {\n        const decode = this.decodeStringFromHex(peerId);\n        if (typeof (decode) === \"string\")\n        {\n            const split = decode.split(\"_\");\n            return (split.length > 0) ? split[0] : \"\";\n        }\n        return \"\";\n    }\n\n    /**\n     * ランダムな文字を生成\n     * @param  length 文字の長さ\n     * @returns  ランダムな文字列\n     */\n    static getRamdomString(length: number): string\n    {\n        // 生成する文字列に含める文字セット\n        const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n        const cl = c.length;\n        let r = \"\";\n        for (let i = 0; i < length; i++)\n        {\n            r += c[Math.floor(Math.random() * cl)];\n        }\n        return r;\n    }\n\n    /**\n     * 文字列を16進数にエンコード\n     * @param  text 変化する文字列\n     * @returns  変換した文字列\n     */\n    static decodeStringFromHex(text: string): string | null\n    {\n        const bytes = this.hexStringToBytes(text);\n        const str = this.utf8BytesToString(bytes);\n        return str;\n    }\n\n    /**\n     * 16進数の文字列を文字列にデコード\n     * @param  text 変化する文字列\n     * @returns  変換した文字列\n     */\n    static encodeStringToHex(text: string): string\n    {\n        const bytes = this.stringToUtf8Bytes(text);\n        const hexStr = this.bytesToHexString(bytes);\n        return hexStr;\n    }\n\n    /**\n     * 文字列をUTF8のバイト配列に変換\n     * @param  text 変化する文字列\n     * @returns {Array<Number>} 変換した文字列\n     */\n    static stringToUtf8Bytes(text: string): number[]\n    {\n        const result: number[] = [];\n        if (text == null)\n        {\n            return result;\n        }\n\n        for (let i = 0; i < text.length; i++)\n        {\n            const c = text.charCodeAt(i);\n            if (c <= 0x7f)\n            {\n                result.push(c);\n            }\n            else if (c <= 0x07ff)\n            {\n                result.push(((c >> 6) & 0x1F) | 0xC0);\n                result.push((c & 0x3F) | 0x80);\n            }\n            else\n            {\n                result.push(((c >> 12) & 0x0F) | 0xE0);\n                result.push(((c >> 6) & 0x3F) | 0x80);\n                result.push((c & 0x3F) | 0x80);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * UTF8のバイト配列を文字列に変換\n     * @param arr UTF8のバイト配列\n     * @returns  変換された文字列\n     */\n    static utf8BytesToString(arr: number[]): string | null\n    {\n        if (arr === null)\n        {\n            return null;\n        }\n\n        let result = \"\";\n        let i = arr.shift();\n        while (i)\n        {\n            if (i <= 0x7f)\n            {\n                result += String.fromCharCode(i);\n            }\n            else if (i <= 0xdf)\n            {\n                let c = ((i & 0x1f) << 6);\n                c += (arr.shift() as number) & 0x3f;\n                result += String.fromCharCode(c);\n            }\n            else if (i <= 0xe0)\n            {\n                let c = (((arr.shift() as number) & 0x1f) << 6) | 0x0800;\n                c += (arr.shift() as number) & 0x3f;\n                result += String.fromCharCode(c);\n            }\n            else\n            {\n                let c = ((i & 0x0f) << 12);\n                c += ((arr.shift() as number) & 0x3f) << 6;\n                c += (arr.shift() as number) & 0x3f;\n                result += String.fromCharCode(c);\n            }\n            i = arr.shift();\n        }\n        return result;\n    }\n\n    /**\n     * バイト配列を16進文字列に変換\n     * @param  hexStr バイト配列\n     * @returns 16進数文字列\n     */\n    static hexStringToBytes(hexStr: any): number[]\n    {\n        const result = [];\n        for (let i = 0; i < hexStr.length; i += 2)\n        {\n            result.push(this.hexToByte(hexStr.substr(i, 2)));\n        }\n        return result;\n    }\n\n    /**\n     * 16進文字列をバイト値に変換\n     * @param  hexStr 16進文字列\n     * @return  バイト値\n     */\n    static hexToByte(hexStr: any): number\n    {\n        return parseInt(hexStr, 16);\n    }\n\n    /**\n     * バイト配列を16進文字列に変換\n     * @param bytes バイト配列\n     * @returns  16進数文字列\n     */\n    static bytesToHexString(bytes: Array<number>): string\n    {\n        var result = \"\";\n        for (var i = 0; i < bytes.length; i++)\n        {\n            result += this.byteToHex(bytes[i]);\n        }\n        return result;\n    }\n\n    /**\n     * バイト配列を16進文字列に変換\n     * @param  byteNum バイト値\n     * @returns  16進数文字列\n     */\n    static byteToHex(byteNum: number): string\n    {\n        var digits = (byteNum).toString(16);\n        if (byteNum < 16) return \"0\" + digits;\n        return digits;\n    }\n}\n","import Peer, {PeerCredential, SfuRoom, MeshRoom} from \"skyway-js\";\n\nimport * as CONFIG from \"./WebRtcConfig\";\nimport {MultiCastDelegate} from \"../Core/Delegate\";\nimport {RtcMediaStreamWrapper} from \"./DeviceStreamManager\";\nimport StringToHexEncoderUtility from \"../utilities/StringToHexEncoderUtility\";\n\nexport class PeerStream extends MediaStream\n{\n    peerId: string = \"\";\n}\n\n(window as any).AudioContext = (window as any).AudioContext || (window as any).webkitAudioContext;\n\n/**\n * @summary ビデオチャットの接続を提供します.\n */\nexport class VideoChatConnection\n{\n    // #region private field\n    // メンバー数\n    private _memberCount: number = 0;\n    // Peer Id\n    private _peerId: string = \"\";\n    // ニックネーム\n    private _nickName: string = \"\";\n    // apiKey\n    private _apiKey: string = \"\";\n    // Skyway Peer\n    private _skywayPeer?: Peer = undefined;\n    // Skyway Room\n    private _skywayRoom?: SfuRoom = undefined;\n    // バッファストリーム\n    private _bufferStream?: RtcMediaStreamWrapper = undefined;\n    // 表示用のストリームリスト\n    private _displayStreamList: PeerStream[] = [];\n    // 画面共有を送信中かどうか\n    private _isConnecting: boolean = false;\n    // 表示用のストリームが変化したときのイベント\n    private _onDisplayStreamListChanged: MultiCastDelegate<(displayStreamList: any) => void>\n        = new MultiCastDelegate<(displayStreamList: any) => void>();\n    // 誰かが入室した際の音\n    // private enterRoomSound: HTMLAudioElement;\n    // 誰かが退室した際の音\n    // private leaveRoomSound: HTMLAudioElement;\n    // ルームのキー\n    private _roomKey: string = \"\";\n    private metadata = {\n        message: \"aaaaaaaa\",\n        isAudioEnabled: false\n    }\n    // #endregion\n\n    // #region getters\n    /**\n     * @summary 表示用Stream配列の状態が変化したとき\n     */\n    public get onDisplayStreamListChanged():\n        MultiCastDelegate<(displayStreamList: any) => void>\n    {\n        return this._onDisplayStreamListChanged;\n    }\n\n    /**\n     * @summary APIキー\n     */\n    public get apiKey(): string\n    {\n        return this._apiKey;\n    }\n\n    /**\n     * @summary Peer Id\n     */\n    public get peerId(): string\n    {\n        return this._peerId;\n    }\n\n    /**\n     * @summary ニックネーム\n     */\n    public get nickName(): string\n    {\n        return this._nickName;\n    }\n\n    /**\n     * @summary 表示用ストリームのリスト\n     */\n    public get displayStreamList(): PeerStream[]\n    {\n        return this._displayStreamList;\n    }\n\n    /**\n     * @summary 現在参加しているメンバー数\n     */\n    public get memberCount(): number\n    {\n        return this._memberCount;\n    }\n\n    /**\n     * @summary 接続中かどうか\n     */\n    public get isConnecting(): boolean\n    {\n        return this._isConnecting;\n    }\n\n    /**\n     * @summary streamが存在するかどうか\n     */\n    public get hasStream(): boolean\n    {\n        if (this._bufferStream)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * @summary Stream\n     */\n    public get streamWrapper(): RtcMediaStreamWrapper | undefined\n    {\n        return this._bufferStream;\n    }\n\n    /**\n     * @summary ルームのキー\n     */\n    public get roomKey(): string\n    {\n        return this._roomKey;\n    }\n    // #endregion\n\n    // #region public methods\n    /**\n     * @summary コンストラクタ\n     * @param apiKey APIキー\n     * @param key ルームに接続するための一意のキー\n     */\n    public constructor(apiKey: string, key: string)\n    {\n        this._apiKey = apiKey;\n        this._roomKey = key;\n        // this.enterRoomSound = document.getElementById(\"enterRoomSound\") as HTMLAudioElement;\n        // this.leaveRoomSound = document.getElementById(\"leaveRoomSound\") as HTMLAudioElement;\n    }\n\n    /**\n     * @summary ルームへ接続\n     * @param stream 送信するストリーム\n     * @param nickName ニックネーム\n     */\n    public connect(stream: RtcMediaStreamWrapper | undefined, nickName: string): Promise<void>\n    {\n        if (this._isConnecting)\n        {\n            throw Error(\"既に接続中です。\");\n        }\n\n        return new Promise((resolve, reject) =>\n        {\n            this._isConnecting = true;\n            this._bufferStream = stream;\n            this._nickName = nickName;\n\n            const id = StringToHexEncoderUtility.generatePeerId(nickName);\n            this._peerId = id;\n            const peer = this._skywayPeer = new Peer(id, {\n                key: this.apiKey,\n                debug: 0,\n                turn: true,\n                config: {\n                    iceTransportPolicy: \"relay\"\n                }\n            });\n            // Peerへ接続したとき\n            peer.on(\"open\", () =>\n            {\n                // ルームへ入室\n                this._skywayRoom = this.joinRoom();\n                resolve();\n            });\n\n            // Peerへの接続失敗時\n            peer.on(\"error\", err =>\n            {\n                logger.error([\"Skyway connection error.\", err]);\n                reject(new Error(\"接続に失敗しました\"));\n            });\n        });\n    }\n\n    /**\n     * @summary ルームのストリームを置換します.\n     * @param stream 置換するストリーム\n     */\n    public setPeerStream(streamWrapper: RtcMediaStreamWrapper): void\n    {\n        this._bufferStream = streamWrapper;\n        if (this._skywayRoom !== undefined)\n        {\n            this._skywayRoom.replaceStream(streamWrapper.mediaStream);\n        }\n    }\n\n    /**\n     * @summary リロードします. ニックネームを変更する際は指定してください.\n     * @param nickName ニックネーム\n     */\n    public async reload(nickName?: string): Promise<void>\n    {\n        if (this._isConnecting)\n        {\n            logger.log(\"disconnect\");\n            await this.disconnect();\n            this.connect(this._bufferStream, nickName === undefined ? this._nickName : nickName);\n        }\n    }\n\n    /**\n     *  @summary 通信を終了します.\n     */\n    public disconnect(): Promise<void>\n    {\n        return new Promise(resolve =>\n        {\n            const room = this._skywayRoom;\n            if (room !== undefined)\n            {\n                room.close();\n                this._skywayRoom = undefined;\n            }\n            this._isConnecting = false;\n            for (let item of this._displayStreamList)\n            {\n                item.getAudioTracks().forEach(x => x.stop());\n                item.getVideoTracks().forEach(x => x.stop());\n            }\n            this._displayStreamList = [];\n            this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n\n            const peer = this._skywayPeer;\n            if (peer !== undefined)\n            {\n                peer.destroy();\n                this._skywayPeer = undefined;\n                resolve();\n            }\n        });\n    }\n    // #endregion\n\n    // #region private methods\n    /**\n     * @summary SkyWayルームへ入室します.\n     * @returns {SFURoom|MeshRoom}\n     */\n    private joinRoom(): SfuRoom | undefined\n    {\n        if (this._skywayPeer === undefined)\n        {\n            return undefined;\n        }\n        logger.log(`WebRTC通信モード：${CONFIG.VIDEO_CHAT_PEER_MODE}`);\n\n        let room = this._skywayPeer.joinRoom(\n            \"room_\" + this._roomKey,\n            {\n                mode: CONFIG.VIDEO_CHAT_PEER_MODE,\n                stream: this._bufferStream ? this._bufferStream.mediaStream : undefined,\n                videoCodec: CONFIG.VIDEO_CODEC\n            }\n        ) as SfuRoom;\n\n        // let isEnterPlaying = false;\n        // this.enterRoomSound.onended = () => (isEnterPlaying = false);\n        // 新たにストリームを受け取ったときのイベント\n        room.on(\"stream\", (stream: PeerStream) =>\n        {\n            if (!stream || !stream.active)\n            {\n                return;\n            }\n            this._displayStreamList.push(stream);\n            this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n            this._memberCount++;\n            // if (!isEnterPlaying)\n            // {\n            //     this.enterRoomSound.play();\n            // }\n        });\n\n        // let isLeavePlaying = false;\n        // this.leaveRoomSound.onended = () => (isLeavePlaying = false);\n        // 相手の接続終了時の後処理\n        room.on(\"peerLeave\", peerId =>\n        {\n            this._memberCount--;\n            this.removeFromDisplayStreamList(peerId);\n            // if (!isLeavePlaying)\n            // {\n            //     this.leaveRoomSound.play();\n            // }\n        });\n\n        return room;\n    }\n\n    /**\n     * @summary リモートストリームから離脱したPeerを削除\n     * @param peerId 削除するPeerID\n     */\n    private removeFromDisplayStreamList(peerId: string): void\n    {\n        const streams = this._displayStreamList;\n        for (let key in streams)\n        {\n            /** 離脱したPeerIdのストリームを削除 */\n            if (streams[key].peerId === peerId)\n            {\n                streams.splice(Number(key), 1);\n            }\n        }\n        this._onDisplayStreamListChanged.invoke(this._displayStreamList);\n    }\n    // #endregion\n}\n","import './setPublicPath'\nexport * from '~entry'\n"],"sourceRoot":""}